/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/css-loader/dist/cjs.js!./src/style.css":
/*!*************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/style.css ***!
  \*************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/sourceMaps.js */ \"./node_modules/css-loader/dist/runtime/sourceMaps.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ \"./node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/getUrl.js */ \"./node_modules/css-loader/dist/runtime/getUrl.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2__);\n// Imports\n\n\n\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! background.jpg */ \"./src/background.jpg\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(/* asset import */ __webpack_require__(/*! arrow-left-bold-outline.png */ \"./src/arrow-left-bold-outline.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(/* asset import */ __webpack_require__(/*! chess-pawn-white.png */ \"./src/chess-pawn-white.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(/* asset import */ __webpack_require__(/*! chess-rook-white.png */ \"./src/chess-rook-white.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(/* asset import */ __webpack_require__(/*! chess-knight-white.png */ \"./src/chess-knight-white.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_5___ = new URL(/* asset import */ __webpack_require__(/*! chess-bishop-white.png */ \"./src/chess-bishop-white.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_6___ = new URL(/* asset import */ __webpack_require__(/*! chess-queen-white.png */ \"./src/chess-queen-white.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_7___ = new URL(/* asset import */ __webpack_require__(/*! chess-king-white.png */ \"./src/chess-king-white.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_8___ = new URL(/* asset import */ __webpack_require__(/*! chess-pawn.png */ \"./src/chess-pawn.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_9___ = new URL(/* asset import */ __webpack_require__(/*! chess-rook.png */ \"./src/chess-rook.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_10___ = new URL(/* asset import */ __webpack_require__(/*! chess-knight.png */ \"./src/chess-knight.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_11___ = new URL(/* asset import */ __webpack_require__(/*! chess-bishop.png */ \"./src/chess-bishop.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_12___ = new URL(/* asset import */ __webpack_require__(/*! chess-queen.png */ \"./src/chess-queen.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_URL_IMPORT_13___ = new URL(/* asset import */ __webpack_require__(/*! chess-king.png */ \"./src/chess-king.png\"), __webpack_require__.b);\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_8___);\nvar ___CSS_LOADER_URL_REPLACEMENT_9___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_9___);\nvar ___CSS_LOADER_URL_REPLACEMENT_10___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_10___);\nvar ___CSS_LOADER_URL_REPLACEMENT_11___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_11___);\nvar ___CSS_LOADER_URL_REPLACEMENT_12___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_12___);\nvar ___CSS_LOADER_URL_REPLACEMENT_13___ = _node_modules_css_loader_dist_runtime_getUrl_js__WEBPACK_IMPORTED_MODULE_2___default()(___CSS_LOADER_URL_IMPORT_13___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `body {\n    margin: 0;\n    padding: 0;\n    min-height: 100vh;\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_0___});\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n    position: relative;\n    overflow: hidden;\n}\n\n.startcontainer {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: relative;\n    left: 0;\n    transition: left 1s;\n}\n\n.startcontainer.hidden {\n    left: -1920px;\n}\n\n.title {\n    font-size: 80px;\n}\n\n.battleplayerbutton {\n    width: 200px;\n    height: 25px;\n    margin-bottom: 25px;\n}\n\n.battlecomputerbutton {\n    width: 200px;\n    height: 25px;\n}\n\n.refreshcontainer {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: absolute;\n    top: 0px;\n    left: -1920px;\n    transition: left 1s;\n}\n\n.refreshcontainer.not-hidden {\n    left: 0px;\n}\n\n.refreshcontainer.not-hidden.hidden {\n    left: 1920px;\n}\n\n.newgamebutton {\n    width: 200px;\n    height: 25px;\n    margin-bottom: 25px;\n}\n\n.continuebutton {\n    width: 200px;\n    height: 25px;\n}\n\n.choosecolorcontainer {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    position: absolute;\n    top: 0px;\n    right: -1920px;\n    transition: right 1s;\n}\n\n.choosecolorcontainer.not-hidden {\n    right: 0px;\n}\n\n.choosecolorcontainer.not-hidden.hidden {\n    right: 1920px;\n}\n\n.choosecolorbackbuttoncontainer {\n    width: 100vw;\n}\n\n.choosecolorbackbutton {\n    width: 100px;\n    height: 100px;\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_1___});\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n}\n\n.choosecolortitle {\n    text-align: center;\n    font-size: 40px;\n}\n\n.choosewhite {\n    width: 50px;\n    height: 50px;\n    margin-bottom: 50px;\n    background-color: white;\n}\n\n.chooseblack {\n    width: 50px;\n    height: 50px;\n    background-color: black;\n}\n\n.gamecontainer {\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    width: 100vw;\n    position: absolute;\n    top: 0px;\n    right: -1920px;\n    transition: right 1s;\n}\n\n.gamecontainer.not-hidden {\n    right: 0px;\n}\n\n.gamebackbutton {\n    width: 100px;\n    height: 100px;\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_1___});\n    background-repeat: no-repeat;\n    background-position: center;\n    background-size: cover;\n}\n\n.currentplayercontainer {\n    display: flex;\n    justify-content: center;\n}\n\n.currentplayertitle {\n    font-size: 24px;\n}\n\n.boardcontainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex: 1 1 auto;\n}\n\n.board {\n    display: grid;\n    width: 30vw;\n    aspect-ratio: 1 / 1;\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n    grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\n    border: solid rgb(182,116,58);;\n}\n\n.boardsquarewhite {\n    background-color: rgb(244,220,160);\n    transition: background-color 0.5s;\n}\n\n.boardsquarewhite:hover {\n    background-color: rgb(255, 183, 0);\n}\n\n.boardsquareblack {\n    background-color: rgb(182,116,58);\n    transition: background-color 0.5s;\n}\n\n.boardsquareblack:hover {\n    background-color: rgb(185, 88, 0);\n}\n\n.boardsquarechosen {\n    border: solid red;\n}\n\n.boardsquarewhitepawn {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_2___});\n    background-repeat: no-repeat;\n    background-size: cover;\n}\n\n.boardsquarewhiterook {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_3___});\n    background-repeat: no-repeat;\n    background-size: cover;    \n}\n\n.boardsquarewhiteknight {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_4___});\n    background-repeat: no-repeat;\n    background-size: cover;    \n}\n\n.boardsquarewhitebishop {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_5___});\n    background-repeat: no-repeat;\n    background-size: cover;    \n}\n\n.boardsquarewhitequeen {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_6___});\n    background-repeat: no-repeat;\n    background-size: cover;    \n}\n\n.boardsquarewhiteking {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_7___});\n    background-repeat: no-repeat;\n    background-size: cover;    \n}\n\n.boardsquareblackpawn {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_8___});\n    background-repeat: no-repeat;\n    background-size: cover;\n}\n\n.boardsquareblackrook {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_9___});\n    background-repeat: no-repeat;\n    background-size: cover;    \n}\n\n.boardsquareblackknight {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_10___});\n    background-repeat: no-repeat;\n    background-size: cover;    \n}\n\n.boardsquareblackbishop {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_11___});\n    background-repeat: no-repeat;\n    background-size: cover;    \n}\n\n.boardsquareblackqueen {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_12___});\n    background-repeat: no-repeat;\n    background-size: cover;    \n}\n\n.boardsquareblackking {\n    background-image: url(${___CSS_LOADER_URL_REPLACEMENT_13___});\n    background-repeat: no-repeat;\n    background-size: cover;    \n}\n\n.optionscontainer {\n    display: flex;\n    justify-content: space-around;\n    padding-bottom: 10px;\n}\n\n.resignbutton, .drawbutton, .checkmatebutton, .undobutton {\n    height: 50px;\n    width: 150px;\n}\n\n.battleplayerbutton, .newgamebutton, .choosecolorbackbutton, .gamebackbutton, .drawbutton, .checkmatebutton {\n    border: solid rgb(244,220,160);\n    border-radius: 5px;\n    background-color: rgb(182,116,58);\n    transition: background-color 0.5s, border-color 0.5s;\n}\n\n.battleplayerbutton:hover, .newgamebutton:hover, .choosecolorbackbutton:hover, .gamebackbutton:hover, .drawbutton:hover, .checkmatebutton:hover {\n    background-color: rgb(185, 88, 0);\n    border-color: rgb(255, 183, 0);;\n}\n\n@media (max-width: 1230px) {\n    .board {\n        display: grid;\n        width: 50vw;\n    }\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/style.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,SAAS;IACT,UAAU;IACV,iBAAiB;IACjB,yDAAuC;IACvC,4BAA4B;IAC5B,2BAA2B;IAC3B,sBAAsB;IACtB,kBAAkB;IAClB,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,kBAAkB;IAClB,OAAO;IACP,mBAAmB;AACvB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,YAAY;IACZ,YAAY;IACZ,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,YAAY;AAChB;;AAEA;IACI,WAAW;IACX,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,kBAAkB;IAClB,QAAQ;IACR,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,SAAS;AACb;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,YAAY;IACZ,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,mBAAmB;IACnB,kBAAkB;IAClB,QAAQ;IACR,cAAc;IACd,oBAAoB;AACxB;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,yDAAoD;IACpD,4BAA4B;IAC5B,2BAA2B;IAC3B,sBAAsB;AAC1B;;AAEA;IACI,kBAAkB;IAClB,eAAe;AACnB;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,mBAAmB;IACnB,uBAAuB;AAC3B;;AAEA;IACI,WAAW;IACX,YAAY;IACZ,uBAAuB;AAC3B;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,aAAa;IACb,YAAY;IACZ,kBAAkB;IAClB,QAAQ;IACR,cAAc;IACd,oBAAoB;AACxB;;AAEA;IACI,UAAU;AACd;;AAEA;IACI,YAAY;IACZ,aAAa;IACb,yDAAoD;IACpD,4BAA4B;IAC5B,2BAA2B;IAC3B,sBAAsB;AAC1B;;AAEA;IACI,aAAa;IACb,uBAAuB;AAC3B;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,WAAW;IACX,mBAAmB;IACnB,sDAAsD;IACtD,mDAAmD;IACnD,6BAA6B;AACjC;;AAEA;IACI,kCAAkC;IAClC,iCAAiC;AACrC;;AAEA;IACI,kCAAkC;AACtC;;AAEA;IACI,iCAAiC;IACjC,iCAAiC;AACrC;;AAEA;IACI,iCAAiC;AACrC;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,yDAA6C;IAC7C,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,yDAA6C;IAC7C,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,yDAA+C;IAC/C,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,yDAA+C;IAC/C,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,yDAA8C;IAC9C,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,yDAA6C;IAC7C,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,yDAAuC;IACvC,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,yDAAuC;IACvC,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,0DAAyC;IACzC,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,0DAAyC;IACzC,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,0DAAwC;IACxC,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,0DAAuC;IACvC,4BAA4B;IAC5B,sBAAsB;AAC1B;;AAEA;IACI,aAAa;IACb,6BAA6B;IAC7B,oBAAoB;AACxB;;AAEA;IACI,YAAY;IACZ,YAAY;AAChB;;AAEA;IACI,8BAA8B;IAC9B,kBAAkB;IAClB,iCAAiC;IACjC,oDAAoD;AACxD;;AAEA;IACI,iCAAiC;IACjC,8BAA8B;AAClC;;AAEA;IACI;QACI,aAAa;QACb,WAAW;IACf;AACJ\",\"sourcesContent\":[\"body {\\n    margin: 0;\\n    padding: 0;\\n    min-height: 100vh;\\n    background-image: url(\\\"background.jpg\\\");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    background-size: cover;\\n    position: relative;\\n    overflow: hidden;\\n}\\n\\n.startcontainer {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    position: relative;\\n    left: 0;\\n    transition: left 1s;\\n}\\n\\n.startcontainer.hidden {\\n    left: -1920px;\\n}\\n\\n.title {\\n    font-size: 80px;\\n}\\n\\n.battleplayerbutton {\\n    width: 200px;\\n    height: 25px;\\n    margin-bottom: 25px;\\n}\\n\\n.battlecomputerbutton {\\n    width: 200px;\\n    height: 25px;\\n}\\n\\n.refreshcontainer {\\n    width: 100%;\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    position: absolute;\\n    top: 0px;\\n    left: -1920px;\\n    transition: left 1s;\\n}\\n\\n.refreshcontainer.not-hidden {\\n    left: 0px;\\n}\\n\\n.refreshcontainer.not-hidden.hidden {\\n    left: 1920px;\\n}\\n\\n.newgamebutton {\\n    width: 200px;\\n    height: 25px;\\n    margin-bottom: 25px;\\n}\\n\\n.continuebutton {\\n    width: 200px;\\n    height: 25px;\\n}\\n\\n.choosecolorcontainer {\\n    display: flex;\\n    flex-direction: column;\\n    align-items: center;\\n    position: absolute;\\n    top: 0px;\\n    right: -1920px;\\n    transition: right 1s;\\n}\\n\\n.choosecolorcontainer.not-hidden {\\n    right: 0px;\\n}\\n\\n.choosecolorcontainer.not-hidden.hidden {\\n    right: 1920px;\\n}\\n\\n.choosecolorbackbuttoncontainer {\\n    width: 100vw;\\n}\\n\\n.choosecolorbackbutton {\\n    width: 100px;\\n    height: 100px;\\n    background-image: url(\\\"arrow-left-bold-outline.png\\\");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    background-size: cover;\\n}\\n\\n.choosecolortitle {\\n    text-align: center;\\n    font-size: 40px;\\n}\\n\\n.choosewhite {\\n    width: 50px;\\n    height: 50px;\\n    margin-bottom: 50px;\\n    background-color: white;\\n}\\n\\n.chooseblack {\\n    width: 50px;\\n    height: 50px;\\n    background-color: black;\\n}\\n\\n.gamecontainer {\\n    display: flex;\\n    flex-direction: column;\\n    height: 100vh;\\n    width: 100vw;\\n    position: absolute;\\n    top: 0px;\\n    right: -1920px;\\n    transition: right 1s;\\n}\\n\\n.gamecontainer.not-hidden {\\n    right: 0px;\\n}\\n\\n.gamebackbutton {\\n    width: 100px;\\n    height: 100px;\\n    background-image: url(\\\"arrow-left-bold-outline.png\\\");\\n    background-repeat: no-repeat;\\n    background-position: center;\\n    background-size: cover;\\n}\\n\\n.currentplayercontainer {\\n    display: flex;\\n    justify-content: center;\\n}\\n\\n.currentplayertitle {\\n    font-size: 24px;\\n}\\n\\n.boardcontainer {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    flex: 1 1 auto;\\n}\\n\\n.board {\\n    display: grid;\\n    width: 30vw;\\n    aspect-ratio: 1 / 1;\\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\\n    grid-template-rows: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;\\n    border: solid rgb(182,116,58);;\\n}\\n\\n.boardsquarewhite {\\n    background-color: rgb(244,220,160);\\n    transition: background-color 0.5s;\\n}\\n\\n.boardsquarewhite:hover {\\n    background-color: rgb(255, 183, 0);\\n}\\n\\n.boardsquareblack {\\n    background-color: rgb(182,116,58);\\n    transition: background-color 0.5s;\\n}\\n\\n.boardsquareblack:hover {\\n    background-color: rgb(185, 88, 0);\\n}\\n\\n.boardsquarechosen {\\n    border: solid red;\\n}\\n\\n.boardsquarewhitepawn {\\n    background-image: url(\\\"chess-pawn-white.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;\\n}\\n\\n.boardsquarewhiterook {\\n    background-image: url(\\\"chess-rook-white.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;    \\n}\\n\\n.boardsquarewhiteknight {\\n    background-image: url(\\\"chess-knight-white.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;    \\n}\\n\\n.boardsquarewhitebishop {\\n    background-image: url(\\\"chess-bishop-white.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;    \\n}\\n\\n.boardsquarewhitequeen {\\n    background-image: url(\\\"chess-queen-white.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;    \\n}\\n\\n.boardsquarewhiteking {\\n    background-image: url(\\\"chess-king-white.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;    \\n}\\n\\n.boardsquareblackpawn {\\n    background-image: url(\\\"chess-pawn.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;\\n}\\n\\n.boardsquareblackrook {\\n    background-image: url(\\\"chess-rook.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;    \\n}\\n\\n.boardsquareblackknight {\\n    background-image: url(\\\"chess-knight.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;    \\n}\\n\\n.boardsquareblackbishop {\\n    background-image: url(\\\"chess-bishop.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;    \\n}\\n\\n.boardsquareblackqueen {\\n    background-image: url(\\\"chess-queen.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;    \\n}\\n\\n.boardsquareblackking {\\n    background-image: url(\\\"chess-king.png\\\");\\n    background-repeat: no-repeat;\\n    background-size: cover;    \\n}\\n\\n.optionscontainer {\\n    display: flex;\\n    justify-content: space-around;\\n    padding-bottom: 10px;\\n}\\n\\n.resignbutton, .drawbutton, .checkmatebutton, .undobutton {\\n    height: 50px;\\n    width: 150px;\\n}\\n\\n.battleplayerbutton, .newgamebutton, .choosecolorbackbutton, .gamebackbutton, .drawbutton, .checkmatebutton {\\n    border: solid rgb(244,220,160);\\n    border-radius: 5px;\\n    background-color: rgb(182,116,58);\\n    transition: background-color 0.5s, border-color 0.5s;\\n}\\n\\n.battleplayerbutton:hover, .newgamebutton:hover, .choosecolorbackbutton:hover, .gamebackbutton:hover, .drawbutton:hover, .checkmatebutton:hover {\\n    background-color: rgb(185, 88, 0);\\n    border-color: rgb(255, 183, 0);;\\n}\\n\\n@media (max-width: 1230px) {\\n    .board {\\n        display: grid;\\n        width: 50vw;\\n    }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3NyYy9zdHlsZS5jc3MiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQzBHO0FBQ2pCO0FBQ087QUFDaEcsNENBQTRDLDJHQUFpQztBQUM3RSw0Q0FBNEMscUlBQThDO0FBQzFGLDRDQUE0Qyx1SEFBdUM7QUFDbkYsNENBQTRDLHVIQUF1QztBQUNuRiw0Q0FBNEMsMkhBQXlDO0FBQ3JGLDRDQUE0QywySEFBeUM7QUFDckYsNENBQTRDLHlIQUF3QztBQUNwRiw0Q0FBNEMsdUhBQXVDO0FBQ25GLDRDQUE0QywyR0FBaUM7QUFDN0UsNENBQTRDLDJHQUFpQztBQUM3RSw2Q0FBNkMsK0dBQW1DO0FBQ2hGLDZDQUE2QywrR0FBbUM7QUFDaEYsNkNBQTZDLDZHQUFrQztBQUMvRSw2Q0FBNkMsMkdBQWlDO0FBQzlFLDhCQUE4QixtRkFBMkIsQ0FBQyw0RkFBcUM7QUFDL0YseUNBQXlDLHNGQUErQjtBQUN4RSx5Q0FBeUMsc0ZBQStCO0FBQ3hFLHlDQUF5QyxzRkFBK0I7QUFDeEUseUNBQXlDLHNGQUErQjtBQUN4RSx5Q0FBeUMsc0ZBQStCO0FBQ3hFLHlDQUF5QyxzRkFBK0I7QUFDeEUseUNBQXlDLHNGQUErQjtBQUN4RSx5Q0FBeUMsc0ZBQStCO0FBQ3hFLHlDQUF5QyxzRkFBK0I7QUFDeEUseUNBQXlDLHNGQUErQjtBQUN4RSwwQ0FBMEMsc0ZBQStCO0FBQ3pFLDBDQUEwQyxzRkFBK0I7QUFDekUsMENBQTBDLHNGQUErQjtBQUN6RSwwQ0FBMEMsc0ZBQStCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbUNBQW1DO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtQ0FBbUM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixtQ0FBbUM7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLG1DQUFtQztBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsbUNBQW1DO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixtQ0FBbUM7QUFDL0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLG1DQUFtQztBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsbUNBQW1DO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixtQ0FBbUM7QUFDL0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLG1DQUFtQztBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsbUNBQW1DO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixvQ0FBb0M7QUFDaEU7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLG9DQUFvQztBQUNoRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIsb0NBQW9DO0FBQ2hFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixvQ0FBb0M7QUFDaEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLE9BQU8sZ0ZBQWdGLFVBQVUsVUFBVSxZQUFZLGFBQWEsYUFBYSxhQUFhLGFBQWEsYUFBYSxhQUFhLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxhQUFhLFdBQVcsWUFBWSxPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUssVUFBVSxVQUFVLFlBQVksT0FBTyxLQUFLLFVBQVUsVUFBVSxPQUFPLEtBQUssVUFBVSxVQUFVLFlBQVksYUFBYSxhQUFhLFdBQVcsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxPQUFPLEtBQUssVUFBVSxVQUFVLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxhQUFhLFdBQVcsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxXQUFXLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxPQUFPLEtBQUssVUFBVSxZQUFZLFdBQVcsVUFBVSxZQUFZLFdBQVcsVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLE1BQU0sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssVUFBVSxZQUFZLE9BQU8sS0FBSyxVQUFVLE9BQU8sS0FBSyxVQUFVLFlBQVksYUFBYSxXQUFXLE9BQU8sS0FBSyxVQUFVLFVBQVUsWUFBWSxhQUFhLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLE9BQU8sS0FBSyxZQUFZLE9BQU8sS0FBSyxZQUFZLGFBQWEsT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxZQUFZLGFBQWEsYUFBYSxPQUFPLEtBQUssWUFBWSxhQUFhLGFBQWEsT0FBTyxLQUFLLFVBQVUsWUFBWSxhQUFhLE9BQU8sS0FBSyxVQUFVLFVBQVUsT0FBTyxLQUFLLFlBQVksYUFBYSxhQUFhLGFBQWEsT0FBTyxLQUFLLFlBQVksYUFBYSxPQUFPLEtBQUssS0FBSyxVQUFVLFVBQVUsS0FBSywrQkFBK0IsZ0JBQWdCLGlCQUFpQix3QkFBd0IsZ0RBQWdELG1DQUFtQyxrQ0FBa0MsNkJBQTZCLHlCQUF5Qix1QkFBdUIsR0FBRyxxQkFBcUIsb0JBQW9CLDZCQUE2QiwwQkFBMEIseUJBQXlCLGNBQWMsMEJBQTBCLEdBQUcsNEJBQTRCLG9CQUFvQixHQUFHLFlBQVksc0JBQXNCLEdBQUcseUJBQXlCLG1CQUFtQixtQkFBbUIsMEJBQTBCLEdBQUcsMkJBQTJCLG1CQUFtQixtQkFBbUIsR0FBRyx1QkFBdUIsa0JBQWtCLG9CQUFvQiw2QkFBNkIsMEJBQTBCLHlCQUF5QixlQUFlLG9CQUFvQiwwQkFBMEIsR0FBRyxrQ0FBa0MsZ0JBQWdCLEdBQUcseUNBQXlDLG1CQUFtQixHQUFHLG9CQUFvQixtQkFBbUIsbUJBQW1CLDBCQUEwQixHQUFHLHFCQUFxQixtQkFBbUIsbUJBQW1CLEdBQUcsMkJBQTJCLG9CQUFvQiw2QkFBNkIsMEJBQTBCLHlCQUF5QixlQUFlLHFCQUFxQiwyQkFBMkIsR0FBRyxzQ0FBc0MsaUJBQWlCLEdBQUcsNkNBQTZDLG9CQUFvQixHQUFHLHFDQUFxQyxtQkFBbUIsR0FBRyw0QkFBNEIsbUJBQW1CLG9CQUFvQiw2REFBNkQsbUNBQW1DLGtDQUFrQyw2QkFBNkIsR0FBRyx1QkFBdUIseUJBQXlCLHNCQUFzQixHQUFHLGtCQUFrQixrQkFBa0IsbUJBQW1CLDBCQUEwQiw4QkFBOEIsR0FBRyxrQkFBa0Isa0JBQWtCLG1CQUFtQiw4QkFBOEIsR0FBRyxvQkFBb0Isb0JBQW9CLDZCQUE2QixvQkFBb0IsbUJBQW1CLHlCQUF5QixlQUFlLHFCQUFxQiwyQkFBMkIsR0FBRywrQkFBK0IsaUJBQWlCLEdBQUcscUJBQXFCLG1CQUFtQixvQkFBb0IsNkRBQTZELG1DQUFtQyxrQ0FBa0MsNkJBQTZCLEdBQUcsNkJBQTZCLG9CQUFvQiw4QkFBOEIsR0FBRyx5QkFBeUIsc0JBQXNCLEdBQUcscUJBQXFCLG9CQUFvQiw4QkFBOEIsMEJBQTBCLHFCQUFxQixHQUFHLFlBQVksb0JBQW9CLGtCQUFrQiwwQkFBMEIsNkRBQTZELDBEQUEwRCxxQ0FBcUMsR0FBRyx1QkFBdUIseUNBQXlDLHdDQUF3QyxHQUFHLDZCQUE2Qix5Q0FBeUMsR0FBRyx1QkFBdUIsd0NBQXdDLHdDQUF3QyxHQUFHLDZCQUE2Qix3Q0FBd0MsR0FBRyx3QkFBd0Isd0JBQXdCLEdBQUcsMkJBQTJCLHNEQUFzRCxtQ0FBbUMsNkJBQTZCLEdBQUcsMkJBQTJCLHNEQUFzRCxtQ0FBbUMsaUNBQWlDLEdBQUcsNkJBQTZCLHdEQUF3RCxtQ0FBbUMsaUNBQWlDLEdBQUcsNkJBQTZCLHdEQUF3RCxtQ0FBbUMsaUNBQWlDLEdBQUcsNEJBQTRCLHVEQUF1RCxtQ0FBbUMsaUNBQWlDLEdBQUcsMkJBQTJCLHNEQUFzRCxtQ0FBbUMsaUNBQWlDLEdBQUcsMkJBQTJCLGdEQUFnRCxtQ0FBbUMsNkJBQTZCLEdBQUcsMkJBQTJCLGdEQUFnRCxtQ0FBbUMsaUNBQWlDLEdBQUcsNkJBQTZCLGtEQUFrRCxtQ0FBbUMsaUNBQWlDLEdBQUcsNkJBQTZCLGtEQUFrRCxtQ0FBbUMsaUNBQWlDLEdBQUcsNEJBQTRCLGlEQUFpRCxtQ0FBbUMsaUNBQWlDLEdBQUcsMkJBQTJCLGdEQUFnRCxtQ0FBbUMsaUNBQWlDLEdBQUcsdUJBQXVCLG9CQUFvQixvQ0FBb0MsMkJBQTJCLEdBQUcsK0RBQStELG1CQUFtQixtQkFBbUIsR0FBRyxpSEFBaUgscUNBQXFDLHlCQUF5Qix3Q0FBd0MsMkRBQTJELEdBQUcscUpBQXFKLHdDQUF3QyxzQ0FBc0MsR0FBRyxnQ0FBZ0MsY0FBYyx3QkFBd0Isc0JBQXNCLE9BQU8sR0FBRyxtQkFBbUI7QUFDM3VRO0FBQ0EsaUVBQWUsdUJBQXVCLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9zdHlsZS5jc3M/MjdhNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzBfX18gPSBuZXcgVVJMKFwiYmFja2dyb3VuZC5qcGdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyA9IG5ldyBVUkwoXCJhcnJvdy1sZWZ0LWJvbGQtb3V0bGluZS5wbmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMl9fXyA9IG5ldyBVUkwoXCJjaGVzcy1wYXduLXdoaXRlLnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8zX19fID0gbmV3IFVSTChcImNoZXNzLXJvb2std2hpdGUucG5nXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzRfX18gPSBuZXcgVVJMKFwiY2hlc3Mta25pZ2h0LXdoaXRlLnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF81X19fID0gbmV3IFVSTChcImNoZXNzLWJpc2hvcC13aGl0ZS5wbmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNl9fXyA9IG5ldyBVUkwoXCJjaGVzcy1xdWVlbi13aGl0ZS5wbmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfN19fXyA9IG5ldyBVUkwoXCJjaGVzcy1raW5nLXdoaXRlLnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF84X19fID0gbmV3IFVSTChcImNoZXNzLXBhd24ucG5nXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzlfX18gPSBuZXcgVVJMKFwiY2hlc3Mtcm9vay5wbmdcIiwgaW1wb3J0Lm1ldGEudXJsKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMTBfX18gPSBuZXcgVVJMKFwiY2hlc3Mta25pZ2h0LnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xMV9fXyA9IG5ldyBVUkwoXCJjaGVzcy1iaXNob3AucG5nXCIsIGltcG9ydC5tZXRhLnVybCk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEyX19fID0gbmV3IFVSTChcImNoZXNzLXF1ZWVuLnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8xM19fXyA9IG5ldyBVUkwoXCJjaGVzcy1raW5nLnBuZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzBfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8wX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xX19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfMV9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMl9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzJfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzNfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF8zX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF80X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfNF9fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfNV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzVfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzZfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF82X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF83X19fID0gX19fQ1NTX0xPQURFUl9HRVRfVVJMX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX1VSTF9JTVBPUlRfN19fXyk7XG52YXIgX19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfOF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzhfX18pO1xudmFyIF9fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzlfX18gPSBfX19DU1NfTE9BREVSX0dFVF9VUkxfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfVVJMX0lNUE9SVF85X19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMF9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEwX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMV9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzExX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMl9fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEyX19fKTtcbnZhciBfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xM19fXyA9IF9fX0NTU19MT0FERVJfR0VUX1VSTF9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9VUkxfSU1QT1JUXzEzX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgYm9keSB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWluLWhlaWdodDogMTAwdmg7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMF9fX30pO1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG59XG5cbi5zdGFydGNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIGxlZnQ6IDA7XG4gICAgdHJhbnNpdGlvbjogbGVmdCAxcztcbn1cblxuLnN0YXJ0Y29udGFpbmVyLmhpZGRlbiB7XG4gICAgbGVmdDogLTE5MjBweDtcbn1cblxuLnRpdGxlIHtcbiAgICBmb250LXNpemU6IDgwcHg7XG59XG5cbi5iYXR0bGVwbGF5ZXJidXR0b24ge1xuICAgIHdpZHRoOiAyMDBweDtcbiAgICBoZWlnaHQ6IDI1cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogMjVweDtcbn1cblxuLmJhdHRsZWNvbXB1dGVyYnV0dG9uIHtcbiAgICB3aWR0aDogMjAwcHg7XG4gICAgaGVpZ2h0OiAyNXB4O1xufVxuXG4ucmVmcmVzaGNvbnRhaW5lciB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMHB4O1xuICAgIGxlZnQ6IC0xOTIwcHg7XG4gICAgdHJhbnNpdGlvbjogbGVmdCAxcztcbn1cblxuLnJlZnJlc2hjb250YWluZXIubm90LWhpZGRlbiB7XG4gICAgbGVmdDogMHB4O1xufVxuXG4ucmVmcmVzaGNvbnRhaW5lci5ub3QtaGlkZGVuLmhpZGRlbiB7XG4gICAgbGVmdDogMTkyMHB4O1xufVxuXG4ubmV3Z2FtZWJ1dHRvbiB7XG4gICAgd2lkdGg6IDIwMHB4O1xuICAgIGhlaWdodDogMjVweDtcbiAgICBtYXJnaW4tYm90dG9tOiAyNXB4O1xufVxuXG4uY29udGludWVidXR0b24ge1xuICAgIHdpZHRoOiAyMDBweDtcbiAgICBoZWlnaHQ6IDI1cHg7XG59XG5cbi5jaG9vc2Vjb2xvcmNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMHB4O1xuICAgIHJpZ2h0OiAtMTkyMHB4O1xuICAgIHRyYW5zaXRpb246IHJpZ2h0IDFzO1xufVxuXG4uY2hvb3NlY29sb3Jjb250YWluZXIubm90LWhpZGRlbiB7XG4gICAgcmlnaHQ6IDBweDtcbn1cblxuLmNob29zZWNvbG9yY29udGFpbmVyLm5vdC1oaWRkZW4uaGlkZGVuIHtcbiAgICByaWdodDogMTkyMHB4O1xufVxuXG4uY2hvb3NlY29sb3JiYWNrYnV0dG9uY29udGFpbmVyIHtcbiAgICB3aWR0aDogMTAwdnc7XG59XG5cbi5jaG9vc2Vjb2xvcmJhY2tidXR0b24ge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzFfX199KTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xufVxuXG4uY2hvb3NlY29sb3J0aXRsZSB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIGZvbnQtc2l6ZTogNDBweDtcbn1cblxuLmNob29zZXdoaXRlIHtcbiAgICB3aWR0aDogNTBweDtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNTBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbn1cblxuLmNob29zZWJsYWNrIHtcbiAgICB3aWR0aDogNTBweDtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG59XG5cbi5nYW1lY29udGFpbmVyIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgaGVpZ2h0OiAxMDB2aDtcbiAgICB3aWR0aDogMTAwdnc7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogMHB4O1xuICAgIHJpZ2h0OiAtMTkyMHB4O1xuICAgIHRyYW5zaXRpb246IHJpZ2h0IDFzO1xufVxuXG4uZ2FtZWNvbnRhaW5lci5ub3QtaGlkZGVuIHtcbiAgICByaWdodDogMHB4O1xufVxuXG4uZ2FtZWJhY2tidXR0b24ge1xuICAgIHdpZHRoOiAxMDBweDtcbiAgICBoZWlnaHQ6IDEwMHB4O1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzFfX199KTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xufVxuXG4uY3VycmVudHBsYXllcmNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmN1cnJlbnRwbGF5ZXJ0aXRsZSB7XG4gICAgZm9udC1zaXplOiAyNHB4O1xufVxuXG4uYm9hcmRjb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBmbGV4OiAxIDEgYXV0bztcbn1cblxuLmJvYXJkIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIHdpZHRoOiAzMHZ3O1xuICAgIGFzcGVjdC1yYXRpbzogMSAvIDE7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyIDFmciAxZnIgMWZyIDFmciAxZnIgMWZyO1xuICAgIGdyaWQtdGVtcGxhdGUtcm93czogMWZyIDFmciAxZnIgMWZyIDFmciAxZnIgMWZyIDFmcjtcbiAgICBib3JkZXI6IHNvbGlkIHJnYigxODIsMTE2LDU4KTs7XG59XG5cbi5ib2FyZHNxdWFyZXdoaXRlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjQ0LDIyMCwxNjApO1xuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC41cztcbn1cblxuLmJvYXJkc3F1YXJld2hpdGU6aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDE4MywgMCk7XG59XG5cbi5ib2FyZHNxdWFyZWJsYWNrIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTgyLDExNiw1OCk7XG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjVzO1xufVxuXG4uYm9hcmRzcXVhcmVibGFjazpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE4NSwgODgsIDApO1xufVxuXG4uYm9hcmRzcXVhcmVjaG9zZW4ge1xuICAgIGJvcmRlcjogc29saWQgcmVkO1xufVxuXG4uYm9hcmRzcXVhcmV3aGl0ZXBhd24ge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzJfX199KTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG59XG5cbi5ib2FyZHNxdWFyZXdoaXRlcm9vayB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfM19fX30pO1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsgICAgXG59XG5cbi5ib2FyZHNxdWFyZXdoaXRla25pZ2h0IHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF80X19ffSk7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyAgICBcbn1cblxuLmJvYXJkc3F1YXJld2hpdGViaXNob3Age1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzVfX199KTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7ICAgIFxufVxuXG4uYm9hcmRzcXVhcmV3aGl0ZXF1ZWVuIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF82X19ffSk7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyAgICBcbn1cblxuLmJvYXJkc3F1YXJld2hpdGVraW5nIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF83X19ffSk7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyAgICBcbn1cblxuLmJvYXJkc3F1YXJlYmxhY2twYXduIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF84X19ffSk7XG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xufVxuXG4uYm9hcmRzcXVhcmVibGFja3Jvb2sge1xuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgke19fX0NTU19MT0FERVJfVVJMX1JFUExBQ0VNRU5UXzlfX199KTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7ICAgIFxufVxuXG4uYm9hcmRzcXVhcmVibGFja2tuaWdodCB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTBfX199KTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7ICAgIFxufVxuXG4uYm9hcmRzcXVhcmVibGFja2Jpc2hvcCB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTFfX199KTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7ICAgIFxufVxuXG4uYm9hcmRzcXVhcmVibGFja3F1ZWVuIHtcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtfX19DU1NfTE9BREVSX1VSTF9SRVBMQUNFTUVOVF8xMl9fX30pO1xuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsgICAgXG59XG5cbi5ib2FyZHNxdWFyZWJsYWNra2luZyB7XG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7X19fQ1NTX0xPQURFUl9VUkxfUkVQTEFDRU1FTlRfMTNfX199KTtcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7ICAgIFxufVxuXG4ub3B0aW9uc2NvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICBwYWRkaW5nLWJvdHRvbTogMTBweDtcbn1cblxuLnJlc2lnbmJ1dHRvbiwgLmRyYXdidXR0b24sIC5jaGVja21hdGVidXR0b24sIC51bmRvYnV0dG9uIHtcbiAgICBoZWlnaHQ6IDUwcHg7XG4gICAgd2lkdGg6IDE1MHB4O1xufVxuXG4uYmF0dGxlcGxheWVyYnV0dG9uLCAubmV3Z2FtZWJ1dHRvbiwgLmNob29zZWNvbG9yYmFja2J1dHRvbiwgLmdhbWViYWNrYnV0dG9uLCAuZHJhd2J1dHRvbiwgLmNoZWNrbWF0ZWJ1dHRvbiB7XG4gICAgYm9yZGVyOiBzb2xpZCByZ2IoMjQ0LDIyMCwxNjApO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTgyLDExNiw1OCk7XG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjVzLCBib3JkZXItY29sb3IgMC41cztcbn1cblxuLmJhdHRsZXBsYXllcmJ1dHRvbjpob3ZlciwgLm5ld2dhbWVidXR0b246aG92ZXIsIC5jaG9vc2Vjb2xvcmJhY2tidXR0b246aG92ZXIsIC5nYW1lYmFja2J1dHRvbjpob3ZlciwgLmRyYXdidXR0b246aG92ZXIsIC5jaGVja21hdGVidXR0b246aG92ZXIge1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigxODUsIDg4LCAwKTtcbiAgICBib3JkZXItY29sb3I6IHJnYigyNTUsIDE4MywgMCk7O1xufVxuXG5AbWVkaWEgKG1heC13aWR0aDogMTIzMHB4KSB7XG4gICAgLmJvYXJkIHtcbiAgICAgICAgZGlzcGxheTogZ3JpZDtcbiAgICAgICAgd2lkdGg6IDUwdnc7XG4gICAgfVxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLFNBQVM7SUFDVCxVQUFVO0lBQ1YsaUJBQWlCO0lBQ2pCLHlEQUF1QztJQUN2Qyw0QkFBNEI7SUFDNUIsMkJBQTJCO0lBQzNCLHNCQUFzQjtJQUN0QixrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLE9BQU87SUFDUCxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixtQkFBbUI7SUFDbkIsa0JBQWtCO0lBQ2xCLFFBQVE7SUFDUixhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksU0FBUztBQUNiOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0lBQ1osbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLGNBQWM7SUFDZCxvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixhQUFhO0lBQ2IseURBQW9EO0lBQ3BELDRCQUE0QjtJQUM1QiwyQkFBMkI7SUFDM0Isc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsYUFBYTtJQUNiLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLGNBQWM7SUFDZCxvQkFBb0I7QUFDeEI7O0FBRUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLHlEQUFvRDtJQUNwRCw0QkFBNEI7SUFDNUIsMkJBQTJCO0lBQzNCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsY0FBYztBQUNsQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixXQUFXO0lBQ1gsbUJBQW1CO0lBQ25CLHNEQUFzRDtJQUN0RCxtREFBbUQ7SUFDbkQsNkJBQTZCO0FBQ2pDOztBQUVBO0lBQ0ksa0NBQWtDO0lBQ2xDLGlDQUFpQztBQUNyQzs7QUFFQTtJQUNJLGtDQUFrQztBQUN0Qzs7QUFFQTtJQUNJLGlDQUFpQztJQUNqQyxpQ0FBaUM7QUFDckM7O0FBRUE7SUFDSSxpQ0FBaUM7QUFDckM7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSx5REFBNkM7SUFDN0MsNEJBQTRCO0lBQzVCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHlEQUE2QztJQUM3Qyw0QkFBNEI7SUFDNUIsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0kseURBQStDO0lBQy9DLDRCQUE0QjtJQUM1QixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSx5REFBK0M7SUFDL0MsNEJBQTRCO0lBQzVCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHlEQUE4QztJQUM5Qyw0QkFBNEI7SUFDNUIsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0kseURBQTZDO0lBQzdDLDRCQUE0QjtJQUM1QixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSx5REFBdUM7SUFDdkMsNEJBQTRCO0lBQzVCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHlEQUF1QztJQUN2Qyw0QkFBNEI7SUFDNUIsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksMERBQXlDO0lBQ3pDLDRCQUE0QjtJQUM1QixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSwwREFBeUM7SUFDekMsNEJBQTRCO0lBQzVCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLDBEQUF3QztJQUN4Qyw0QkFBNEI7SUFDNUIsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksMERBQXVDO0lBQ3ZDLDRCQUE0QjtJQUM1QixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsNkJBQTZCO0lBQzdCLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLFlBQVk7SUFDWixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksOEJBQThCO0lBQzlCLGtCQUFrQjtJQUNsQixpQ0FBaUM7SUFDakMsb0RBQW9EO0FBQ3hEOztBQUVBO0lBQ0ksaUNBQWlDO0lBQ2pDLDhCQUE4QjtBQUNsQzs7QUFFQTtJQUNJO1FBQ0ksYUFBYTtRQUNiLFdBQVc7SUFDZjtBQUNKXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImJvZHkge1xcbiAgICBtYXJnaW46IDA7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIG1pbi1oZWlnaHQ6IDEwMHZoO1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImJhY2tncm91bmQuanBnXFxcIik7XFxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xcbn1cXG5cXG4uc3RhcnRjb250YWluZXIge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHRyYW5zaXRpb246IGxlZnQgMXM7XFxufVxcblxcbi5zdGFydGNvbnRhaW5lci5oaWRkZW4ge1xcbiAgICBsZWZ0OiAtMTkyMHB4O1xcbn1cXG5cXG4udGl0bGUge1xcbiAgICBmb250LXNpemU6IDgwcHg7XFxufVxcblxcbi5iYXR0bGVwbGF5ZXJidXR0b24ge1xcbiAgICB3aWR0aDogMjAwcHg7XFxuICAgIGhlaWdodDogMjVweDtcXG4gICAgbWFyZ2luLWJvdHRvbTogMjVweDtcXG59XFxuXFxuLmJhdHRsZWNvbXB1dGVyYnV0dG9uIHtcXG4gICAgd2lkdGg6IDIwMHB4O1xcbiAgICBoZWlnaHQ6IDI1cHg7XFxufVxcblxcbi5yZWZyZXNoY29udGFpbmVyIHtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgdG9wOiAwcHg7XFxuICAgIGxlZnQ6IC0xOTIwcHg7XFxuICAgIHRyYW5zaXRpb246IGxlZnQgMXM7XFxufVxcblxcbi5yZWZyZXNoY29udGFpbmVyLm5vdC1oaWRkZW4ge1xcbiAgICBsZWZ0OiAwcHg7XFxufVxcblxcbi5yZWZyZXNoY29udGFpbmVyLm5vdC1oaWRkZW4uaGlkZGVuIHtcXG4gICAgbGVmdDogMTkyMHB4O1xcbn1cXG5cXG4ubmV3Z2FtZWJ1dHRvbiB7XFxuICAgIHdpZHRoOiAyMDBweDtcXG4gICAgaGVpZ2h0OiAyNXB4O1xcbiAgICBtYXJnaW4tYm90dG9tOiAyNXB4O1xcbn1cXG5cXG4uY29udGludWVidXR0b24ge1xcbiAgICB3aWR0aDogMjAwcHg7XFxuICAgIGhlaWdodDogMjVweDtcXG59XFxuXFxuLmNob29zZWNvbG9yY29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDBweDtcXG4gICAgcmlnaHQ6IC0xOTIwcHg7XFxuICAgIHRyYW5zaXRpb246IHJpZ2h0IDFzO1xcbn1cXG5cXG4uY2hvb3NlY29sb3Jjb250YWluZXIubm90LWhpZGRlbiB7XFxuICAgIHJpZ2h0OiAwcHg7XFxufVxcblxcbi5jaG9vc2Vjb2xvcmNvbnRhaW5lci5ub3QtaGlkZGVuLmhpZGRlbiB7XFxuICAgIHJpZ2h0OiAxOTIwcHg7XFxufVxcblxcbi5jaG9vc2Vjb2xvcmJhY2tidXR0b25jb250YWluZXIge1xcbiAgICB3aWR0aDogMTAwdnc7XFxufVxcblxcbi5jaG9vc2Vjb2xvcmJhY2tidXR0b24ge1xcbiAgICB3aWR0aDogMTAwcHg7XFxuICAgIGhlaWdodDogMTAwcHg7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiYXJyb3ctbGVmdC1ib2xkLW91dGxpbmUucG5nXFxcIik7XFxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjtcXG59XFxuXFxuLmNob29zZWNvbG9ydGl0bGUge1xcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAgIGZvbnQtc2l6ZTogNDBweDtcXG59XFxuXFxuLmNob29zZXdoaXRlIHtcXG4gICAgd2lkdGg6IDUwcHg7XFxuICAgIGhlaWdodDogNTBweDtcXG4gICAgbWFyZ2luLWJvdHRvbTogNTBweDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxufVxcblxcbi5jaG9vc2VibGFjayB7XFxuICAgIHdpZHRoOiA1MHB4O1xcbiAgICBoZWlnaHQ6IDUwcHg7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IGJsYWNrO1xcbn1cXG5cXG4uZ2FtZWNvbnRhaW5lciB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgIGhlaWdodDogMTAwdmg7XFxuICAgIHdpZHRoOiAxMDB2dztcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICB0b3A6IDBweDtcXG4gICAgcmlnaHQ6IC0xOTIwcHg7XFxuICAgIHRyYW5zaXRpb246IHJpZ2h0IDFzO1xcbn1cXG5cXG4uZ2FtZWNvbnRhaW5lci5ub3QtaGlkZGVuIHtcXG4gICAgcmlnaHQ6IDBweDtcXG59XFxuXFxuLmdhbWViYWNrYnV0dG9uIHtcXG4gICAgd2lkdGg6IDEwMHB4O1xcbiAgICBoZWlnaHQ6IDEwMHB4O1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImFycm93LWxlZnQtYm9sZC1vdXRsaW5lLnBuZ1xcXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XFxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XFxufVxcblxcbi5jdXJyZW50cGxheWVyY29udGFpbmVyIHtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxufVxcblxcbi5jdXJyZW50cGxheWVydGl0bGUge1xcbiAgICBmb250LXNpemU6IDI0cHg7XFxufVxcblxcbi5ib2FyZGNvbnRhaW5lciB7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICBmbGV4OiAxIDEgYXV0bztcXG59XFxuXFxuLmJvYXJkIHtcXG4gICAgZGlzcGxheTogZ3JpZDtcXG4gICAgd2lkdGg6IDMwdnc7XFxuICAgIGFzcGVjdC1yYXRpbzogMSAvIDE7XFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmciAxZnIgMWZyIDFmciAxZnIgMWZyIDFmcjtcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAxZnIgMWZyIDFmciAxZnIgMWZyIDFmciAxZnIgMWZyO1xcbiAgICBib3JkZXI6IHNvbGlkIHJnYigxODIsMTE2LDU4KTs7XFxufVxcblxcbi5ib2FyZHNxdWFyZXdoaXRlIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0NCwyMjAsMTYwKTtcXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjVzO1xcbn1cXG5cXG4uYm9hcmRzcXVhcmV3aGl0ZTpob3ZlciB7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDE4MywgMCk7XFxufVxcblxcbi5ib2FyZHNxdWFyZWJsYWNrIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE4MiwxMTYsNTgpO1xcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuNXM7XFxufVxcblxcbi5ib2FyZHNxdWFyZWJsYWNrOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE4NSwgODgsIDApO1xcbn1cXG5cXG4uYm9hcmRzcXVhcmVjaG9zZW4ge1xcbiAgICBib3JkZXI6IHNvbGlkIHJlZDtcXG59XFxuXFxuLmJvYXJkc3F1YXJld2hpdGVwYXduIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJjaGVzcy1wYXduLXdoaXRlLnBuZ1xcXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbn1cXG5cXG4uYm9hcmRzcXVhcmV3aGl0ZXJvb2sge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImNoZXNzLXJvb2std2hpdGUucG5nXFxcIik7XFxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7ICAgIFxcbn1cXG5cXG4uYm9hcmRzcXVhcmV3aGl0ZWtuaWdodCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiY2hlc3Mta25pZ2h0LXdoaXRlLnBuZ1xcXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyAgICBcXG59XFxuXFxuLmJvYXJkc3F1YXJld2hpdGViaXNob3Age1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImNoZXNzLWJpc2hvcC13aGl0ZS5wbmdcXFwiKTtcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsgICAgXFxufVxcblxcbi5ib2FyZHNxdWFyZXdoaXRlcXVlZW4ge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImNoZXNzLXF1ZWVuLXdoaXRlLnBuZ1xcXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyAgICBcXG59XFxuXFxuLmJvYXJkc3F1YXJld2hpdGVraW5nIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJjaGVzcy1raW5nLXdoaXRlLnBuZ1xcXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyAgICBcXG59XFxuXFxuLmJvYXJkc3F1YXJlYmxhY2twYXduIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJjaGVzcy1wYXduLnBuZ1xcXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xcbn1cXG5cXG4uYm9hcmRzcXVhcmVibGFja3Jvb2sge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImNoZXNzLXJvb2sucG5nXFxcIik7XFxuICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XFxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7ICAgIFxcbn1cXG5cXG4uYm9hcmRzcXVhcmVibGFja2tuaWdodCB7XFxuICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcXFwiY2hlc3Mta25pZ2h0LnBuZ1xcXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyAgICBcXG59XFxuXFxuLmJvYXJkc3F1YXJlYmxhY2tiaXNob3Age1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImNoZXNzLWJpc2hvcC5wbmdcXFwiKTtcXG4gICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcXG4gICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsgICAgXFxufVxcblxcbi5ib2FyZHNxdWFyZWJsYWNrcXVlZW4ge1xcbiAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXFxcImNoZXNzLXF1ZWVuLnBuZ1xcXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyAgICBcXG59XFxuXFxuLmJvYXJkc3F1YXJlYmxhY2traW5nIHtcXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFxcXCJjaGVzcy1raW5nLnBuZ1xcXCIpO1xcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyAgICBcXG59XFxuXFxuLm9wdGlvbnNjb250YWluZXIge1xcbiAgICBkaXNwbGF5OiBmbGV4O1xcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcXG4gICAgcGFkZGluZy1ib3R0b206IDEwcHg7XFxufVxcblxcbi5yZXNpZ25idXR0b24sIC5kcmF3YnV0dG9uLCAuY2hlY2ttYXRlYnV0dG9uLCAudW5kb2J1dHRvbiB7XFxuICAgIGhlaWdodDogNTBweDtcXG4gICAgd2lkdGg6IDE1MHB4O1xcbn1cXG5cXG4uYmF0dGxlcGxheWVyYnV0dG9uLCAubmV3Z2FtZWJ1dHRvbiwgLmNob29zZWNvbG9yYmFja2J1dHRvbiwgLmdhbWViYWNrYnV0dG9uLCAuZHJhd2J1dHRvbiwgLmNoZWNrbWF0ZWJ1dHRvbiB7XFxuICAgIGJvcmRlcjogc29saWQgcmdiKDI0NCwyMjAsMTYwKTtcXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMTgyLDExNiw1OCk7XFxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC41cywgYm9yZGVyLWNvbG9yIDAuNXM7XFxufVxcblxcbi5iYXR0bGVwbGF5ZXJidXR0b246aG92ZXIsIC5uZXdnYW1lYnV0dG9uOmhvdmVyLCAuY2hvb3NlY29sb3JiYWNrYnV0dG9uOmhvdmVyLCAuZ2FtZWJhY2tidXR0b246aG92ZXIsIC5kcmF3YnV0dG9uOmhvdmVyLCAuY2hlY2ttYXRlYnV0dG9uOmhvdmVyIHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE4NSwgODgsIDApO1xcbiAgICBib3JkZXItY29sb3I6IHJnYigyNTUsIDE4MywgMCk7O1xcbn1cXG5cXG5AbWVkaWEgKG1heC13aWR0aDogMTIzMHB4KSB7XFxuICAgIC5ib2FyZCB7XFxuICAgICAgICBkaXNwbGF5OiBncmlkO1xcbiAgICAgICAgd2lkdGg6IDUwdnc7XFxuICAgIH1cXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/cjs.js!./src/style.css\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/api.js":
/*!*****************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/api.js ***!
  \*****************************************************/
/***/ ((module) => {

eval("\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHFCQUFxQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzRkFBc0YscUJBQXFCO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixpREFBaUQscUJBQXFCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixzREFBc0QscUJBQXFCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanM/MjRmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/api.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/getUrl.js":
/*!********************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/getUrl.js ***!
  \********************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvZ2V0VXJsLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanM/MWRlNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7fTtcbiAgfVxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdXJsID0gU3RyaW5nKHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmwpO1xuXG4gIC8vIElmIHVybCBpcyBhbHJlYWR5IHdyYXBwZWQgaW4gcXVvdGVzLCByZW1vdmUgdGhlbVxuICBpZiAoL15bJ1wiXS4qWydcIl0kLy50ZXN0KHVybCkpIHtcbiAgICB1cmwgPSB1cmwuc2xpY2UoMSwgLTEpO1xuICB9XG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9XG5cbiAgLy8gU2hvdWxkIHVybCBiZSB3cmFwcGVkP1xuICAvLyBTZWUgaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzcy12YWx1ZXMtMy8jdXJsc1xuICBpZiAoL1tcIicoKSBcXHRcXG5dfCglMjApLy50ZXN0KHVybCkgfHwgb3B0aW9ucy5uZWVkUXVvdGVzKSB7XG4gICAgcmV0dXJuIFwiXFxcIlwiLmNvbmNhdCh1cmwucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpLnJlcGxhY2UoL1xcbi9nLCBcIlxcXFxuXCIpLCBcIlxcXCJcIik7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/getUrl.js\n");

/***/ }),

/***/ "./node_modules/css-loader/dist/runtime/sourceMaps.js":
/*!************************************************************!*\
  !*** ./node_modules/css-loader/dist/runtime/sourceMaps.js ***!
  \************************************************************/
/***/ ((module) => {

eval("\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGNBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanM/YWYxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/css-loader/dist/runtime/sourceMaps.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js":
/*!****************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!
  \****************************************************************************/
/***/ ((module) => {

eval("\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdCQUF3QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQkFBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw0QkFBNEI7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2QkFBNkI7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcz8yZGJhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiB1cGRhdGVyO1xufVxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertBySelector.js":
/*!********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertBySelector.js ***!
  \********************************************************************/
/***/ ((module) => {

eval("\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcz9iMjE0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG5cbiAgICAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertBySelector.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/insertStyleElement.js":
/*!**********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/insertStyleElement.js ***!
  \**********************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzP2RlNmMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/insertStyleElement.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js ***!
  \**********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce =  true ? __webpack_require__.nc : 0;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWI7QUFDQTtBQUNBLGNBQWMsS0FBd0MsR0FBRyxzQkFBaUIsR0FBRyxDQUFJO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcz9kZGNlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleDomAPI.js":
/*!***************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleDomAPI.js ***!
  \***************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRjtBQUNqRjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanM/ZTQ3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG4gIGNzcyArPSBvYmouY3NzO1xuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9XG5cbiAgLy8gRm9yIG9sZCBJRVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHt9XG4gICAgfTtcbiAgfVxuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleDomAPI.js\n");

/***/ }),

/***/ "./node_modules/style-loader/dist/runtime/styleTagTransform.js":
/*!*********************************************************************!*\
  !*** ./node_modules/style-loader/dist/runtime/styleTagTransform.js ***!
  \*********************************************************************/
/***/ ((module) => {

eval("\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanM/MWRkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/style-loader/dist/runtime/styleTagTransform.js\n");

/***/ }),

/***/ "./src/arrow-left-bold-outline.png":
/*!*****************************************!*\
  !*** ./src/arrow-left-bold-outline.png ***!
  \*****************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "e4b38dbe149fdcb650c7.png";

/***/ }),

/***/ "./src/background.jpg":
/*!****************************!*\
  !*** ./src/background.jpg ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "3ce413cf64974ed970a6.jpg";

/***/ }),

/***/ "./src/chess-bishop-white.png":
/*!************************************!*\
  !*** ./src/chess-bishop-white.png ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "486a0746036d48df1af6.png";

/***/ }),

/***/ "./src/chess-bishop.png":
/*!******************************!*\
  !*** ./src/chess-bishop.png ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "6d32bdc33a0681e61fa6.png";

/***/ }),

/***/ "./src/chess-king-white.png":
/*!**********************************!*\
  !*** ./src/chess-king-white.png ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "d9aecce6436f68ae19fe.png";

/***/ }),

/***/ "./src/chess-king.png":
/*!****************************!*\
  !*** ./src/chess-king.png ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "71ddac647a2ac47ac457.png";

/***/ }),

/***/ "./src/chess-knight-white.png":
/*!************************************!*\
  !*** ./src/chess-knight-white.png ***!
  \************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "7bf8de9d2dcd875b785d.png";

/***/ }),

/***/ "./src/chess-knight.png":
/*!******************************!*\
  !*** ./src/chess-knight.png ***!
  \******************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "8fea0f71ffcf158915f5.png";

/***/ }),

/***/ "./src/chess-pawn-white.png":
/*!**********************************!*\
  !*** ./src/chess-pawn-white.png ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "14dd34782588223e54ea.png";

/***/ }),

/***/ "./src/chess-pawn.png":
/*!****************************!*\
  !*** ./src/chess-pawn.png ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "c95bf221753d6d56fdf4.png";

/***/ }),

/***/ "./src/chess-queen-white.png":
/*!***********************************!*\
  !*** ./src/chess-queen-white.png ***!
  \***********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "6115262c3f7e2ba4794f.png";

/***/ }),

/***/ "./src/chess-queen.png":
/*!*****************************!*\
  !*** ./src/chess-queen.png ***!
  \*****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "cd5280c01b1f97a7b4a3.png";

/***/ }),

/***/ "./src/chess-rook-white.png":
/*!**********************************!*\
  !*** ./src/chess-rook-white.png ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "cd07cc99f23406283d33.png";

/***/ }),

/***/ "./src/chess-rook.png":
/*!****************************!*\
  !*** ./src/chess-rook.png ***!
  \****************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__.p + "808f277c6770afa4cf77.png";

/***/ }),

/***/ "./src/dom.js":
/*!********************!*\
  !*** ./src/dom.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chooseOpponent: () => (/* binding */ chooseOpponent),\n/* harmony export */   displayGameboard: () => (/* binding */ displayGameboard)\n/* harmony export */ });\n/* harmony import */ var _javascript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./javascript */ \"./src/javascript.js\");\n\n\nconst board = document.querySelector(\".board\");\n\nlet curSquare = null;\n\nlet gameStarted = false;\n\nlet wPawn1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 1);\nlet wPawn2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 2);\nlet wPawn3 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 3);\nlet wPawn4 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 4);\nlet wPawn5 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 5);\nlet wPawn6 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 6);\nlet wPawn7 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 7);\nlet wPawn8 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 8);\nlet wRook1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"R\", 1);\nlet wKnight1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"N\", 1);\nlet wBishop1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"B\", 1);\nlet wQueen = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"Q\");\nlet wKing = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"K\");\nlet wRook2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"R\", 2);\nlet wKnight2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"N\", 2);\nlet wBishop2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"B\", 2);\n\nlet bPawn1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 1);\nlet bPawn2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 2);\nlet bPawn3 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 3);\nlet bPawn4 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 4);\nlet bPawn5 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 5);\nlet bPawn6 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 6);\nlet bPawn7 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 7);\nlet bPawn8 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 8);\nlet bRook1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"R\", 1);\nlet bKnight1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"N\", 1);\nlet bBishop1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"B\", 1);\nlet bQueen = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"Q\");\nlet bKing = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"K\");\nlet bRook2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"R\", 2);\nlet bKnight2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"N\", 2);\nlet bBishop2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"B\", 2);\n\nlet pieceArray = [];\n\npieceArray.push(wPawn1);\npieceArray.push(wPawn2);\npieceArray.push(wPawn3);\npieceArray.push(wPawn4);\npieceArray.push(wPawn5);\npieceArray.push(wPawn6);\npieceArray.push(wPawn7);\npieceArray.push(wPawn8);\npieceArray.push(wRook1);\npieceArray.push(wKnight1);\npieceArray.push(wBishop1);\npieceArray.push(wQueen);\npieceArray.push(wKing);\npieceArray.push(wRook2);\npieceArray.push(wKnight2);\npieceArray.push(wBishop2);\n\npieceArray.push(bPawn1);\npieceArray.push(bPawn2);\npieceArray.push(bPawn3);\npieceArray.push(bPawn4);\npieceArray.push(bPawn5);\npieceArray.push(bPawn6);\npieceArray.push(bPawn7);\npieceArray.push(bPawn8);\npieceArray.push(bRook1);\npieceArray.push(bKnight1);\npieceArray.push(bBishop1);\npieceArray.push(bQueen);\npieceArray.push(bKing);\npieceArray.push(bRook2);\npieceArray.push(bKnight2);\npieceArray.push(bBishop2);\n\nfunction displayGameboard(gameboard) {\n    for (let i = 0; i < 8; i++) {\n        const boardSquare = document.createElement(\"div\");\n        boardSquare.classList.add(`a${i}`);\n        boardSquare.classList.add('boardsquare');\n\n        if (i % 2 == 0) {\n            boardSquare.classList.add(`boardsquarewhite`);\n        }\n\n        else if (i % 2 == 1) {\n            boardSquare.classList.add(`boardsquareblack`);\n        }\n\n        board.appendChild(boardSquare);\n    }\n\n    for (let i = 8; i < 16; i++) {\n        const boardSquare = document.createElement(\"div\");\n        boardSquare.classList.add(`a${i}`);\n        boardSquare.classList.add('boardsquare');\n\n        if (i % 2 == 0) {\n            boardSquare.classList.add(`boardsquareblack`);\n        }\n\n        else if (i % 2 == 1) {\n            boardSquare.classList.add(`boardsquarewhite`);\n        }\n\n        board.appendChild(boardSquare);\n    }\n\n    for (let i = 16; i < 24; i++) {\n        const boardSquare = document.createElement(\"div\");\n        boardSquare.classList.add(`a${i}`);\n        boardSquare.classList.add('boardsquare');\n\n        if (i % 2 == 0) {\n            boardSquare.classList.add(`boardsquarewhite`);\n        }\n\n        else if (i % 2 == 1) {\n            boardSquare.classList.add(`boardsquareblack`);\n        }\n\n        board.appendChild(boardSquare);\n    }\n\n    for (let i = 24; i < 32; i++) {\n        const boardSquare = document.createElement(\"div\");\n        boardSquare.classList.add(`a${i}`);\n        boardSquare.classList.add('boardsquare');\n\n        if (i % 2 == 0) {\n            boardSquare.classList.add(`boardsquareblack`);\n        }\n\n        else if (i % 2 == 1) {\n            boardSquare.classList.add(`boardsquarewhite`);\n        }\n\n        board.appendChild(boardSquare);\n    }\n\n    for (let i = 32; i < 40; i++) {\n        const boardSquare = document.createElement(\"div\");\n        boardSquare.classList.add(`a${i}`);\n        boardSquare.classList.add('boardsquare');\n\n        if (i % 2 == 0) {\n            boardSquare.classList.add(`boardsquarewhite`);\n        }\n\n        else if (i % 2 == 1) {\n            boardSquare.classList.add(`boardsquareblack`);\n        }\n\n        board.appendChild(boardSquare);\n    }\n\n    for (let i = 40; i < 48; i++) {\n        const boardSquare = document.createElement(\"div\");\n        boardSquare.classList.add(`a${i}`);\n        boardSquare.classList.add('boardsquare');\n\n        if (i % 2 == 0) {\n            boardSquare.classList.add(`boardsquareblack`);\n        }\n\n        else if (i % 2 == 1) {\n            boardSquare.classList.add(`boardsquarewhite`);\n        }\n\n        board.appendChild(boardSquare);\n    }\n\n    for (let i = 48; i < 56; i++) {\n        const boardSquare = document.createElement(\"div\");\n        boardSquare.classList.add(`a${i}`);\n        boardSquare.classList.add('boardsquare');\n\n        if (i % 2 == 0) {\n            boardSquare.classList.add(`boardsquarewhite`);\n        }\n\n        else if (i % 2 == 1) {\n            boardSquare.classList.add(`boardsquareblack`);\n        }\n\n        board.appendChild(boardSquare);\n    }\n\n    for (let i = 56; i < 64; i++) {\n        const boardSquare = document.createElement(\"div\");\n        boardSquare.classList.add(`a${i}`);\n        boardSquare.classList.add('boardsquare');\n\n        if (i % 2 == 0) {\n            boardSquare.classList.add(`boardsquareblack`);\n        }\n\n        else if (i % 2 == 1) {\n            boardSquare.classList.add(`boardsquarewhite`);\n        }\n\n        board.appendChild(boardSquare);\n    }\n\n    renderGameboard(gameboard);\n}\n\nfunction renderGameboard(gameboard, option) {\n\n    if (option == \"Clear\") {\n        for (let i = 0; i < gameboard.grid.length; i++) {\n            if (gameboard.grid[i] != \"|||\") {\n                const boardSquare = document.querySelector(`.a${i}`);\n                boardSquare.textContent = \"\";\n                if (gameboard.grid[i].startsWith(\"W\")) {\n                    boardSquare.classList.remove('boardsquarewhitepiece');\n                }\n\n                else if (gameboard.grid[i].startsWith(\"B\")) {\n                    boardSquare.classList.remove('boardsquareblackpiece');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WP\")) {\n                    boardSquare.classList.remove('boardsquarewhitepawn');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WR\")) {\n                    boardSquare.classList.remove('boardsquarewhiterook');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WN\")) {\n                    boardSquare.classList.remove('boardsquarewhiteknight');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WB\")) {\n                    boardSquare.classList.remove('boardsquarewhitebishop');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WQ\")) {\n                    boardSquare.classList.remove('boardsquarewhitequeen');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WK\")) {\n                    boardSquare.classList.remove('boardsquarewhiteking');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BP\")) {\n                    boardSquare.classList.remove('boardsquareblackpawn');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BR\")) {\n                    boardSquare.classList.remove('boardsquareblackrook');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BN\")) {\n                    boardSquare.classList.remove('boardsquareblackknight');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BB\")) {\n                    boardSquare.classList.remove('boardsquareblackbishop');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BQ\")) {\n                    boardSquare.classList.remove('boardsquareblackqueen');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BK\")) {\n                    boardSquare.classList.remove('boardsquareblackking');\n                }\n\n                boardSquare.classList.remove('boardsquarepiece');\n            }\n        }\n    }\n\n    else {\n        for (let i = 0; i < gameboard.grid.length; i++) {\n            if (gameboard.grid[i] != \"|||\") {\n                const boardSquare = document.querySelector(`.a${i}`);\n                boardSquare.textContent = gameboard.grid[i];\n                boardSquare.style.fontSize = \"0px\";\n                boardSquare.style.textAlign = \"center\";\n                if (gameboard.grid[i].startsWith(\"W\")) {\n                    boardSquare.classList.add('boardsquarewhitepiece');\n                }\n\n                else if (gameboard.grid[i].startsWith(\"B\")) {\n                    boardSquare.classList.add('boardsquareblackpiece');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WP\")) {\n                    boardSquare.classList.add('boardsquarewhitepawn');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WR\")) {\n                    boardSquare.classList.add('boardsquarewhiterook');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WN\")) {\n                    boardSquare.classList.add('boardsquarewhiteknight');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WB\")) {\n                    boardSquare.classList.add('boardsquarewhitebishop');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WQ\")) {\n                    boardSquare.classList.add('boardsquarewhitequeen');\n                }\n\n                if (gameboard.grid[i].startsWith(\"WK\")) {\n                    boardSquare.classList.add('boardsquarewhiteking');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BP\")) {\n                    boardSquare.classList.add('boardsquareblackpawn');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BR\")) {\n                    boardSquare.classList.add('boardsquareblackrook');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BN\")) {\n                    boardSquare.classList.add('boardsquareblackknight');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BB\")) {\n                    boardSquare.classList.add('boardsquareblackbishop');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BQ\")) {\n                    boardSquare.classList.add('boardsquareblackqueen');\n                }\n\n                if (gameboard.grid[i].startsWith(\"BK\")) {\n                    boardSquare.classList.add('boardsquareblackking');\n                }\n\n                boardSquare.classList.add('boardsquarepiece');\n            }\n        }\n    }\n}\n\nfunction chooseOpponent(currentplayer, player, otherPlayer, gameboard) {\n    const battlePlayerButton = document.querySelector(\".battleplayerbutton\");\n    const battleComputerButton = document.querySelector(\".battlecomputerbutton\");\n    const startContainer = document.querySelector(\".startcontainer\");\n    const chooseColorContainer = document.querySelector(\".choosecolorcontainer\");\n\n    function clickBattleButton() {\n        //startContainer.style.display = \"none\";\n        //chooseColorContainer.style.display = \"flex\";\n        startContainer.classList.add(\"hidden\");\n        chooseColorContainer.classList.add(\"not-hidden\");\n        chooseColorContainer.classList.remove(\"hidden\");\n\n        battlePlayerButton.removeEventListener(\"click\", clickBattleButton);\n        //battleComputerButton.removeEventListener(\"click\", clickBattleButton);\n\n        chooseColorBackButton(currentplayer, player, otherPlayer, gameboard);\n        chooseColor(currentplayer, player, otherPlayer, gameboard);\n    }\n\n    battlePlayerButton.addEventListener(\"click\", clickBattleButton);\n    //battleComputerButton.addEventListener(\"click\", clickBattleButton);\n}\n\nfunction chooseColorBackButton(currentplayer, player, otherPlayer, gameboard) {\n    const chooseColorBackButton = document.querySelector(\".choosecolorbackbutton\");\n    const startContainer = document.querySelector(\".startcontainer\");\n    const chooseColorContainer = document.querySelector(\".choosecolorcontainer\");\n\n    function clickBackButton() {\n        //startContainer.style.display = \"flex\";\n        //chooseColorContainer.style.display = \"none\";\n        startContainer.classList.remove(\"hidden\");\n        chooseColorContainer.classList.remove(\"not-hidden\");\n\n        chooseColorBackButton.removeEventListener(\"click\", clickBackButton);\n\n        chooseOpponent(currentplayer, player, otherPlayer, gameboard);\n    }\n\n    chooseColorBackButton.addEventListener(\"click\", clickBackButton);\n}\n\nfunction chooseColor(currentplayer, player, otherPlayer, gameboard) {\n    const chooseColorWhiteButton = document.querySelector(\".choosewhite\");\n    const chooseColorBlackButton = document.querySelector(\".chooseblack\");\n    const chooseColorContainer = document.querySelector(\".choosecolorcontainer\");\n    const gameContainer = document.querySelector(\".gamecontainer\");\n    const currentPlayerTitle = document.querySelector(\".currentplayertitle\");\n\n    function clickWhiteButton() {\n        //chooseColorContainer.style.display = \"none\";\n        //gameContainer.style.display = \"flex\";\n        currentPlayerTitle.textContent = \"Player 1's Turn\";\n        chooseColorContainer.classList.add(\"hidden\");\n        gameContainer.classList.add(\"not-hidden\");\n\n        chooseColorWhiteButton.removeEventListener(\"click\", clickWhiteButton);\n        chooseColorBlackButton.removeEventListener(\"click\", clickBlackButton);\n        \n        movePiece(currentplayer, player, otherPlayer, gameboard);\n        gameBackButton(currentplayer, player, otherPlayer, gameboard);\n        declareDraw(player);\n        declareCheckmate(player);\n    }\n\n    function clickBlackButton() {\n        //chooseColorContainer.style.display = \"none\";\n        //gameContainer.style.display = \"flex\";\n        currentPlayerTitle.textContent = \"Player 2's Turn\";\n        chooseColorContainer.classList.add(\"hidden\");\n        gameContainer.classList.add(\"not-hidden\");\n\n        chooseColorWhiteButton.removeEventListener(\"click\", clickWhiteButton);\n        chooseColorBlackButton.removeEventListener(\"click\", clickBlackButton);\n\n        player.currentTurn = false;\n\n        movePiece(currentplayer, player, otherPlayer, gameboard);\n        gameBackButton(currentplayer, player, otherPlayer, gameboard);\n        declareDraw(player);\n        declareCheckmate(player);\n    }\n\n    chooseColorWhiteButton.addEventListener(\"click\", clickWhiteButton);\n    chooseColorBlackButton.addEventListener(\"click\", clickBlackButton);\n}\n\n/*function continueButton(currentplayer, player, otherPlayer, gameboard) {\n    const continueButton = document.querySelector(\".continuebutton\");\n    const gameContainer = document.querySelector(\".gamecontainer\");\n    const refreshContainer = document.querySelector(\".refreshcontainer\");\n\n    function clickContinueButton() {\n        refreshContainer.style.display = \"none\";\n        gameContainer.style.display = \"flex\";\n\n        continueButton.removeEventListener(\"click\", clickContinueButton);\n\n        if (gameStarted == false) {\n            movePiece(currentplayer, player, otherPlayer, gameboard);\n        }\n\n        gameBackButton(currentplayer, player, otherPlayer, gameboard);\n    }\n\n    continueButton.addEventListener(\"click\", clickContinueButton);\n}*/\n\nfunction newGameButton(currentplayer, player, otherPlayer, gameboard) {\n    const newGameButton = document.querySelector(\".newgamebutton\");\n    const startContainer = document.querySelector(\".startcontainer\");\n    const refreshContainer = document.querySelector(\".refreshcontainer\");\n    const boardSquares = document.querySelectorAll(\".boardsquare\");\n\n    const drawButton = document.querySelector(\".drawbutton\");\n    const checkmateButton = document.querySelector(\".checkmatebutton\");\n    const board = document.querySelector(\".board\");\n\n    function clickNewGameButton() {\n        //refreshContainer.style.display = \"none\";\n        //startContainer.style.display = \"flex\";\n\n        refreshContainer.classList.add(\"hidden\");\n        startContainer.classList.remove(\"hidden\");\n\n        //Remove event listeners \n        boardSquares.forEach(boardSquare => {\n            boardSquare.remove()\n        })\n\n        board.style.display = \"grid\";\n        drawButton.style.display = \"block\";\n        checkmateButton.style.display = \"block\";\n\n        gameboard.resetGrid();\n        player.resetPlayer(true);\n        otherPlayer.resetPlayer(false);\n\n        pieceArray.length = 0;\n\n        wPawn1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 1);\n        wPawn2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 2);\n        wPawn3 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 3);\n        wPawn4 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 4);\n        wPawn5 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 5);\n        wPawn6 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 6);\n        wPawn7 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 7);\n        wPawn8 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"P\", 8);\n        wRook1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"R\", 1);\n        wKnight1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"N\", 1);\n        wBishop1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"B\", 1);\n        wQueen = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"Q\");\n        wKing = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"K\");\n        wRook2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"R\", 2);\n        wKnight2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"N\", 2);\n        wBishop2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"W\", \"B\", 2);\n\n        bPawn1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 1);\n        bPawn2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 2);\n        bPawn3 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 3);\n        bPawn4 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 4);\n        bPawn5 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 5);\n        bPawn6 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 6);\n        bPawn7 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 7);\n        bPawn8 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"P\", 8);\n        bRook1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"R\", 1);\n        bKnight1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"N\", 1);\n        bBishop1 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"B\", 1);\n        bQueen = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"Q\");\n        bKing = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"K\");\n        bRook2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"R\", 2);\n        bKnight2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"N\", 2);\n        bBishop2 = new _javascript__WEBPACK_IMPORTED_MODULE_0__.Piece(\"B\", \"B\", 2);\n\n        pieceArray.push(wPawn1);\n        pieceArray.push(wPawn2);\n        pieceArray.push(wPawn3);\n        pieceArray.push(wPawn4);\n        pieceArray.push(wPawn5);\n        pieceArray.push(wPawn6);\n        pieceArray.push(wPawn7);\n        pieceArray.push(wPawn8);\n        pieceArray.push(wRook1);\n        pieceArray.push(wKnight1);\n        pieceArray.push(wBishop1);\n        pieceArray.push(wQueen);\n        pieceArray.push(wKing);\n        pieceArray.push(wRook2);\n        pieceArray.push(wKnight2);\n        pieceArray.push(wBishop2);\n\n        pieceArray.push(bPawn1);\n        pieceArray.push(bPawn2);\n        pieceArray.push(bPawn3);\n        pieceArray.push(bPawn4);\n        pieceArray.push(bPawn5);\n        pieceArray.push(bPawn6);\n        pieceArray.push(bPawn7);\n        pieceArray.push(bPawn8);\n        pieceArray.push(bRook1);\n        pieceArray.push(bKnight1);\n        pieceArray.push(bBishop1);\n        pieceArray.push(bQueen);\n        pieceArray.push(bKing);\n        pieceArray.push(bRook2);\n        pieceArray.push(bKnight2);\n        pieceArray.push(bBishop2);\n\n        displayGameboard(gameboard);\n\n        newGameButton.removeEventListener(\"click\", clickNewGameButton);\n\n        chooseOpponent(currentplayer, player, otherPlayer, gameboard);\n    }\n\n    newGameButton.addEventListener(\"click\", clickNewGameButton);\n}\n\nfunction gameBackButton(currentplayer, player, otherPlayer, gameboard) {\n    const gameBackButton = document.querySelector(\".gamebackbutton\");\n    const refreshContainer = document.querySelector(\".refreshcontainer\");\n    const gameContainer = document.querySelector(\".gamecontainer\");\n    const boardSquares = document.querySelectorAll(\".boardsquare\");\n    const drawButton = document.querySelector(\".drawbutton\");\n    const checkmateButton = document.querySelector(\".checkmatebutton\");\n    const board = document.querySelector(\".board\");\n\n    function clickBackButton() {\n        //refreshContainer.style.display = \"flex\";\n        //gameContainer.style.display = \"none\";\n        refreshContainer.classList.add(\"not-hidden\");\n        gameContainer.classList.remove(\"not-hidden\");\n        refreshContainer.classList.remove(\"hidden\");\n\n        curSquare = null;\n\n        gameStarted = true;\n\n        boardSquares.forEach(boardSquare => {\n            boardSquare.classList.remove(\"boardsquarechosen\");\n        })\n    \n        gameBackButton.removeEventListener(\"click\", clickBackButton);\n\n        //continueButton(currentplayer, player, otherPlayer, gameboard);\n        newGameButton(currentplayer, player, otherPlayer, gameboard);\n    }\n\n    gameBackButton.addEventListener(\"click\", clickBackButton);\n}\n\nfunction movePiece(currentplayer, player, otherPlayer, gameboard) {\n    const currentPlayerTitle = document.querySelector(\".currentplayertitle\");\n\n    if (player.currentTurn == true) {\n        const boardSquares = document.querySelectorAll(\".boardsquare\");\n\n        function clickPiece(e) {\n\n            //Choose piece\n            if (e.target.classList.contains(\"boardsquarewhitepiece\")) {\n                curSquare = e.target;\n                boardSquares.forEach(boardSquare => {\n                    boardSquare.classList.remove(\"boardsquarechosen\");\n                })\n                e.target.classList.add(\"boardsquarechosen\");\n            }\n\n            //Moving piece\n            else if (!e.target.classList.contains(\"boardsquarewhitepiece\") && !e.target.classList.contains(\"boardsquarechosen\") && curSquare != null) {\n                //let chosenPiece = new Piece(curSquare.textContent[0], curSquare.textContent[1], Number(curSquare.textContent[2]));\n                let chosenPiece;\n                \n                for (let i = 0; i < pieceArray.length; i++) {\n                    if (pieceArray[i].color == curSquare.textContent[0] && pieceArray[i].name == curSquare.textContent[1] && pieceArray[i].num == curSquare.textContent[2]) {\n                        chosenPiece = pieceArray[i];\n                    }\n                }\n\n                let classes = e.target.classList;\n                let newIndex = null;\n                for (let i = 0; i < classes.length; i++) {\n                    if (classes[i].startsWith(\"a\")) {\n                        newIndex = Number(classes[i].slice(1));\n                    }\n                }\n                renderGameboard(gameboard, \"Clear\");\n                player.move(gameboard.grid, chosenPiece, newIndex, otherPlayer);\n                renderGameboard(gameboard);\n                boardSquares.forEach(boardSquare => {\n                    boardSquare.classList.remove(\"boardsquarechosen\");\n                })\n                curSquare = null;\n\n                if (player.currentTurn == false) {\n                    boardSquares.forEach(boardSquare => {\n                        boardSquare.removeEventListener(\"click\", clickPiece);\n                    })\n\n                    currentPlayerTitle.textContent = \"Player 2's Turn\";\n\n                    movePiece(currentplayer, player, otherPlayer, gameboard);\n                }\n            }\n        }\n\n        boardSquares.forEach(boardSquare => {\n            boardSquare.addEventListener(\"click\", clickPiece);\n        })\n    }\n\n    else if (player.currentTurn == false) {\n        const boardSquares = document.querySelectorAll(\".boardsquare\");\n\n        function clickPiece(e) {\n\n            //Choose piece\n            if (e.target.classList.contains(\"boardsquareblackpiece\")) {\n                curSquare = e.target;\n                boardSquares.forEach(boardSquare => {\n                    boardSquare.classList.remove(\"boardsquarechosen\");\n                })\n                e.target.classList.add(\"boardsquarechosen\");\n            }\n\n            //Moving piece\n            else if (!e.target.classList.contains(\"boardsquareblackpiece\") && !e.target.classList.contains(\"boardsquarechosen\") && curSquare != null) {\n                //let chosenPiece = new Piece(curSquare.textContent[0], curSquare.textContent[1], Number(curSquare.textContent[2]));\n                let chosenPiece;\n\n                for (let i = 0; i < pieceArray.length; i++) {\n                    if (pieceArray[i].color == curSquare.textContent[0] && pieceArray[i].name == curSquare.textContent[1] && pieceArray[i].num == curSquare.textContent[2]) {\n                        chosenPiece = pieceArray[i];\n                    }\n                }\n\n                let classes = e.target.classList;\n                let newIndex = null;\n                for (let i = 0; i < classes.length; i++) {\n                    if (classes[i].startsWith(\"a\")) {\n                        newIndex = Number(classes[i].slice(1));\n                    }\n                }\n                renderGameboard(gameboard, \"Clear\");\n                otherPlayer.move(gameboard.grid, chosenPiece, newIndex, player);\n                renderGameboard(gameboard);\n                boardSquares.forEach(boardSquare => {\n                    boardSquare.classList.remove(\"boardsquarechosen\");\n                })\n                curSquare = null;\n\n                if (player.currentTurn == true) {\n                    boardSquares.forEach(boardSquare => {\n                        boardSquare.removeEventListener(\"click\", clickPiece);\n                    })\n\n                    currentPlayerTitle.textContent = \"Player 1's Turn\";\n\n                    movePiece(currentplayer, player, otherPlayer, gameboard);\n                }\n            }\n        }\n\n        boardSquares.forEach(boardSquare => {\n            boardSquare.addEventListener(\"click\", clickPiece);\n        })\n    }\n}\n\nfunction computerPlayerMovePiece(player, gameboard) {\n    if (player.currentTurn == false) {\n        \n    }\n}\n\nfunction declareDraw(player) {\n    const currentPlayerTitle = document.querySelector(\".currentplayertitle\");\n    const drawButton = document.querySelector(\".drawbutton\");\n    const checkmateButton = document.querySelector(\".checkmatebutton\");\n    const boardSquares = document.querySelectorAll(\".boardsquare\");\n    const board = document.querySelector(\".board\");\n\n    function clickDraw() {\n        if (player.currentTurn == true) {\n            currentPlayerTitle.textContent = \"Draw declared by Player 1. Press the back button to start a new game\";\n        }\n\n        else if (player.currentTurn == false) {\n            currentPlayerTitle.textContent = \"Draw declared by Player 2. Press the back button to start a new game\";\n        }\n\n        drawButton.removeEventListener(\"click\", clickDraw);\n\n        boardSquares.forEach(boardSquare => {\n            boardSquare.remove()\n        })\n\n        board.style.display = \"none\";\n        drawButton.style.display = \"none\";\n        checkmateButton.style.display = \"none\";\n    }\n\n    drawButton.addEventListener(\"click\", clickDraw);\n}\n\nfunction declareCheckmate(player) {\n    const currentPlayerTitle = document.querySelector(\".currentplayertitle\");\n    const drawButton = document.querySelector(\".drawbutton\");\n    const checkmateButton = document.querySelector(\".checkmatebutton\");\n    const boardSquares = document.querySelectorAll(\".boardsquare\");\n    const board = document.querySelector(\".board\");\n\n    function clickCheckmate() {\n        if (player.currentTurn == true) {\n            currentPlayerTitle.textContent = \"Checkmate on Player 1. Player 2 wins! Press the back button to start a new game\";\n        }\n\n        else if (player.currentTurn == false) {\n            currentPlayerTitle.textContent = \"Checkmate on Player 2. Player 1 wins! Press the back button to start a new game\";\n        }\n\n        checkmateButton.removeEventListener(\"click\", clickCheckmate);\n\n        boardSquares.forEach(boardSquare => {\n            boardSquare.remove()\n        })\n\n        board.style.display = \"none\";\n        drawButton.style.display = \"none\";\n        checkmateButton.style.display = \"none\";\n    }\n\n    checkmateButton.addEventListener(\"click\", clickCheckmate);\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZG9tLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxQzs7QUFFckM7O0FBRUE7O0FBRUE7O0FBRUEsaUJBQWlCLDhDQUFLO0FBQ3RCLGlCQUFpQiw4Q0FBSztBQUN0QixpQkFBaUIsOENBQUs7QUFDdEIsaUJBQWlCLDhDQUFLO0FBQ3RCLGlCQUFpQiw4Q0FBSztBQUN0QixpQkFBaUIsOENBQUs7QUFDdEIsaUJBQWlCLDhDQUFLO0FBQ3RCLGlCQUFpQiw4Q0FBSztBQUN0QixpQkFBaUIsOENBQUs7QUFDdEIsbUJBQW1CLDhDQUFLO0FBQ3hCLG1CQUFtQiw4Q0FBSztBQUN4QixpQkFBaUIsOENBQUs7QUFDdEIsZ0JBQWdCLDhDQUFLO0FBQ3JCLGlCQUFpQiw4Q0FBSztBQUN0QixtQkFBbUIsOENBQUs7QUFDeEIsbUJBQW1CLDhDQUFLOztBQUV4QixpQkFBaUIsOENBQUs7QUFDdEIsaUJBQWlCLDhDQUFLO0FBQ3RCLGlCQUFpQiw4Q0FBSztBQUN0QixpQkFBaUIsOENBQUs7QUFDdEIsaUJBQWlCLDhDQUFLO0FBQ3RCLGlCQUFpQiw4Q0FBSztBQUN0QixpQkFBaUIsOENBQUs7QUFDdEIsaUJBQWlCLDhDQUFLO0FBQ3RCLGlCQUFpQiw4Q0FBSztBQUN0QixtQkFBbUIsOENBQUs7QUFDeEIsbUJBQW1CLDhDQUFLO0FBQ3hCLGlCQUFpQiw4Q0FBSztBQUN0QixnQkFBZ0IsOENBQUs7QUFDckIsaUJBQWlCLDhDQUFLO0FBQ3RCLG1CQUFtQiw4Q0FBSztBQUN4QixtQkFBbUIsOENBQUs7O0FBRXhCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQSxzQ0FBc0MsRUFBRTtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsb0JBQW9CLFFBQVE7QUFDNUI7QUFDQSxzQ0FBc0MsRUFBRTtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEscUJBQXFCLFFBQVE7QUFDN0I7QUFDQSxzQ0FBc0MsRUFBRTtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEscUJBQXFCLFFBQVE7QUFDN0I7QUFDQSxzQ0FBc0MsRUFBRTtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEscUJBQXFCLFFBQVE7QUFDN0I7QUFDQSxzQ0FBc0MsRUFBRTtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEscUJBQXFCLFFBQVE7QUFDN0I7QUFDQSxzQ0FBc0MsRUFBRTtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEscUJBQXFCLFFBQVE7QUFDN0I7QUFDQSxzQ0FBc0MsRUFBRTtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEscUJBQXFCLFFBQVE7QUFDN0I7QUFDQSxzQ0FBc0MsRUFBRTtBQUN4Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHdCQUF3QiwyQkFBMkI7QUFDbkQ7QUFDQSxnRUFBZ0UsRUFBRTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IsMkJBQTJCO0FBQ25EO0FBQ0EsZ0VBQWdFLEVBQUU7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEscUJBQXFCLDhDQUFLO0FBQzFCLHFCQUFxQiw4Q0FBSztBQUMxQixxQkFBcUIsOENBQUs7QUFDMUIscUJBQXFCLDhDQUFLO0FBQzFCLHFCQUFxQiw4Q0FBSztBQUMxQixxQkFBcUIsOENBQUs7QUFDMUIscUJBQXFCLDhDQUFLO0FBQzFCLHFCQUFxQiw4Q0FBSztBQUMxQixxQkFBcUIsOENBQUs7QUFDMUIsdUJBQXVCLDhDQUFLO0FBQzVCLHVCQUF1Qiw4Q0FBSztBQUM1QixxQkFBcUIsOENBQUs7QUFDMUIsb0JBQW9CLDhDQUFLO0FBQ3pCLHFCQUFxQiw4Q0FBSztBQUMxQix1QkFBdUIsOENBQUs7QUFDNUIsdUJBQXVCLDhDQUFLOztBQUU1QixxQkFBcUIsOENBQUs7QUFDMUIscUJBQXFCLDhDQUFLO0FBQzFCLHFCQUFxQiw4Q0FBSztBQUMxQixxQkFBcUIsOENBQUs7QUFDMUIscUJBQXFCLDhDQUFLO0FBQzFCLHFCQUFxQiw4Q0FBSztBQUMxQixxQkFBcUIsOENBQUs7QUFDMUIscUJBQXFCLDhDQUFLO0FBQzFCLHFCQUFxQiw4Q0FBSztBQUMxQix1QkFBdUIsOENBQUs7QUFDNUIsdUJBQXVCLDhDQUFLO0FBQzVCLHFCQUFxQiw4Q0FBSztBQUMxQixvQkFBb0IsOENBQUs7QUFDekIscUJBQXFCLDhDQUFLO0FBQzFCLHVCQUF1Qiw4Q0FBSztBQUM1Qix1QkFBdUIsOENBQUs7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHVCQUF1QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsZ0NBQWdDLG9CQUFvQjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUJBQXFCOztBQUVyQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdDQUFnQyx1QkFBdUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdDQUFnQyxvQkFBb0I7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjs7QUFFckI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3RlbXBsYXRlLy4vc3JjL2RvbS5qcz9jYmYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBpZWNlIH0gZnJvbSBcIi4vamF2YXNjcmlwdFwiO1xuXG5jb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYm9hcmRcIik7XG5cbmxldCBjdXJTcXVhcmUgPSBudWxsO1xuXG5sZXQgZ2FtZVN0YXJ0ZWQgPSBmYWxzZTtcblxubGV0IHdQYXduMSA9IG5ldyBQaWVjZShcIldcIiwgXCJQXCIsIDEpO1xubGV0IHdQYXduMiA9IG5ldyBQaWVjZShcIldcIiwgXCJQXCIsIDIpO1xubGV0IHdQYXduMyA9IG5ldyBQaWVjZShcIldcIiwgXCJQXCIsIDMpO1xubGV0IHdQYXduNCA9IG5ldyBQaWVjZShcIldcIiwgXCJQXCIsIDQpO1xubGV0IHdQYXduNSA9IG5ldyBQaWVjZShcIldcIiwgXCJQXCIsIDUpO1xubGV0IHdQYXduNiA9IG5ldyBQaWVjZShcIldcIiwgXCJQXCIsIDYpO1xubGV0IHdQYXduNyA9IG5ldyBQaWVjZShcIldcIiwgXCJQXCIsIDcpO1xubGV0IHdQYXduOCA9IG5ldyBQaWVjZShcIldcIiwgXCJQXCIsIDgpO1xubGV0IHdSb29rMSA9IG5ldyBQaWVjZShcIldcIiwgXCJSXCIsIDEpO1xubGV0IHdLbmlnaHQxID0gbmV3IFBpZWNlKFwiV1wiLCBcIk5cIiwgMSk7XG5sZXQgd0Jpc2hvcDEgPSBuZXcgUGllY2UoXCJXXCIsIFwiQlwiLCAxKTtcbmxldCB3UXVlZW4gPSBuZXcgUGllY2UoXCJXXCIsIFwiUVwiKTtcbmxldCB3S2luZyA9IG5ldyBQaWVjZShcIldcIiwgXCJLXCIpO1xubGV0IHdSb29rMiA9IG5ldyBQaWVjZShcIldcIiwgXCJSXCIsIDIpO1xubGV0IHdLbmlnaHQyID0gbmV3IFBpZWNlKFwiV1wiLCBcIk5cIiwgMik7XG5sZXQgd0Jpc2hvcDIgPSBuZXcgUGllY2UoXCJXXCIsIFwiQlwiLCAyKTtcblxubGV0IGJQYXduMSA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDEpO1xubGV0IGJQYXduMiA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDIpO1xubGV0IGJQYXduMyA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDMpO1xubGV0IGJQYXduNCA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDQpO1xubGV0IGJQYXduNSA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDUpO1xubGV0IGJQYXduNiA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDYpO1xubGV0IGJQYXduNyA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDcpO1xubGV0IGJQYXduOCA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDgpO1xubGV0IGJSb29rMSA9IG5ldyBQaWVjZShcIkJcIiwgXCJSXCIsIDEpO1xubGV0IGJLbmlnaHQxID0gbmV3IFBpZWNlKFwiQlwiLCBcIk5cIiwgMSk7XG5sZXQgYkJpc2hvcDEgPSBuZXcgUGllY2UoXCJCXCIsIFwiQlwiLCAxKTtcbmxldCBiUXVlZW4gPSBuZXcgUGllY2UoXCJCXCIsIFwiUVwiKTtcbmxldCBiS2luZyA9IG5ldyBQaWVjZShcIkJcIiwgXCJLXCIpO1xubGV0IGJSb29rMiA9IG5ldyBQaWVjZShcIkJcIiwgXCJSXCIsIDIpO1xubGV0IGJLbmlnaHQyID0gbmV3IFBpZWNlKFwiQlwiLCBcIk5cIiwgMik7XG5sZXQgYkJpc2hvcDIgPSBuZXcgUGllY2UoXCJCXCIsIFwiQlwiLCAyKTtcblxubGV0IHBpZWNlQXJyYXkgPSBbXTtcblxucGllY2VBcnJheS5wdXNoKHdQYXduMSk7XG5waWVjZUFycmF5LnB1c2god1Bhd24yKTtcbnBpZWNlQXJyYXkucHVzaCh3UGF3bjMpO1xucGllY2VBcnJheS5wdXNoKHdQYXduNCk7XG5waWVjZUFycmF5LnB1c2god1Bhd241KTtcbnBpZWNlQXJyYXkucHVzaCh3UGF3bjYpO1xucGllY2VBcnJheS5wdXNoKHdQYXduNyk7XG5waWVjZUFycmF5LnB1c2god1Bhd244KTtcbnBpZWNlQXJyYXkucHVzaCh3Um9vazEpO1xucGllY2VBcnJheS5wdXNoKHdLbmlnaHQxKTtcbnBpZWNlQXJyYXkucHVzaCh3QmlzaG9wMSk7XG5waWVjZUFycmF5LnB1c2god1F1ZWVuKTtcbnBpZWNlQXJyYXkucHVzaCh3S2luZyk7XG5waWVjZUFycmF5LnB1c2god1Jvb2syKTtcbnBpZWNlQXJyYXkucHVzaCh3S25pZ2h0Mik7XG5waWVjZUFycmF5LnB1c2god0Jpc2hvcDIpO1xuXG5waWVjZUFycmF5LnB1c2goYlBhd24xKTtcbnBpZWNlQXJyYXkucHVzaChiUGF3bjIpO1xucGllY2VBcnJheS5wdXNoKGJQYXduMyk7XG5waWVjZUFycmF5LnB1c2goYlBhd240KTtcbnBpZWNlQXJyYXkucHVzaChiUGF3bjUpO1xucGllY2VBcnJheS5wdXNoKGJQYXduNik7XG5waWVjZUFycmF5LnB1c2goYlBhd243KTtcbnBpZWNlQXJyYXkucHVzaChiUGF3bjgpO1xucGllY2VBcnJheS5wdXNoKGJSb29rMSk7XG5waWVjZUFycmF5LnB1c2goYktuaWdodDEpO1xucGllY2VBcnJheS5wdXNoKGJCaXNob3AxKTtcbnBpZWNlQXJyYXkucHVzaChiUXVlZW4pO1xucGllY2VBcnJheS5wdXNoKGJLaW5nKTtcbnBpZWNlQXJyYXkucHVzaChiUm9vazIpO1xucGllY2VBcnJheS5wdXNoKGJLbmlnaHQyKTtcbnBpZWNlQXJyYXkucHVzaChiQmlzaG9wMik7XG5cbmZ1bmN0aW9uIGRpc3BsYXlHYW1lYm9hcmQoZ2FtZWJvYXJkKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgY29uc3QgYm9hcmRTcXVhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKGBhJHtpfWApO1xuICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKCdib2FyZHNxdWFyZScpO1xuXG4gICAgICAgIGlmIChpICUgMiA9PSAwKSB7XG4gICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKGBib2FyZHNxdWFyZXdoaXRlYCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChpICUgMiA9PSAxKSB7XG4gICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKGBib2FyZHNxdWFyZWJsYWNrYCk7XG4gICAgICAgIH1cblxuICAgICAgICBib2FyZC5hcHBlbmRDaGlsZChib2FyZFNxdWFyZSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDg7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJvYXJkU3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZChgYSR7aX1gKTtcbiAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZCgnYm9hcmRzcXVhcmUnKTtcblxuICAgICAgICBpZiAoaSAlIDIgPT0gMCkge1xuICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZChgYm9hcmRzcXVhcmVibGFja2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAoaSAlIDIgPT0gMSkge1xuICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZChgYm9hcmRzcXVhcmV3aGl0ZWApO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQoYm9hcmRTcXVhcmUpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAxNjsgaSA8IDI0OyBpKyspIHtcbiAgICAgICAgY29uc3QgYm9hcmRTcXVhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKGBhJHtpfWApO1xuICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKCdib2FyZHNxdWFyZScpO1xuXG4gICAgICAgIGlmIChpICUgMiA9PSAwKSB7XG4gICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKGBib2FyZHNxdWFyZXdoaXRlYCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChpICUgMiA9PSAxKSB7XG4gICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKGBib2FyZHNxdWFyZWJsYWNrYCk7XG4gICAgICAgIH1cblxuICAgICAgICBib2FyZC5hcHBlbmRDaGlsZChib2FyZFNxdWFyZSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDI0OyBpIDwgMzI7IGkrKykge1xuICAgICAgICBjb25zdCBib2FyZFNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoYGEke2l9YCk7XG4gICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2JvYXJkc3F1YXJlJyk7XG5cbiAgICAgICAgaWYgKGkgJSAyID09IDApIHtcbiAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoYGJvYXJkc3F1YXJlYmxhY2tgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKGkgJSAyID09IDEpIHtcbiAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoYGJvYXJkc3F1YXJld2hpdGVgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvYXJkLmFwcGVuZENoaWxkKGJvYXJkU3F1YXJlKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMzI7IGkgPCA0MDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJvYXJkU3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZChgYSR7aX1gKTtcbiAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZCgnYm9hcmRzcXVhcmUnKTtcblxuICAgICAgICBpZiAoaSAlIDIgPT0gMCkge1xuICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZChgYm9hcmRzcXVhcmV3aGl0ZWApO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAoaSAlIDIgPT0gMSkge1xuICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZChgYm9hcmRzcXVhcmVibGFja2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQoYm9hcmRTcXVhcmUpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSA0MDsgaSA8IDQ4OyBpKyspIHtcbiAgICAgICAgY29uc3QgYm9hcmRTcXVhcmUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKGBhJHtpfWApO1xuICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKCdib2FyZHNxdWFyZScpO1xuXG4gICAgICAgIGlmIChpICUgMiA9PSAwKSB7XG4gICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKGBib2FyZHNxdWFyZWJsYWNrYCk7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChpICUgMiA9PSAxKSB7XG4gICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKGBib2FyZHNxdWFyZXdoaXRlYCk7XG4gICAgICAgIH1cblxuICAgICAgICBib2FyZC5hcHBlbmRDaGlsZChib2FyZFNxdWFyZSk7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgaSA9IDQ4OyBpIDwgNTY7IGkrKykge1xuICAgICAgICBjb25zdCBib2FyZFNxdWFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoYGEke2l9YCk7XG4gICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2JvYXJkc3F1YXJlJyk7XG5cbiAgICAgICAgaWYgKGkgJSAyID09IDApIHtcbiAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoYGJvYXJkc3F1YXJld2hpdGVgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKGkgJSAyID09IDEpIHtcbiAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoYGJvYXJkc3F1YXJlYmxhY2tgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJvYXJkLmFwcGVuZENoaWxkKGJvYXJkU3F1YXJlKTtcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gNTY7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGJvYXJkU3F1YXJlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZChgYSR7aX1gKTtcbiAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZCgnYm9hcmRzcXVhcmUnKTtcblxuICAgICAgICBpZiAoaSAlIDIgPT0gMCkge1xuICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZChgYm9hcmRzcXVhcmVibGFja2ApO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAoaSAlIDIgPT0gMSkge1xuICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZChgYm9hcmRzcXVhcmV3aGl0ZWApO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9hcmQuYXBwZW5kQ2hpbGQoYm9hcmRTcXVhcmUpO1xuICAgIH1cblxuICAgIHJlbmRlckdhbWVib2FyZChnYW1lYm9hcmQpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJHYW1lYm9hcmQoZ2FtZWJvYXJkLCBvcHRpb24pIHtcblxuICAgIGlmIChvcHRpb24gPT0gXCJDbGVhclwiKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ2FtZWJvYXJkLmdyaWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ3JpZFtpXSAhPSBcInx8fFwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9hcmRTcXVhcmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuYSR7aX1gKTtcbiAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJXXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvYXJkc3F1YXJld2hpdGVwaWVjZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJCXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvYXJkc3F1YXJlYmxhY2twaWVjZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ3JpZFtpXS5zdGFydHNXaXRoKFwiV1BcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9hcmRzcXVhcmV3aGl0ZXBhd24nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbaV0uc3RhcnRzV2l0aChcIldSXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvYXJkc3F1YXJld2hpdGVyb29rJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJXTlwiKSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QucmVtb3ZlKCdib2FyZHNxdWFyZXdoaXRla25pZ2h0Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJXQlwiKSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QucmVtb3ZlKCdib2FyZHNxdWFyZXdoaXRlYmlzaG9wJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJXUVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QucmVtb3ZlKCdib2FyZHNxdWFyZXdoaXRlcXVlZW4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvYXJkc3F1YXJld2hpdGVraW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJCUFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QucmVtb3ZlKCdib2FyZHNxdWFyZWJsYWNrcGF3bicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ3JpZFtpXS5zdGFydHNXaXRoKFwiQlJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9hcmRzcXVhcmVibGFja3Jvb2snKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbaV0uc3RhcnRzV2l0aChcIkJOXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvYXJkc3F1YXJlYmxhY2trbmlnaHQnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbaV0uc3RhcnRzV2l0aChcIkJCXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvYXJkc3F1YXJlYmxhY2tiaXNob3AnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbaV0uc3RhcnRzV2l0aChcIkJRXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2JvYXJkc3F1YXJlYmxhY2txdWVlbicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LnJlbW92ZSgnYm9hcmRzcXVhcmVibGFja2tpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QucmVtb3ZlKCdib2FyZHNxdWFyZXBpZWNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbHNlIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lYm9hcmQuZ3JpZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldICE9IFwifHx8XCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBib2FyZFNxdWFyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5hJHtpfWApO1xuICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLnRleHRDb250ZW50ID0gZ2FtZWJvYXJkLmdyaWRbaV07XG4gICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUuc3R5bGUuZm9udFNpemUgPSBcIjBweFwiO1xuICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLnN0eWxlLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJXXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2JvYXJkc3F1YXJld2hpdGVwaWVjZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJCXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2JvYXJkc3F1YXJlYmxhY2twaWVjZScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ3JpZFtpXS5zdGFydHNXaXRoKFwiV1BcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZCgnYm9hcmRzcXVhcmV3aGl0ZXBhd24nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbaV0uc3RhcnRzV2l0aChcIldSXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2JvYXJkc3F1YXJld2hpdGVyb29rJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJXTlwiKSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKCdib2FyZHNxdWFyZXdoaXRla25pZ2h0Jyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJXQlwiKSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKCdib2FyZHNxdWFyZXdoaXRlYmlzaG9wJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJXUVwiKSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKCdib2FyZHNxdWFyZXdoaXRlcXVlZW4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2JvYXJkc3F1YXJld2hpdGVraW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ncmlkW2ldLnN0YXJ0c1dpdGgoXCJCUFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKCdib2FyZHNxdWFyZWJsYWNrcGF3bicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ3JpZFtpXS5zdGFydHNXaXRoKFwiQlJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZCgnYm9hcmRzcXVhcmVibGFja3Jvb2snKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbaV0uc3RhcnRzV2l0aChcIkJOXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2JvYXJkc3F1YXJlYmxhY2trbmlnaHQnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbaV0uc3RhcnRzV2l0aChcIkJCXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2JvYXJkc3F1YXJlYmxhY2tiaXNob3AnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmdyaWRbaV0uc3RhcnRzV2l0aChcIkJRXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5hZGQoJ2JvYXJkc3F1YXJlYmxhY2txdWVlbicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LmFkZCgnYm9hcmRzcXVhcmVibGFja2tpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QuYWRkKCdib2FyZHNxdWFyZXBpZWNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNob29zZU9wcG9uZW50KGN1cnJlbnRwbGF5ZXIsIHBsYXllciwgb3RoZXJQbGF5ZXIsIGdhbWVib2FyZCkge1xuICAgIGNvbnN0IGJhdHRsZVBsYXllckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmF0dGxlcGxheWVyYnV0dG9uXCIpO1xuICAgIGNvbnN0IGJhdHRsZUNvbXB1dGVyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iYXR0bGVjb21wdXRlcmJ1dHRvblwiKTtcbiAgICBjb25zdCBzdGFydENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhcnRjb250YWluZXJcIik7XG4gICAgY29uc3QgY2hvb3NlQ29sb3JDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNob29zZWNvbG9yY29udGFpbmVyXCIpO1xuXG4gICAgZnVuY3Rpb24gY2xpY2tCYXR0bGVCdXR0b24oKSB7XG4gICAgICAgIC8vc3RhcnRDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAvL2Nob29zZUNvbG9yQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgc3RhcnRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgICAgY2hvb3NlQ29sb3JDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm5vdC1oaWRkZW5cIik7XG4gICAgICAgIGNob29zZUNvbG9yQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG5cbiAgICAgICAgYmF0dGxlUGxheWVyQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0JhdHRsZUJ1dHRvbik7XG4gICAgICAgIC8vYmF0dGxlQ29tcHV0ZXJCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrQmF0dGxlQnV0dG9uKTtcblxuICAgICAgICBjaG9vc2VDb2xvckJhY2tCdXR0b24oY3VycmVudHBsYXllciwgcGxheWVyLCBvdGhlclBsYXllciwgZ2FtZWJvYXJkKTtcbiAgICAgICAgY2hvb3NlQ29sb3IoY3VycmVudHBsYXllciwgcGxheWVyLCBvdGhlclBsYXllciwgZ2FtZWJvYXJkKTtcbiAgICB9XG5cbiAgICBiYXR0bGVQbGF5ZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrQmF0dGxlQnV0dG9uKTtcbiAgICAvL2JhdHRsZUNvbXB1dGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0JhdHRsZUJ1dHRvbik7XG59XG5cbmZ1bmN0aW9uIGNob29zZUNvbG9yQmFja0J1dHRvbihjdXJyZW50cGxheWVyLCBwbGF5ZXIsIG90aGVyUGxheWVyLCBnYW1lYm9hcmQpIHtcbiAgICBjb25zdCBjaG9vc2VDb2xvckJhY2tCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNob29zZWNvbG9yYmFja2J1dHRvblwiKTtcbiAgICBjb25zdCBzdGFydENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc3RhcnRjb250YWluZXJcIik7XG4gICAgY29uc3QgY2hvb3NlQ29sb3JDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNob29zZWNvbG9yY29udGFpbmVyXCIpO1xuXG4gICAgZnVuY3Rpb24gY2xpY2tCYWNrQnV0dG9uKCkge1xuICAgICAgICAvL3N0YXJ0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgLy9jaG9vc2VDb2xvckNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHN0YXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG4gICAgICAgIGNob29zZUNvbG9yQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJub3QtaGlkZGVuXCIpO1xuXG4gICAgICAgIGNob29zZUNvbG9yQmFja0J1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tCYWNrQnV0dG9uKTtcblxuICAgICAgICBjaG9vc2VPcHBvbmVudChjdXJyZW50cGxheWVyLCBwbGF5ZXIsIG90aGVyUGxheWVyLCBnYW1lYm9hcmQpO1xuICAgIH1cblxuICAgIGNob29zZUNvbG9yQmFja0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tCYWNrQnV0dG9uKTtcbn1cblxuZnVuY3Rpb24gY2hvb3NlQ29sb3IoY3VycmVudHBsYXllciwgcGxheWVyLCBvdGhlclBsYXllciwgZ2FtZWJvYXJkKSB7XG4gICAgY29uc3QgY2hvb3NlQ29sb3JXaGl0ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hvb3Nld2hpdGVcIik7XG4gICAgY29uc3QgY2hvb3NlQ29sb3JCbGFja0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2hvb3NlYmxhY2tcIik7XG4gICAgY29uc3QgY2hvb3NlQ29sb3JDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNob29zZWNvbG9yY29udGFpbmVyXCIpO1xuICAgIGNvbnN0IGdhbWVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbWVjb250YWluZXJcIik7XG4gICAgY29uc3QgY3VycmVudFBsYXllclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jdXJyZW50cGxheWVydGl0bGVcIik7XG5cbiAgICBmdW5jdGlvbiBjbGlja1doaXRlQnV0dG9uKCkge1xuICAgICAgICAvL2Nob29zZUNvbG9yQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgLy9nYW1lQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgY3VycmVudFBsYXllclRpdGxlLnRleHRDb250ZW50ID0gXCJQbGF5ZXIgMSdzIFR1cm5cIjtcbiAgICAgICAgY2hvb3NlQ29sb3JDb250YWluZXIuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcbiAgICAgICAgZ2FtZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwibm90LWhpZGRlblwiKTtcblxuICAgICAgICBjaG9vc2VDb2xvcldoaXRlQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja1doaXRlQnV0dG9uKTtcbiAgICAgICAgY2hvb3NlQ29sb3JCbGFja0J1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tCbGFja0J1dHRvbik7XG4gICAgICAgIFxuICAgICAgICBtb3ZlUGllY2UoY3VycmVudHBsYXllciwgcGxheWVyLCBvdGhlclBsYXllciwgZ2FtZWJvYXJkKTtcbiAgICAgICAgZ2FtZUJhY2tCdXR0b24oY3VycmVudHBsYXllciwgcGxheWVyLCBvdGhlclBsYXllciwgZ2FtZWJvYXJkKTtcbiAgICAgICAgZGVjbGFyZURyYXcocGxheWVyKTtcbiAgICAgICAgZGVjbGFyZUNoZWNrbWF0ZShwbGF5ZXIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNsaWNrQmxhY2tCdXR0b24oKSB7XG4gICAgICAgIC8vY2hvb3NlQ29sb3JDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAvL2dhbWVDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xuICAgICAgICBjdXJyZW50UGxheWVyVGl0bGUudGV4dENvbnRlbnQgPSBcIlBsYXllciAyJ3MgVHVyblwiO1xuICAgICAgICBjaG9vc2VDb2xvckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuICAgICAgICBnYW1lQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJub3QtaGlkZGVuXCIpO1xuXG4gICAgICAgIGNob29zZUNvbG9yV2hpdGVCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrV2hpdGVCdXR0b24pO1xuICAgICAgICBjaG9vc2VDb2xvckJsYWNrQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0JsYWNrQnV0dG9uKTtcblxuICAgICAgICBwbGF5ZXIuY3VycmVudFR1cm4gPSBmYWxzZTtcblxuICAgICAgICBtb3ZlUGllY2UoY3VycmVudHBsYXllciwgcGxheWVyLCBvdGhlclBsYXllciwgZ2FtZWJvYXJkKTtcbiAgICAgICAgZ2FtZUJhY2tCdXR0b24oY3VycmVudHBsYXllciwgcGxheWVyLCBvdGhlclBsYXllciwgZ2FtZWJvYXJkKTtcbiAgICAgICAgZGVjbGFyZURyYXcocGxheWVyKTtcbiAgICAgICAgZGVjbGFyZUNoZWNrbWF0ZShwbGF5ZXIpO1xuICAgIH1cblxuICAgIGNob29zZUNvbG9yV2hpdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrV2hpdGVCdXR0b24pO1xuICAgIGNob29zZUNvbG9yQmxhY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrQmxhY2tCdXR0b24pO1xufVxuXG4vKmZ1bmN0aW9uIGNvbnRpbnVlQnV0dG9uKGN1cnJlbnRwbGF5ZXIsIHBsYXllciwgb3RoZXJQbGF5ZXIsIGdhbWVib2FyZCkge1xuICAgIGNvbnN0IGNvbnRpbnVlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250aW51ZWJ1dHRvblwiKTtcbiAgICBjb25zdCBnYW1lQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYW1lY29udGFpbmVyXCIpO1xuICAgIGNvbnN0IHJlZnJlc2hDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlZnJlc2hjb250YWluZXJcIik7XG5cbiAgICBmdW5jdGlvbiBjbGlja0NvbnRpbnVlQnV0dG9uKCkge1xuICAgICAgICByZWZyZXNoQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgZ2FtZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG5cbiAgICAgICAgY29udGludWVCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrQ29udGludWVCdXR0b24pO1xuXG4gICAgICAgIGlmIChnYW1lU3RhcnRlZCA9PSBmYWxzZSkge1xuICAgICAgICAgICAgbW92ZVBpZWNlKGN1cnJlbnRwbGF5ZXIsIHBsYXllciwgb3RoZXJQbGF5ZXIsIGdhbWVib2FyZCk7XG4gICAgICAgIH1cblxuICAgICAgICBnYW1lQmFja0J1dHRvbihjdXJyZW50cGxheWVyLCBwbGF5ZXIsIG90aGVyUGxheWVyLCBnYW1lYm9hcmQpO1xuICAgIH1cblxuICAgIGNvbnRpbnVlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0NvbnRpbnVlQnV0dG9uKTtcbn0qL1xuXG5mdW5jdGlvbiBuZXdHYW1lQnV0dG9uKGN1cnJlbnRwbGF5ZXIsIHBsYXllciwgb3RoZXJQbGF5ZXIsIGdhbWVib2FyZCkge1xuICAgIGNvbnN0IG5ld0dhbWVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5ld2dhbWVidXR0b25cIik7XG4gICAgY29uc3Qgc3RhcnRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnN0YXJ0Y29udGFpbmVyXCIpO1xuICAgIGNvbnN0IHJlZnJlc2hDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlZnJlc2hjb250YWluZXJcIik7XG4gICAgY29uc3QgYm9hcmRTcXVhcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5ib2FyZHNxdWFyZVwiKTtcblxuICAgIGNvbnN0IGRyYXdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRyYXdidXR0b25cIik7XG4gICAgY29uc3QgY2hlY2ttYXRlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jaGVja21hdGVidXR0b25cIik7XG4gICAgY29uc3QgYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJvYXJkXCIpO1xuXG4gICAgZnVuY3Rpb24gY2xpY2tOZXdHYW1lQnV0dG9uKCkge1xuICAgICAgICAvL3JlZnJlc2hDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAvL3N0YXJ0Q29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcblxuICAgICAgICByZWZyZXNoQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG4gICAgICAgIHN0YXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XG5cbiAgICAgICAgLy9SZW1vdmUgZXZlbnQgbGlzdGVuZXJzIFxuICAgICAgICBib2FyZFNxdWFyZXMuZm9yRWFjaChib2FyZFNxdWFyZSA9PiB7XG4gICAgICAgICAgICBib2FyZFNxdWFyZS5yZW1vdmUoKVxuICAgICAgICB9KVxuXG4gICAgICAgIGJvYXJkLnN0eWxlLmRpc3BsYXkgPSBcImdyaWRcIjtcbiAgICAgICAgZHJhd0J1dHRvbi5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICBjaGVja21hdGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuICAgICAgICBnYW1lYm9hcmQucmVzZXRHcmlkKCk7XG4gICAgICAgIHBsYXllci5yZXNldFBsYXllcih0cnVlKTtcbiAgICAgICAgb3RoZXJQbGF5ZXIucmVzZXRQbGF5ZXIoZmFsc2UpO1xuXG4gICAgICAgIHBpZWNlQXJyYXkubGVuZ3RoID0gMDtcblxuICAgICAgICB3UGF3bjEgPSBuZXcgUGllY2UoXCJXXCIsIFwiUFwiLCAxKTtcbiAgICAgICAgd1Bhd24yID0gbmV3IFBpZWNlKFwiV1wiLCBcIlBcIiwgMik7XG4gICAgICAgIHdQYXduMyA9IG5ldyBQaWVjZShcIldcIiwgXCJQXCIsIDMpO1xuICAgICAgICB3UGF3bjQgPSBuZXcgUGllY2UoXCJXXCIsIFwiUFwiLCA0KTtcbiAgICAgICAgd1Bhd241ID0gbmV3IFBpZWNlKFwiV1wiLCBcIlBcIiwgNSk7XG4gICAgICAgIHdQYXduNiA9IG5ldyBQaWVjZShcIldcIiwgXCJQXCIsIDYpO1xuICAgICAgICB3UGF3bjcgPSBuZXcgUGllY2UoXCJXXCIsIFwiUFwiLCA3KTtcbiAgICAgICAgd1Bhd244ID0gbmV3IFBpZWNlKFwiV1wiLCBcIlBcIiwgOCk7XG4gICAgICAgIHdSb29rMSA9IG5ldyBQaWVjZShcIldcIiwgXCJSXCIsIDEpO1xuICAgICAgICB3S25pZ2h0MSA9IG5ldyBQaWVjZShcIldcIiwgXCJOXCIsIDEpO1xuICAgICAgICB3QmlzaG9wMSA9IG5ldyBQaWVjZShcIldcIiwgXCJCXCIsIDEpO1xuICAgICAgICB3UXVlZW4gPSBuZXcgUGllY2UoXCJXXCIsIFwiUVwiKTtcbiAgICAgICAgd0tpbmcgPSBuZXcgUGllY2UoXCJXXCIsIFwiS1wiKTtcbiAgICAgICAgd1Jvb2syID0gbmV3IFBpZWNlKFwiV1wiLCBcIlJcIiwgMik7XG4gICAgICAgIHdLbmlnaHQyID0gbmV3IFBpZWNlKFwiV1wiLCBcIk5cIiwgMik7XG4gICAgICAgIHdCaXNob3AyID0gbmV3IFBpZWNlKFwiV1wiLCBcIkJcIiwgMik7XG5cbiAgICAgICAgYlBhd24xID0gbmV3IFBpZWNlKFwiQlwiLCBcIlBcIiwgMSk7XG4gICAgICAgIGJQYXduMiA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDIpO1xuICAgICAgICBiUGF3bjMgPSBuZXcgUGllY2UoXCJCXCIsIFwiUFwiLCAzKTtcbiAgICAgICAgYlBhd240ID0gbmV3IFBpZWNlKFwiQlwiLCBcIlBcIiwgNCk7XG4gICAgICAgIGJQYXduNSA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDUpO1xuICAgICAgICBiUGF3bjYgPSBuZXcgUGllY2UoXCJCXCIsIFwiUFwiLCA2KTtcbiAgICAgICAgYlBhd243ID0gbmV3IFBpZWNlKFwiQlwiLCBcIlBcIiwgNyk7XG4gICAgICAgIGJQYXduOCA9IG5ldyBQaWVjZShcIkJcIiwgXCJQXCIsIDgpO1xuICAgICAgICBiUm9vazEgPSBuZXcgUGllY2UoXCJCXCIsIFwiUlwiLCAxKTtcbiAgICAgICAgYktuaWdodDEgPSBuZXcgUGllY2UoXCJCXCIsIFwiTlwiLCAxKTtcbiAgICAgICAgYkJpc2hvcDEgPSBuZXcgUGllY2UoXCJCXCIsIFwiQlwiLCAxKTtcbiAgICAgICAgYlF1ZWVuID0gbmV3IFBpZWNlKFwiQlwiLCBcIlFcIik7XG4gICAgICAgIGJLaW5nID0gbmV3IFBpZWNlKFwiQlwiLCBcIktcIik7XG4gICAgICAgIGJSb29rMiA9IG5ldyBQaWVjZShcIkJcIiwgXCJSXCIsIDIpO1xuICAgICAgICBiS25pZ2h0MiA9IG5ldyBQaWVjZShcIkJcIiwgXCJOXCIsIDIpO1xuICAgICAgICBiQmlzaG9wMiA9IG5ldyBQaWVjZShcIkJcIiwgXCJCXCIsIDIpO1xuXG4gICAgICAgIHBpZWNlQXJyYXkucHVzaCh3UGF3bjEpO1xuICAgICAgICBwaWVjZUFycmF5LnB1c2god1Bhd24yKTtcbiAgICAgICAgcGllY2VBcnJheS5wdXNoKHdQYXduMyk7XG4gICAgICAgIHBpZWNlQXJyYXkucHVzaCh3UGF3bjQpO1xuICAgICAgICBwaWVjZUFycmF5LnB1c2god1Bhd241KTtcbiAgICAgICAgcGllY2VBcnJheS5wdXNoKHdQYXduNik7XG4gICAgICAgIHBpZWNlQXJyYXkucHVzaCh3UGF3bjcpO1xuICAgICAgICBwaWVjZUFycmF5LnB1c2god1Bhd244KTtcbiAgICAgICAgcGllY2VBcnJheS5wdXNoKHdSb29rMSk7XG4gICAgICAgIHBpZWNlQXJyYXkucHVzaCh3S25pZ2h0MSk7XG4gICAgICAgIHBpZWNlQXJyYXkucHVzaCh3QmlzaG9wMSk7XG4gICAgICAgIHBpZWNlQXJyYXkucHVzaCh3UXVlZW4pO1xuICAgICAgICBwaWVjZUFycmF5LnB1c2god0tpbmcpO1xuICAgICAgICBwaWVjZUFycmF5LnB1c2god1Jvb2syKTtcbiAgICAgICAgcGllY2VBcnJheS5wdXNoKHdLbmlnaHQyKTtcbiAgICAgICAgcGllY2VBcnJheS5wdXNoKHdCaXNob3AyKTtcblxuICAgICAgICBwaWVjZUFycmF5LnB1c2goYlBhd24xKTtcbiAgICAgICAgcGllY2VBcnJheS5wdXNoKGJQYXduMik7XG4gICAgICAgIHBpZWNlQXJyYXkucHVzaChiUGF3bjMpO1xuICAgICAgICBwaWVjZUFycmF5LnB1c2goYlBhd240KTtcbiAgICAgICAgcGllY2VBcnJheS5wdXNoKGJQYXduNSk7XG4gICAgICAgIHBpZWNlQXJyYXkucHVzaChiUGF3bjYpO1xuICAgICAgICBwaWVjZUFycmF5LnB1c2goYlBhd243KTtcbiAgICAgICAgcGllY2VBcnJheS5wdXNoKGJQYXduOCk7XG4gICAgICAgIHBpZWNlQXJyYXkucHVzaChiUm9vazEpO1xuICAgICAgICBwaWVjZUFycmF5LnB1c2goYktuaWdodDEpO1xuICAgICAgICBwaWVjZUFycmF5LnB1c2goYkJpc2hvcDEpO1xuICAgICAgICBwaWVjZUFycmF5LnB1c2goYlF1ZWVuKTtcbiAgICAgICAgcGllY2VBcnJheS5wdXNoKGJLaW5nKTtcbiAgICAgICAgcGllY2VBcnJheS5wdXNoKGJSb29rMik7XG4gICAgICAgIHBpZWNlQXJyYXkucHVzaChiS25pZ2h0Mik7XG4gICAgICAgIHBpZWNlQXJyYXkucHVzaChiQmlzaG9wMik7XG5cbiAgICAgICAgZGlzcGxheUdhbWVib2FyZChnYW1lYm9hcmQpO1xuXG4gICAgICAgIG5ld0dhbWVCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrTmV3R2FtZUJ1dHRvbik7XG5cbiAgICAgICAgY2hvb3NlT3Bwb25lbnQoY3VycmVudHBsYXllciwgcGxheWVyLCBvdGhlclBsYXllciwgZ2FtZWJvYXJkKTtcbiAgICB9XG5cbiAgICBuZXdHYW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja05ld0dhbWVCdXR0b24pO1xufVxuXG5mdW5jdGlvbiBnYW1lQmFja0J1dHRvbihjdXJyZW50cGxheWVyLCBwbGF5ZXIsIG90aGVyUGxheWVyLCBnYW1lYm9hcmQpIHtcbiAgICBjb25zdCBnYW1lQmFja0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZWJhY2tidXR0b25cIik7XG4gICAgY29uc3QgcmVmcmVzaENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVmcmVzaGNvbnRhaW5lclwiKTtcbiAgICBjb25zdCBnYW1lQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYW1lY29udGFpbmVyXCIpO1xuICAgIGNvbnN0IGJvYXJkU3F1YXJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuYm9hcmRzcXVhcmVcIik7XG4gICAgY29uc3QgZHJhd0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJhd2J1dHRvblwiKTtcbiAgICBjb25zdCBjaGVja21hdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbWF0ZWJ1dHRvblwiKTtcbiAgICBjb25zdCBib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYm9hcmRcIik7XG5cbiAgICBmdW5jdGlvbiBjbGlja0JhY2tCdXR0b24oKSB7XG4gICAgICAgIC8vcmVmcmVzaENvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgIC8vZ2FtZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIHJlZnJlc2hDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm5vdC1oaWRkZW5cIik7XG4gICAgICAgIGdhbWVDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcIm5vdC1oaWRkZW5cIik7XG4gICAgICAgIHJlZnJlc2hDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcblxuICAgICAgICBjdXJTcXVhcmUgPSBudWxsO1xuXG4gICAgICAgIGdhbWVTdGFydGVkID0gdHJ1ZTtcblxuICAgICAgICBib2FyZFNxdWFyZXMuZm9yRWFjaChib2FyZFNxdWFyZSA9PiB7XG4gICAgICAgICAgICBib2FyZFNxdWFyZS5jbGFzc0xpc3QucmVtb3ZlKFwiYm9hcmRzcXVhcmVjaG9zZW5cIik7XG4gICAgICAgIH0pXG4gICAgXG4gICAgICAgIGdhbWVCYWNrQnV0dG9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0JhY2tCdXR0b24pO1xuXG4gICAgICAgIC8vY29udGludWVCdXR0b24oY3VycmVudHBsYXllciwgcGxheWVyLCBvdGhlclBsYXllciwgZ2FtZWJvYXJkKTtcbiAgICAgICAgbmV3R2FtZUJ1dHRvbihjdXJyZW50cGxheWVyLCBwbGF5ZXIsIG90aGVyUGxheWVyLCBnYW1lYm9hcmQpO1xuICAgIH1cblxuICAgIGdhbWVCYWNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjbGlja0JhY2tCdXR0b24pO1xufVxuXG5mdW5jdGlvbiBtb3ZlUGllY2UoY3VycmVudHBsYXllciwgcGxheWVyLCBvdGhlclBsYXllciwgZ2FtZWJvYXJkKSB7XG4gICAgY29uc3QgY3VycmVudFBsYXllclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jdXJyZW50cGxheWVydGl0bGVcIik7XG5cbiAgICBpZiAocGxheWVyLmN1cnJlbnRUdXJuID09IHRydWUpIHtcbiAgICAgICAgY29uc3QgYm9hcmRTcXVhcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5ib2FyZHNxdWFyZVwiKTtcblxuICAgICAgICBmdW5jdGlvbiBjbGlja1BpZWNlKGUpIHtcblxuICAgICAgICAgICAgLy9DaG9vc2UgcGllY2VcbiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJib2FyZHNxdWFyZXdoaXRlcGllY2VcIikpIHtcbiAgICAgICAgICAgICAgICBjdXJTcXVhcmUgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgICBib2FyZFNxdWFyZXMuZm9yRWFjaChib2FyZFNxdWFyZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoXCJib2FyZHNxdWFyZWNob3NlblwiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJib2FyZHNxdWFyZWNob3NlblwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy9Nb3ZpbmcgcGllY2VcbiAgICAgICAgICAgIGVsc2UgaWYgKCFlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJib2FyZHNxdWFyZXdoaXRlcGllY2VcIikgJiYgIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImJvYXJkc3F1YXJlY2hvc2VuXCIpICYmIGN1clNxdWFyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgLy9sZXQgY2hvc2VuUGllY2UgPSBuZXcgUGllY2UoY3VyU3F1YXJlLnRleHRDb250ZW50WzBdLCBjdXJTcXVhcmUudGV4dENvbnRlbnRbMV0sIE51bWJlcihjdXJTcXVhcmUudGV4dENvbnRlbnRbMl0pKTtcbiAgICAgICAgICAgICAgICBsZXQgY2hvc2VuUGllY2U7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwaWVjZUFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZUFycmF5W2ldLmNvbG9yID09IGN1clNxdWFyZS50ZXh0Q29udGVudFswXSAmJiBwaWVjZUFycmF5W2ldLm5hbWUgPT0gY3VyU3F1YXJlLnRleHRDb250ZW50WzFdICYmIHBpZWNlQXJyYXlbaV0ubnVtID09IGN1clNxdWFyZS50ZXh0Q29udGVudFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hvc2VuUGllY2UgPSBwaWVjZUFycmF5W2ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IGNsYXNzZXMgPSBlLnRhcmdldC5jbGFzc0xpc3Q7XG4gICAgICAgICAgICAgICAgbGV0IG5ld0luZGV4ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzZXNbaV0uc3RhcnRzV2l0aChcImFcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0luZGV4ID0gTnVtYmVyKGNsYXNzZXNbaV0uc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbmRlckdhbWVib2FyZChnYW1lYm9hcmQsIFwiQ2xlYXJcIik7XG4gICAgICAgICAgICAgICAgcGxheWVyLm1vdmUoZ2FtZWJvYXJkLmdyaWQsIGNob3NlblBpZWNlLCBuZXdJbmRleCwgb3RoZXJQbGF5ZXIpO1xuICAgICAgICAgICAgICAgIHJlbmRlckdhbWVib2FyZChnYW1lYm9hcmQpO1xuICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlcy5mb3JFYWNoKGJvYXJkU3F1YXJlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LnJlbW92ZShcImJvYXJkc3F1YXJlY2hvc2VuXCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgY3VyU3F1YXJlID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuY3VycmVudFR1cm4gPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmVzLmZvckVhY2goYm9hcmRTcXVhcmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrUGllY2UpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXJUaXRsZS50ZXh0Q29udGVudCA9IFwiUGxheWVyIDIncyBUdXJuXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgbW92ZVBpZWNlKGN1cnJlbnRwbGF5ZXIsIHBsYXllciwgb3RoZXJQbGF5ZXIsIGdhbWVib2FyZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYm9hcmRTcXVhcmVzLmZvckVhY2goYm9hcmRTcXVhcmUgPT4ge1xuICAgICAgICAgICAgYm9hcmRTcXVhcmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrUGllY2UpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIGVsc2UgaWYgKHBsYXllci5jdXJyZW50VHVybiA9PSBmYWxzZSkge1xuICAgICAgICBjb25zdCBib2FyZFNxdWFyZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJvYXJkc3F1YXJlXCIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGNsaWNrUGllY2UoZSkge1xuXG4gICAgICAgICAgICAvL0Nob29zZSBwaWVjZVxuICAgICAgICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImJvYXJkc3F1YXJlYmxhY2twaWVjZVwiKSkge1xuICAgICAgICAgICAgICAgIGN1clNxdWFyZSA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlcy5mb3JFYWNoKGJvYXJkU3F1YXJlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUuY2xhc3NMaXN0LnJlbW92ZShcImJvYXJkc3F1YXJlY2hvc2VuXCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcImJvYXJkc3F1YXJlY2hvc2VuXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL01vdmluZyBwaWVjZVxuICAgICAgICAgICAgZWxzZSBpZiAoIWUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImJvYXJkc3F1YXJlYmxhY2twaWVjZVwiKSAmJiAhZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYm9hcmRzcXVhcmVjaG9zZW5cIikgJiYgY3VyU3F1YXJlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvL2xldCBjaG9zZW5QaWVjZSA9IG5ldyBQaWVjZShjdXJTcXVhcmUudGV4dENvbnRlbnRbMF0sIGN1clNxdWFyZS50ZXh0Q29udGVudFsxXSwgTnVtYmVyKGN1clNxdWFyZS50ZXh0Q29udGVudFsyXSkpO1xuICAgICAgICAgICAgICAgIGxldCBjaG9zZW5QaWVjZTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGllY2VBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGllY2VBcnJheVtpXS5jb2xvciA9PSBjdXJTcXVhcmUudGV4dENvbnRlbnRbMF0gJiYgcGllY2VBcnJheVtpXS5uYW1lID09IGN1clNxdWFyZS50ZXh0Q29udGVudFsxXSAmJiBwaWVjZUFycmF5W2ldLm51bSA9PSBjdXJTcXVhcmUudGV4dENvbnRlbnRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNob3NlblBpZWNlID0gcGllY2VBcnJheVtpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBjbGFzc2VzID0gZS50YXJnZXQuY2xhc3NMaXN0O1xuICAgICAgICAgICAgICAgIGxldCBuZXdJbmRleCA9IG51bGw7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjbGFzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc2VzW2ldLnN0YXJ0c1dpdGgoXCJhXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleCA9IE51bWJlcihjbGFzc2VzW2ldLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZW5kZXJHYW1lYm9hcmQoZ2FtZWJvYXJkLCBcIkNsZWFyXCIpO1xuICAgICAgICAgICAgICAgIG90aGVyUGxheWVyLm1vdmUoZ2FtZWJvYXJkLmdyaWQsIGNob3NlblBpZWNlLCBuZXdJbmRleCwgcGxheWVyKTtcbiAgICAgICAgICAgICAgICByZW5kZXJHYW1lYm9hcmQoZ2FtZWJvYXJkKTtcbiAgICAgICAgICAgICAgICBib2FyZFNxdWFyZXMuZm9yRWFjaChib2FyZFNxdWFyZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGJvYXJkU3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoXCJib2FyZHNxdWFyZWNob3NlblwiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIGN1clNxdWFyZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmN1cnJlbnRUdXJuID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmVzLmZvckVhY2goYm9hcmRTcXVhcmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9hcmRTcXVhcmUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrUGllY2UpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXJUaXRsZS50ZXh0Q29udGVudCA9IFwiUGxheWVyIDEncyBUdXJuXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgbW92ZVBpZWNlKGN1cnJlbnRwbGF5ZXIsIHBsYXllciwgb3RoZXJQbGF5ZXIsIGdhbWVib2FyZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYm9hcmRTcXVhcmVzLmZvckVhY2goYm9hcmRTcXVhcmUgPT4ge1xuICAgICAgICAgICAgYm9hcmRTcXVhcmUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrUGllY2UpO1xuICAgICAgICB9KVxuICAgIH1cbn1cblxuZnVuY3Rpb24gY29tcHV0ZXJQbGF5ZXJNb3ZlUGllY2UocGxheWVyLCBnYW1lYm9hcmQpIHtcbiAgICBpZiAocGxheWVyLmN1cnJlbnRUdXJuID09IGZhbHNlKSB7XG4gICAgICAgIFxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGVjbGFyZURyYXcocGxheWVyKSB7XG4gICAgY29uc3QgY3VycmVudFBsYXllclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jdXJyZW50cGxheWVydGl0bGVcIik7XG4gICAgY29uc3QgZHJhd0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJhd2J1dHRvblwiKTtcbiAgICBjb25zdCBjaGVja21hdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbWF0ZWJ1dHRvblwiKTtcbiAgICBjb25zdCBib2FyZFNxdWFyZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJvYXJkc3F1YXJlXCIpO1xuICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ib2FyZFwiKTtcblxuICAgIGZ1bmN0aW9uIGNsaWNrRHJhdygpIHtcbiAgICAgICAgaWYgKHBsYXllci5jdXJyZW50VHVybiA9PSB0cnVlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGxheWVyVGl0bGUudGV4dENvbnRlbnQgPSBcIkRyYXcgZGVjbGFyZWQgYnkgUGxheWVyIDEuIFByZXNzIHRoZSBiYWNrIGJ1dHRvbiB0byBzdGFydCBhIG5ldyBnYW1lXCI7XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChwbGF5ZXIuY3VycmVudFR1cm4gPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXJUaXRsZS50ZXh0Q29udGVudCA9IFwiRHJhdyBkZWNsYXJlZCBieSBQbGF5ZXIgMi4gUHJlc3MgdGhlIGJhY2sgYnV0dG9uIHRvIHN0YXJ0IGEgbmV3IGdhbWVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGRyYXdCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrRHJhdyk7XG5cbiAgICAgICAgYm9hcmRTcXVhcmVzLmZvckVhY2goYm9hcmRTcXVhcmUgPT4ge1xuICAgICAgICAgICAgYm9hcmRTcXVhcmUucmVtb3ZlKClcbiAgICAgICAgfSlcblxuICAgICAgICBib2FyZC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIGRyYXdCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBjaGVja21hdGVCdXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIGRyYXdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrRHJhdyk7XG59XG5cbmZ1bmN0aW9uIGRlY2xhcmVDaGVja21hdGUocGxheWVyKSB7XG4gICAgY29uc3QgY3VycmVudFBsYXllclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jdXJyZW50cGxheWVydGl0bGVcIik7XG4gICAgY29uc3QgZHJhd0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJhd2J1dHRvblwiKTtcbiAgICBjb25zdCBjaGVja21hdGVCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNoZWNrbWF0ZWJ1dHRvblwiKTtcbiAgICBjb25zdCBib2FyZFNxdWFyZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmJvYXJkc3F1YXJlXCIpO1xuICAgIGNvbnN0IGJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ib2FyZFwiKTtcblxuICAgIGZ1bmN0aW9uIGNsaWNrQ2hlY2ttYXRlKCkge1xuICAgICAgICBpZiAocGxheWVyLmN1cnJlbnRUdXJuID09IHRydWUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXJUaXRsZS50ZXh0Q29udGVudCA9IFwiQ2hlY2ttYXRlIG9uIFBsYXllciAxLiBQbGF5ZXIgMiB3aW5zISBQcmVzcyB0aGUgYmFjayBidXR0b24gdG8gc3RhcnQgYSBuZXcgZ2FtZVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAocGxheWVyLmN1cnJlbnRUdXJuID09IGZhbHNlKSB7XG4gICAgICAgICAgICBjdXJyZW50UGxheWVyVGl0bGUudGV4dENvbnRlbnQgPSBcIkNoZWNrbWF0ZSBvbiBQbGF5ZXIgMi4gUGxheWVyIDEgd2lucyEgUHJlc3MgdGhlIGJhY2sgYnV0dG9uIHRvIHN0YXJ0IGEgbmV3IGdhbWVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoZWNrbWF0ZUJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY2xpY2tDaGVja21hdGUpO1xuXG4gICAgICAgIGJvYXJkU3F1YXJlcy5mb3JFYWNoKGJvYXJkU3F1YXJlID0+IHtcbiAgICAgICAgICAgIGJvYXJkU3F1YXJlLnJlbW92ZSgpXG4gICAgICAgIH0pXG5cbiAgICAgICAgYm9hcmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBkcmF3QnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgY2hlY2ttYXRlQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICBjaGVja21hdGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsaWNrQ2hlY2ttYXRlKTtcbn1cblxuZXhwb3J0IHsgZGlzcGxheUdhbWVib2FyZCwgY2hvb3NlT3Bwb25lbnQgfTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/dom.js\n");

/***/ }),

/***/ "./src/game.js":
/*!*********************!*\
  !*** ./src/game.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _style_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./style.css */ \"./src/style.css\");\n/* harmony import */ var _dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dom */ \"./src/dom.js\");\n/* harmony import */ var _javascript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./javascript */ \"./src/javascript.js\");\n\n\n\n\nlet board = new _javascript__WEBPACK_IMPORTED_MODULE_2__.Gameboard();\n\nlet player1 = new _javascript__WEBPACK_IMPORTED_MODULE_2__.Player(\"White\", true);\nlet player2 = new _javascript__WEBPACK_IMPORTED_MODULE_2__.Player(\"Black\", false);\n\n(0,_dom__WEBPACK_IMPORTED_MODULE_1__.displayGameboard)(board);\n(0,_dom__WEBPACK_IMPORTED_MODULE_1__.chooseOpponent)(\"Player 1\", player1, player2, board);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ2FtZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQXFCO0FBQ29DO0FBQ0Q7O0FBRXhELGdCQUFnQixrREFBUzs7QUFFekIsa0JBQWtCLCtDQUFNO0FBQ3hCLGtCQUFrQiwrQ0FBTTs7QUFFeEIsc0RBQWdCO0FBQ2hCLG9EQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUvLi9zcmMvZ2FtZS5qcz83ZGUwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4vc3R5bGUuY3NzXCI7XG5pbXBvcnQgeyBkaXNwbGF5R2FtZWJvYXJkLCBjaG9vc2VPcHBvbmVudCB9IGZyb20gXCIuL2RvbVwiO1xuaW1wb3J0IHsgUGllY2UsIEdhbWVib2FyZCwgUGxheWVyIH0gZnJvbSBcIi4vamF2YXNjcmlwdFwiO1xuXG5sZXQgYm9hcmQgPSBuZXcgR2FtZWJvYXJkKCk7XG5cbmxldCBwbGF5ZXIxID0gbmV3IFBsYXllcihcIldoaXRlXCIsIHRydWUpO1xubGV0IHBsYXllcjIgPSBuZXcgUGxheWVyKFwiQmxhY2tcIiwgZmFsc2UpO1xuXG5kaXNwbGF5R2FtZWJvYXJkKGJvYXJkKTtcbmNob29zZU9wcG9uZW50KFwiUGxheWVyIDFcIiwgcGxheWVyMSwgcGxheWVyMiwgYm9hcmQpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/game.js\n");

/***/ }),

/***/ "./src/javascript.js":
/*!***************************!*\
  !*** ./src/javascript.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Gameboard: () => (/* binding */ Gameboard),\n/* harmony export */   Piece: () => (/* binding */ Piece),\n/* harmony export */   Player: () => (/* binding */ Player)\n/* harmony export */ });\nclass Piece {\n    constructor(color, name, num) {\n        this.name = name;\n        this.color = color;\n        this.num = num;\n        this.firstTurn = true;\n    }\n\n    resetPiece(name, num) {\n        this.name = name;\n        this.num = num;\n        this.firstTurn = true;\n    }\n}\n\nclass Gameboard {\n    constructor() {\n        this.grid = this.createGrid();\n        this.pieces = [];\n    }\n\n    createGrid() {\n        let grid = [];\n\n        for (let i = 0; i < 8; i++) {\n            for (let j = 0; j < 8; j++) {\n                let square = '|||';\n                grid.push(square);\n            }\n        }\n\n        grid[0] = \"BR1\";\n        grid[1] = \"BN1\";\n        grid[2] = \"BB1\";\n        grid[3] = \"BQ\";\n        grid[4] = \"BK\";\n        grid[5] = \"BB2\";\n        grid[6] = \"BN2\";\n        grid[7] = \"BR2\";\n        \n        grid[8] = \"BP1\";\n        grid[9] = \"BP2\";\n        grid[10] = \"BP3\";\n        grid[11] = \"BP4\";\n        grid[12] = \"BP5\";\n        grid[13] = \"BP6\";\n        grid[14] = \"BP7\";\n        grid[15] = \"BP8\";\n\n        grid[48] = \"WP1\";\n        grid[49] = \"WP2\";\n        grid[50] = \"WP3\";\n        grid[51] = \"WP4\";\n        grid[52] = \"WP5\";\n        grid[53] = \"WP6\";\n        grid[54] = \"WP7\";\n        grid[55] = \"WP8\";\n\n        grid[56] = \"WR1\";\n        grid[57] = \"WN1\";\n        grid[58] = \"WB1\";\n        grid[59] = \"WQ\";\n        grid[60] = \"WK\";\n        grid[61] = \"WB2\";\n        grid[62] = \"WN2\";\n        grid[63] = \"WR2\";\n\n        //console.log(grid);\n\n        return grid;\n    }\n\n    printGrid() {\n        let arr = [];\n        let row1 = [];\n        let row2 = [];\n        let row3 = [];\n        let row4 = [];\n        let row5 = [];\n        let row6 = [];\n        let row7 = [];\n        let row8 = [];\n\n        row1.push(\"0   \");\n\n        for (let i = 0; i < 8; i++) {\n            row1.push(this.grid[i]);\n        }\n\n        row1.push(\"    7\");\n\n        row2.push(\"8   \");\n\n        for (let i = 8; i < 16; i++) {\n            row2.push(this.grid[i]);\n        }\n        \n        row2.push(\"  15\");\n\n        row3.push(\"16  \");\n\n        for (let i = 16; i < 24; i++) {\n            row3.push(this.grid[i]);\n        }\n\n        row3.push(\"  23\");\n\n        row4.push(\"24  \");\n\n        for (let i = 24; i < 32; i++) {\n            row4.push(this.grid[i]);\n        }\n\n        row4.push(\"  31\")\n\n        row5.push(\"32  \");\n\n        for (let i = 32; i < 40; i++) {\n            row5.push(this.grid[i]);\n        }\n\n        row5.push(\"  39\");\n\n        row6.push(\"40  \");\n\n        for (let i = 40; i < 48; i++) {\n            row6.push(this.grid[i]);\n        }\n\n        row6.push(\"  47\");\n\n        row7.push(\"48  \");\n\n        for (let i = 48; i < 56; i++) {\n            row7.push(this.grid[i]);\n        }\n\n        row7.push(\"  55\");\n\n        row8.push(\"56  \");\n\n        for (let i = 56; i < 64; i++) {\n            row8.push(this.grid[i]);\n        }\n\n        row8.push(\"    63\");\n\n        arr.push(row1.join(\" \"));\n        arr.push(row2.join(\" \"));\n        arr.push(row3.join(\" \"));\n        arr.push(row4.join(\" \"));\n        arr.push(row5.join(\" \"));\n        arr.push(row6.join(\" \"));\n        arr.push(row7.join(\" \"));\n        arr.push(row8.join(\" \"));\n\n        console.log(arr);\n\n    }\n\n    resetGrid() {\n        this.grid = this.createGrid();\n    }\n}\n\nclass Player {\n    constructor(color, currentTurn) {\n        this.color = color;\n        this.currentTurn = currentTurn;\n        this.enPassant = false;\n        this.hasMoved = false;\n        this.completedTwoSquaresMove = false;\n        this.numOfWhiteQueens = [2, 3, 4, 5, 6, 7, 8, 9];\n        this.numOfBlackQueens = [2, 3, 4, 5, 6, 7, 8, 9];\n        this.inCheck = false;\n    }\n\n    resetPlayer(currentTurn) {\n        this.currentTurn = currentTurn;\n        this.enPassant = false;\n        this.hasMoved = false;\n        this.completedTwoSquaresMove = false;\n        this.numOfWhiteQueens = [2, 3, 4, 5, 6, 7, 8, 9];\n        this.numOfBlackQueens = [2, 3, 4, 5, 6, 7, 8, 9];\n        this.inCheck = false;\n    }\n\n    move(grid, piece, newIndex, enemyPlayer) {\n        let pieceNum = piece.num;\n\n        if (pieceNum == undefined) {\n            pieceNum = \"\";\n        }\n\n        let pieceString = piece.color + piece.name + pieceNum;\n        let pieceCurrentIndex = grid.indexOf(pieceString);\n\n        if (this.checkIfKingIsInCheck(grid, piece, newIndex, this.color) == true) {\n\n        }\n\n        else if (this.checkIfKingIsInCheck(grid, piece, newIndex, this.color) == false) {\n            this.inCheck = false;\n\n            if (piece.name == \"P\") {\n                if (piece.color == \"W\") {\n                    \n                    // Moving 1 space forward \n                    if (pieceCurrentIndex - newIndex == 8) {\n                        if (grid[newIndex] != \"|||\") {\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            /*if (newIndex == 0 || newIndex == 1 || newIndex == 2 || newIndex == 3 || newIndex == 4 || newIndex == 5 || newIndex == 6 || newIndex == 7) {\n                                piece.name = \"Q\"\n                                piece.num = this.numOfWhiteQueens[0];\n                                this.numOfWhiteQueens.shift();\n                                grid[newIndex] = \"W\" + piece.name + piece.num;\n                            }*/\n                            \n                            piece.firstTurn = false;\n                            this.hasMoved = true;   \n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 2 spaces forward only during first turn\n                    else if ((pieceCurrentIndex - newIndex == 16) && piece.firstTurn == true) {\n                        if (grid[newIndex] != \"|||\") {\n\n                        }\n\n                        else if (grid[newIndex + 8] != \"|||\") {\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            /*if (newIndex == 0 || newIndex == 1 || newIndex == 2 || newIndex == 3 || newIndex == 4 || newIndex == 5 || newIndex == 6 || newIndex == 7) {\n                                piece.name = \"Q\"\n                                piece.num = this.numOfWhiteQueens[0];\n                                this.numOfWhiteQueens.shift();\n                                grid[newIndex] = \"W\" + piece.name + piece.num;\n                            }*/\n\n                            piece.firstTurn = false;\n                            this.hasMoved = true;\n                            this.completedTwoSquaresMove = true;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Capturing piece diagonally in front of it\n                    else if (pieceCurrentIndex - newIndex == 9 || pieceCurrentIndex - newIndex == 7) {\n                        \n                        if (this.enPassant == true && grid[newIndex - 8] != \"BK\") {\n                            if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                            || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                            || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                            || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                            || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                            || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                            || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n                                grid[newIndex + 8] = \"|||\"; // Capture enemy pawn\n                                this.enPassant = false;\n                                this.hasMoved = true;\n                                console.log(\"enPassant by white pawn\");  \n                                \n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n\n                        else if (grid[newIndex] == \"|||\" || grid[newIndex] == \"BK\") { // Can not capture king\n\n                        }\n\n                        else {\n                            if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                            || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                            || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                            || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                            || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                            || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                            || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                /*if (newIndex == 0 || newIndex == 1 || newIndex == 2 || newIndex == 3 || newIndex == 4 || newIndex == 5 || newIndex == 6 || newIndex == 7) {\n                                    piece.name = \"Q\"\n                                    piece.num = this.numOfWhiteQueens[0];\n                                    this.numOfWhiteQueens.shift();\n                                    grid[newIndex] = \"W\" + piece.name + piece.num;\n                                }*/\n\n                                this.hasMoved = true;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n                    }\n\n                    else {\n\n                    }\n\n                    // Check if enemy pawn can en passant. Makes sure the player pawn has moved (above occurred)\n                    if (grid[newIndex - 1].startsWith(\"BP\") && this.hasMoved == true && this.completedTwoSquaresMove == true) {\n                        enemyPlayer.enPassant = true;\n                        console.log(`White pawn ${grid[newIndex]} has black pawn ${grid[newIndex - 1]} to the left`);\n                    }\n\n                    else if (grid[newIndex + 1].startsWith(\"BP\") && this.hasMoved == true && this.completedTwoSquaresMove == true) {\n                        enemyPlayer.enPassant = true;\n                        console.log(`White pawn ${grid[newIndex]} has black pawn ${grid[newIndex + 1]} to the right`);\n                    }\n\n                    // Check if enemy king is in check\n                    if (((newIndex - 7 >= 0 && newIndex - 7 < 8) && (newIndex >= 8 && newIndex < 16))\n                    || ((newIndex - 7 >= 8 && newIndex - 7 < 16) && (newIndex >= 16 && newIndex < 24))\n                    || ((newIndex - 7 >= 16 && newIndex - 7 < 24) && (newIndex >= 24 && newIndex < 32))\n                    || ((newIndex - 7 >= 24 && newIndex - 7 < 32) && (newIndex >= 32 && newIndex < 40))\n                    || ((newIndex - 7 >= 32 && newIndex - 7 < 40) && (newIndex >= 40 && newIndex < 48))\n                    || ((newIndex - 7 >= 40 && newIndex - 7 < 48) && (newIndex >= 48 && newIndex < 56))\n                    || ((newIndex - 7 >= 48 && newIndex - 7 < 56) && (newIndex >= 56 && newIndex < 64))) {\n                        if (grid[newIndex - 7].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (((newIndex - 9 >= 0 && newIndex - 9 < 8) && (newIndex >= 8 && newIndex < 16))\n                    || ((newIndex - 9 >= 8 && newIndex - 9 < 16) && (newIndex >= 16 && newIndex < 24))\n                    || ((newIndex - 9 >= 16 && newIndex - 9 < 24) && (newIndex >= 24 && newIndex < 32))\n                    || ((newIndex - 9 >= 24 && newIndex - 9 < 32) && (newIndex >= 32 && newIndex < 40))\n                    || ((newIndex - 9 >= 32 && newIndex - 9 < 40) && (newIndex >= 40 && newIndex < 48))\n                    || ((newIndex - 9 >= 40 && newIndex - 9 < 48) && (newIndex >= 48 && newIndex < 56))\n                    || ((newIndex - 9 >= 48 && newIndex - 9 < 56) && (newIndex >= 56 && newIndex < 64))) {\n                        if (grid[newIndex - 9].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    this.hasMoved = false;\n                    this.completedTwoSquaresMove = false;\n                }\n\n                else if (piece.color == \"B\") {\n                    // Moving 1 or 2 spaces forward \n                    if (newIndex - pieceCurrentIndex == 8) {\n                        if (grid[newIndex] != \"|||\") {\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            /*if (newIndex == 56 || newIndex == 57 || newIndex == 58 || newIndex == 59 || newIndex == 60 || newIndex == 61 || newIndex == 62 || newIndex == 63) {\n                                piece.name = \"Q\"\n                                piece.num = this.numOfBlackQueens[0];\n                                this.numOfBlackQueens.shift();\n                                grid[newIndex] = \"B\" + piece.name + piece.num;\n                            }*/\n\n                            piece.firstTurn = false;\n                            this.hasMoved = true;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    else if ((newIndex - pieceCurrentIndex == 16) && piece.firstTurn == true) {\n                        if (grid[newIndex] != \"|||\") {\n\n                        }\n\n                        else if (grid[newIndex - 8] != \"|||\") {\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            /*if (newIndex == 56 || newIndex == 57 || newIndex == 58 || newIndex == 59 || newIndex == 60 || newIndex == 61 || newIndex == 62 || newIndex == 63) {\n                                piece.name = \"Q\"\n                                piece.num = this.numOfBlackQueens[0];\n                                this.numOfBlackQueens.shift();\n                                grid[newIndex] = \"B\" + piece.name + piece.num;\n                            }*/\n\n                            piece.firstTurn = false;\n                            this.hasMoved = true;\n                            this.completedTwoSquaresMove = true\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }                    \n                    }\n\n                    // Capturing piece diagonally in front of it\n                    else if (newIndex - pieceCurrentIndex == 9 || newIndex - pieceCurrentIndex == 7) {\n                        if (this.enPassant == true && grid[newIndex - 8] != \"WK\") {\n                            if (((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                            || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                            || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                            || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                            || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                            || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                            || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))) { \n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n                                grid[newIndex - 8] = \"|||\"; // Capture enemy pawn\n                                this.enPassant = false;\n                                this.hasMoved = true;\n                                console.log(\"enPassant by black pawn\");\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n\n                        else if (grid[newIndex] == \"|||\" || grid[newIndex] == \"WK\") { // Can not capture king\n\n                        }\n\n                        else {\n\n                            if (((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                            || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                            || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                            || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                            || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                            || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                            || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))) {                        \n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                /*if (newIndex == 56 || newIndex == 57 || newIndex == 58 || newIndex == 59 || newIndex == 60 || newIndex == 61 || newIndex == 62 || newIndex == 63) {\n                                    piece.name = \"Q\"\n                                    piece.num = this.numOfBlackQueens[0];\n                                    this.numOfBlackQueens.shift();\n                                    grid[newIndex] = \"B\" + piece.name + piece.num;\n                                }*/\n\n                                this.hasMoved = true;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n                    }\n\n                    else {\n\n                    }\n\n                    // Check if enemy pawn can en passant. Makes sure the player pawn has moved (above occurred)\n                    if (grid[newIndex - 1].startsWith(\"WP\") && this.hasMoved == true && this.completedTwoSquaresMove == true) {\n                        enemyPlayer.enPassant = true;\n                        console.log(`Black pawn ${grid[newIndex]} has white pawn ${grid[newIndex - 1]} to the left`);\n                    }\n\n                    else if (grid[newIndex + 1].startsWith(\"WP\") && this.hasMoved == true && this.completedTwoSquaresMove == true) {\n                        enemyPlayer.enPassant = true;\n                        console.log(`Black pawn ${grid[newIndex]} has white pawn ${grid[newIndex + 1]} to the right`);\n                    }\n\n                    // Check if enemy king is in check\n                    if (((newIndex >= 0 && newIndex < 8) && (newIndex + 7 >= 8 && newIndex + 7 < 16))\n                    || ((newIndex >= 8 && newIndex < 16) && (newIndex + 7 >= 16 && newIndex + 7 < 24))\n                    || ((newIndex >= 16 && newIndex < 24) && (newIndex + 7 >= 24 && newIndex + 7 < 32))\n                    || ((newIndex >= 24 && newIndex < 32) && (newIndex + 7 >= 32 && newIndex + 7 < 40))\n                    || ((newIndex >= 32 && newIndex < 40) && (newIndex + 7 >= 40 && newIndex + 7 < 48))\n                    || ((newIndex >= 40 && newIndex < 48) && (newIndex + 7 >= 48 && newIndex + 7 < 56))\n                    || ((newIndex >= 48 && newIndex < 56) && (newIndex + 7 >= 56 && newIndex + 7 < 64))) {\n                        if (grid[newIndex + 7].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (((newIndex >= 0 && newIndex < 8) && (newIndex + 9 >= 8 && newIndex + 9 < 16))\n                    || ((newIndex >= 8 && newIndex < 16) && (newIndex + 9 >= 16 && newIndex + 9 < 24))\n                    || ((newIndex >= 16 && newIndex < 24) && (newIndex + 9 >= 24 && newIndex + 9 < 32))\n                    || ((newIndex >= 24 && newIndex < 32) && (newIndex + 9 >= 32 && newIndex + 9 < 40))\n                    || ((newIndex >= 32 && newIndex < 40) && (newIndex + 9 >= 40 && newIndex + 9 < 48))\n                    || ((newIndex >= 40 && newIndex < 48) && (newIndex + 9 >= 48 && newIndex + 9 < 56))\n                    || ((newIndex >= 48 && newIndex < 56) && (newIndex + 9 >= 56 && newIndex + 9 < 64))) {\n                        if (grid[newIndex + 9].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    this.hasMoved = false;\n                    this.completedTwoSquaresMove = false;\n                }\n            }\n\n            else if (piece.name == \"R\") {\n\n                if (piece.color == \"W\") {\n\n                    // Moving up and capturing\n                    if (pieceCurrentIndex - newIndex == 8 || pieceCurrentIndex - newIndex == 16\n                        || pieceCurrentIndex - newIndex == 24 || pieceCurrentIndex - newIndex == 32 \n                        || pieceCurrentIndex - newIndex == 40 || pieceCurrentIndex - newIndex == 48 \n                        || pieceCurrentIndex - newIndex == 56) {\n\n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n                    }\n\n                    // Moving down and capturing\n                    else if (newIndex - pieceCurrentIndex == 8 || newIndex - pieceCurrentIndex == 16\n                        || newIndex - pieceCurrentIndex == 24 || newIndex - pieceCurrentIndex == 32 \n                        || newIndex - pieceCurrentIndex == 40 || newIndex - pieceCurrentIndex == 48 \n                        || newIndex - pieceCurrentIndex == 56) {\n                            \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                            if ((grid[i] != \"|||\") && (newIndex - pieceCurrentIndex != 8)) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n                    }\n\n                    // Moving right and capturing\n                    else if (newIndex - pieceCurrentIndex == 1 || newIndex - pieceCurrentIndex == 2\n                        || newIndex - pieceCurrentIndex == 3 || newIndex - pieceCurrentIndex == 4 \n                        || newIndex - pieceCurrentIndex == 5 || newIndex - pieceCurrentIndex == 6 \n                        || newIndex - pieceCurrentIndex == 7) {\n\n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                                if ((grid[i] != \"|||\") && (newIndex - pieceCurrentIndex != 1)) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving left and capturing\n                    else if (pieceCurrentIndex - newIndex == 1 || pieceCurrentIndex - newIndex == 2\n                        || pieceCurrentIndex - newIndex == 3 || pieceCurrentIndex - newIndex == 4 \n                        || pieceCurrentIndex - newIndex == 5 || pieceCurrentIndex - newIndex == 6 \n                        || pieceCurrentIndex - newIndex == 7) {\n                        \n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                                if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check upwards\n                    for (let i = newIndex - 8; i >= 0; i -= 8) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check downwards\n                    for (let i = newIndex + 8; i <= 63; i += 8) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check right\n                    if (newIndex >= 0 && newIndex < 8) {\n                        for (let i = newIndex + 1; i < 8; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 8 && newIndex < 16) {\n                        for (let i = newIndex + 1; i < 16; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 16 && newIndex < 24) {\n                        for (let i = newIndex + 1; i < 24; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 24 && newIndex < 32) {\n                        for (let i = newIndex + 1; i < 32; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 32 && newIndex < 40) {\n                        for (let i = newIndex + 1; i < 40; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 40 && newIndex < 48) {\n                        for (let i = newIndex + 1; i < 48; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 48 && newIndex < 56) {\n                        for (let i = newIndex + 1; i < 56; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 56 && newIndex < 64) {\n                        for (let i = newIndex + 1; i < 64; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check left\n                    if (newIndex >= 0 && newIndex < 8) {\n                        for (let i = newIndex - 1; i >= 0; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 8 && newIndex < 16) {\n                        for (let i = newIndex - 1; i >= 8; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 16 && newIndex < 24) {\n                        for (let i = newIndex - 1; i >= 16; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 24 && newIndex < 32) {\n                        for (let i = newIndex - 1; i >= 24; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 32 && newIndex < 40) {\n                        for (let i = newIndex - 1; i >= 32; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 40 && newIndex < 48) {\n                        for (let i = newIndex - 1; i >= 40; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 48 && newIndex < 56) {\n                        for (let i = newIndex - 1; i >= 48; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 56 && newIndex < 64) {\n                        for (let i = newIndex - 1; i >= 56; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                else if (piece.color == \"B\") {\n\n                    // Moving up and capturing\n                    if (pieceCurrentIndex - newIndex == 8 || pieceCurrentIndex - newIndex == 16\n                        || pieceCurrentIndex - newIndex == 24 || pieceCurrentIndex - newIndex == 32 \n                        || pieceCurrentIndex - newIndex == 40 || pieceCurrentIndex - newIndex == 48 \n                        || pieceCurrentIndex - newIndex == 56) {\n\n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n                    }\n\n                    // Moving down and capturing\n                    else if (newIndex - pieceCurrentIndex == 8 || newIndex - pieceCurrentIndex == 16\n                        || newIndex - pieceCurrentIndex == 24 || newIndex - pieceCurrentIndex == 32 \n                        || newIndex - pieceCurrentIndex == 40 || newIndex - pieceCurrentIndex == 48 \n                        || newIndex - pieceCurrentIndex == 56) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 8) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true; \n                            }\n                        }\n                    }\n\n                    // Moving right and capturing\n                    else if (newIndex - pieceCurrentIndex == 1 || newIndex - pieceCurrentIndex == 2\n                        || newIndex - pieceCurrentIndex == 3 || newIndex - pieceCurrentIndex == 4 \n                        || newIndex - pieceCurrentIndex == 5 || newIndex - pieceCurrentIndex == 6 \n                        || newIndex - pieceCurrentIndex == 7) {\n\n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                                if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 1) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving left and capturing\n                    else if (pieceCurrentIndex - newIndex == 1 || pieceCurrentIndex - newIndex == 2\n                        || pieceCurrentIndex - newIndex == 3 || pieceCurrentIndex - newIndex == 4 \n                        || pieceCurrentIndex - newIndex == 5 || pieceCurrentIndex - newIndex == 6 \n                        || pieceCurrentIndex - newIndex == 7) {\n                        \n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                                if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check upwards\n                    for (let i = newIndex - 8; i >= 0; i -= 8) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check downwards\n                    for (let i = newIndex + 8; i <= 63; i += 8) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check right\n                    if (newIndex >= 0 && newIndex < 8) {\n                        for (let i = newIndex + 1; i < 8; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 8 && newIndex < 16) {\n                        for (let i = newIndex + 1; i < 16; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 16 && newIndex < 24) {\n                        for (let i = newIndex + 1; i < 24; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 24 && newIndex < 32) {\n                        for (let i = newIndex + 1; i < 32; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 32 && newIndex < 40) {\n                        for (let i = newIndex + 1; i < 40; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 40 && newIndex < 48) {\n                        for (let i = newIndex + 1; i < 48; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 48 && newIndex < 56) {\n                        for (let i = newIndex + 1; i < 56; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 56 && newIndex < 64) {\n                        for (let i = newIndex + 1; i < 64; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check left\n                    if (newIndex >= 0 && newIndex < 8) {\n                        for (let i = newIndex - 1; i >= 0; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 8 && newIndex < 16) {\n                        for (let i = newIndex - 1; i >= 8; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 16 && newIndex < 24) {\n                        for (let i = newIndex - 1; i >= 16; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 24 && newIndex < 32) {\n                        for (let i = newIndex - 1; i >= 24; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 32 && newIndex < 40) {\n                        for (let i = newIndex - 1; i >= 32; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 40 && newIndex < 48) {\n                        for (let i = newIndex - 1; i >= 40; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 48 && newIndex < 56) {\n                        for (let i = newIndex - 1; i >= 48; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 56 && newIndex < 64) {\n                        for (let i = newIndex - 1; i >= 56; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n\n            else if (piece.name == \"B\") {\n\n                if (piece.color == \"W\") {\n\n                    // Moving up and to the right\n                    if (pieceCurrentIndex - newIndex == 7 || pieceCurrentIndex - newIndex == 14\n                        || pieceCurrentIndex - newIndex == 21 || pieceCurrentIndex - newIndex == 28 \n                        || pieceCurrentIndex - newIndex == 35 || pieceCurrentIndex - newIndex == 42 \n                        || pieceCurrentIndex - newIndex == 49) {\n\n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                                || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                                || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                                || (i == 55 && newIndex < i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }      \n                    }\n\n                    // Moving up and to the left\n                    else if (pieceCurrentIndex - newIndex == 9 || pieceCurrentIndex - newIndex == 18\n                        || pieceCurrentIndex - newIndex == 27 || pieceCurrentIndex - newIndex == 36 \n                        || pieceCurrentIndex - newIndex == 45 || pieceCurrentIndex - newIndex == 54 \n                        || pieceCurrentIndex - newIndex == 63) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                                || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                                || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n                                \n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }     \n                    }\n\n                    // Moving down and to the right\n                    else if (newIndex - pieceCurrentIndex == 9 || newIndex - pieceCurrentIndex == 18\n                        || newIndex - pieceCurrentIndex == 27 || newIndex - pieceCurrentIndex == 36 \n                        || newIndex - pieceCurrentIndex == 45 || newIndex - pieceCurrentIndex == 54 \n                        || newIndex - pieceCurrentIndex == 63) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                                || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                                || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }     \n                    }\n\n                    // Moving down and to the left\n                    else if (newIndex - pieceCurrentIndex == 7 || newIndex - pieceCurrentIndex == 14\n                        || newIndex - pieceCurrentIndex == 21 || newIndex - pieceCurrentIndex == 28 \n                        || newIndex - pieceCurrentIndex == 35 || newIndex - pieceCurrentIndex == 42 \n                        || newIndex - pieceCurrentIndex == 49) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                                || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                                || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }   \n                    }\n\n                    // Check if enemy king is in check up and to the right\n                    for (let i = newIndex - 7; i >= 0; i -= 7) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 7 || i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the left\n                    for (let i = newIndex - 9; i >= 0; i -= 9) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 0 || i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the right\n                    for (let i = newIndex + 9; i <= 63; i += 9) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55 || i == 63) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the left\n                    for (let i = newIndex + 7; i <= 63; i += 7) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48 || i == 56) {\n                            break;\n                        }\n                    }\n                }\n\n                else if (piece.color == \"B\") {\n\n                    // Moving up and to the right\n                    if (pieceCurrentIndex - newIndex == 7 || pieceCurrentIndex - newIndex == 14\n                        || pieceCurrentIndex - newIndex == 21 || pieceCurrentIndex - newIndex == 28 \n                        || pieceCurrentIndex - newIndex == 35 || pieceCurrentIndex - newIndex == 42 \n                        || pieceCurrentIndex - newIndex == 49) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                                || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                                || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                                || (i == 55 && newIndex < i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }   \n                    }\n\n                    // Moving up and to the left\n                    else if (pieceCurrentIndex - newIndex == 9 || pieceCurrentIndex - newIndex == 18\n                        || pieceCurrentIndex - newIndex == 27 || pieceCurrentIndex - newIndex == 36 \n                        || pieceCurrentIndex - newIndex == 45 || pieceCurrentIndex - newIndex == 54 \n                        || pieceCurrentIndex - newIndex == 63) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                                || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                                || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n                                \n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }    \n                    }\n\n                    // Moving down and to the right\n                    else if (newIndex - pieceCurrentIndex == 9 || newIndex - pieceCurrentIndex == 18\n                        || newIndex - pieceCurrentIndex == 27 || newIndex - pieceCurrentIndex == 36 \n                        || newIndex - pieceCurrentIndex == 45 || newIndex - pieceCurrentIndex == 54 \n                        || newIndex - pieceCurrentIndex == 63) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                                || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                                || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }   \n                    }\n\n                    // Moving down and to the left\n                    else if (newIndex - pieceCurrentIndex == 7 || newIndex - pieceCurrentIndex == 14\n                        || newIndex - pieceCurrentIndex == 21 || newIndex - pieceCurrentIndex == 28 \n                        || newIndex - pieceCurrentIndex == 35 || newIndex - pieceCurrentIndex == 42 \n                        || newIndex - pieceCurrentIndex == 49) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                                || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                                || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }  \n                    }\n\n                    // Check if enemy king is in check up and to the right\n                    for (let i = newIndex - 7; i >= 0; i -= 7) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 7 || i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the left\n                    for (let i = newIndex - 9; i >= 0; i -= 9) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 0 || i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the right\n                    for (let i = newIndex + 9; i <= 63; i += 9) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55 || i == 63) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the left\n                    for (let i = newIndex + 7; i <= 63; i += 7) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48 || i == 56) {\n                            break;\n                        }\n                    }\n                }\n            }\n\n            else if (piece.name == \"N\") {\n\n                if (piece.color == \"W\") {\n\n                    // Moving 2 squares up and 1 square right\n                    if (pieceCurrentIndex - newIndex == 15) {\n                        if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 1 square up and 2 squares right\n                    else if (pieceCurrentIndex - newIndex == 6) {\n                        if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 2 squares up and 1 square left\n                    else if (pieceCurrentIndex - newIndex == 17) {\n                        if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 1 square up and 2 squares left\n                    else if (pieceCurrentIndex - newIndex == 10) {\n                        if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 2 squares down and 1 square right\n                    else if (newIndex - pieceCurrentIndex == 17) {\n                        if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 1 square down and 2 squares right\n                    else if (newIndex - pieceCurrentIndex == 10) {\n                        if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 2 squares down and 1 square left\n                    else if (newIndex - pieceCurrentIndex == 15) {\n                        if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 1 square down and 2 squares left\n                    else if (newIndex - pieceCurrentIndex == 6) {\n                        if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Check if enemy king is in check\n                    if (grid[newIndex - 15] != undefined) {\n                        if (grid[newIndex - 15].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex - 6] != undefined) {\n                        if (grid[newIndex - 6].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex - 17] != undefined) {\n                        if (grid[newIndex - 17].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex - 10] != undefined) {\n                        if (grid[newIndex - 10].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex + 17] != undefined) {\n                        if (grid[newIndex + 17].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex + 10] != undefined) {\n                        if (grid[newIndex + 10].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex + 6] != undefined) {\n                        if (grid[newIndex + 6].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex + 15] != undefined) {\n                        if (grid[newIndex + 15].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n                }\n\n                else if (piece.color == \"B\") {\n\n                    // Moving 2 squares up and 1 square right\n                    if (pieceCurrentIndex - newIndex == 15) {\n                        if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 1 square up and 2 squares right\n                    else if (pieceCurrentIndex - newIndex == 6) {\n                        if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 2 squares up and 1 square left\n                    else if (pieceCurrentIndex - newIndex == 17) {\n                        if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 1 square up and 2 squares left\n                    else if (pieceCurrentIndex - newIndex == 10) {\n                        if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 2 squares down and 1 square right\n                    else if (newIndex - pieceCurrentIndex == 17) {\n                        if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 1 square down and 2 squares right\n                    else if (newIndex - pieceCurrentIndex == 10) {\n                        if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 2 squares down and 1 square left\n                    else if (newIndex - pieceCurrentIndex == 15) {\n                        if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Moving 1 square down and 2 squares left\n                    else if (newIndex - pieceCurrentIndex == 6) {\n                        if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            grid[pieceCurrentIndex] = \"|||\";\n                            grid[newIndex] = pieceString;\n\n                            this.currentTurn = false;\n                            enemyPlayer.currentTurn = true;\n                        }\n                    }\n\n                    // Check if enemy king is in check\n                    if (grid[newIndex - 15] != undefined) {\n                        if (grid[newIndex - 15].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex - 6] != undefined) {\n                        if (grid[newIndex - 6].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex - 17] != undefined) {\n                        if (grid[newIndex - 17].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex - 10] != undefined) {\n                        if (grid[newIndex - 10].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex + 17] != undefined) {\n                        if (grid[newIndex + 17].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex + 10] != undefined) {\n                        if (grid[newIndex + 10].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex + 6] != undefined) {\n                        if (grid[newIndex + 6].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (grid[newIndex + 15] != undefined) {\n                        if (grid[newIndex + 15].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n                }\n            }\n\n            else if (piece.name == \"Q\") {\n                \n                if (piece.color == \"W\") {\n                    \n                    // Moving up and capturing\n                    if (pieceCurrentIndex - newIndex == 8 || pieceCurrentIndex - newIndex == 16\n                        || pieceCurrentIndex - newIndex == 24 || pieceCurrentIndex - newIndex == 32 \n                        || pieceCurrentIndex - newIndex == 40 || pieceCurrentIndex - newIndex == 48 \n                        || pieceCurrentIndex - newIndex == 56) {\n\n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n                    }\n\n                    // Moving down and capturing\n                    else if (newIndex - pieceCurrentIndex == 8 || newIndex - pieceCurrentIndex == 16\n                        || newIndex - pieceCurrentIndex == 24 || newIndex - pieceCurrentIndex == 32 \n                        || newIndex - pieceCurrentIndex == 40 || newIndex - pieceCurrentIndex == 48 \n                        || newIndex - pieceCurrentIndex == 56) {\n                            \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                            if ((grid[i] != \"|||\") && (newIndex - pieceCurrentIndex != 8)) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n                    }\n\n                    // Moving right and capturing\n                    else if (newIndex - pieceCurrentIndex == 1 || newIndex - pieceCurrentIndex == 2\n                        || newIndex - pieceCurrentIndex == 3 || newIndex - pieceCurrentIndex == 4 \n                        || newIndex - pieceCurrentIndex == 5 || newIndex - pieceCurrentIndex == 6 \n                        || newIndex - pieceCurrentIndex == 7) {\n\n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                                if ((grid[i] != \"|||\") && (newIndex - pieceCurrentIndex != 1)) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving left and capturing\n                    else if (pieceCurrentIndex - newIndex == 1 || pieceCurrentIndex - newIndex == 2\n                        || pieceCurrentIndex - newIndex == 3 || pieceCurrentIndex - newIndex == 4 \n                        || pieceCurrentIndex - newIndex == 5 || pieceCurrentIndex - newIndex == 6 \n                        || pieceCurrentIndex - newIndex == 7) {\n                        \n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                                if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving up and to the right\n                    if (pieceCurrentIndex - newIndex == 7 || pieceCurrentIndex - newIndex == 14\n                        || pieceCurrentIndex - newIndex == 21 || pieceCurrentIndex - newIndex == 28 \n                        || pieceCurrentIndex - newIndex == 35 || pieceCurrentIndex - newIndex == 42 \n                        || pieceCurrentIndex - newIndex == 49) {\n\n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                                || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                                || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                                || (i == 55 && newIndex < i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }      \n                    }\n\n                    // Moving up and to the left\n                    else if (pieceCurrentIndex - newIndex == 9 || pieceCurrentIndex - newIndex == 18\n                        || pieceCurrentIndex - newIndex == 27 || pieceCurrentIndex - newIndex == 36 \n                        || pieceCurrentIndex - newIndex == 45 || pieceCurrentIndex - newIndex == 54 \n                        || pieceCurrentIndex - newIndex == 63) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                                || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                                || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }     \n                    }\n\n                    // Moving down and to the right\n                    else if (newIndex - pieceCurrentIndex == 9 || newIndex - pieceCurrentIndex == 18\n                        || newIndex - pieceCurrentIndex == 27 || newIndex - pieceCurrentIndex == 36 \n                        || newIndex - pieceCurrentIndex == 45 || newIndex - pieceCurrentIndex == 54 \n                        || newIndex - pieceCurrentIndex == 63) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                                || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                                || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }     \n                    }\n\n                    // Moving down and to the left\n                    else if (newIndex - pieceCurrentIndex == 7 || newIndex - pieceCurrentIndex == 14\n                        || newIndex - pieceCurrentIndex == 21 || newIndex - pieceCurrentIndex == 28 \n                        || newIndex - pieceCurrentIndex == 35 || newIndex - pieceCurrentIndex == 42 \n                        || newIndex - pieceCurrentIndex == 49) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                                || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                                || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }   \n                    }\n\n                    // Check if enemy king is in check upwards\n                    for (let i = newIndex - 8; i >= 0; i -= 8) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check downwards\n                    for (let i = newIndex + 8; i <= 63; i += 8) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check right\n                    if (newIndex >= 0 && newIndex < 8) {\n                        for (let i = newIndex + 1; i < 8; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 8 && newIndex < 16) {\n                        for (let i = newIndex + 1; i < 16; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 16 && newIndex < 24) {\n                        for (let i = newIndex + 1; i < 24; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 24 && newIndex < 32) {\n                        for (let i = newIndex + 1; i < 32; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 32 && newIndex < 40) {\n                        for (let i = newIndex + 1; i < 40; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 40 && newIndex < 48) {\n                        for (let i = newIndex + 1; i < 48; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 48 && newIndex < 56) {\n                        for (let i = newIndex + 1; i < 56; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 56 && newIndex < 64) {\n                        for (let i = newIndex + 1; i < 64; i++) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check left\n                    if (newIndex >= 0 && newIndex < 8) {\n                        for (let i = newIndex - 1; i >= 0; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 8 && newIndex < 16) {\n                        for (let i = newIndex - 1; i >= 8; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 16 && newIndex < 24) {\n                        for (let i = newIndex - 1; i >= 16; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 24 && newIndex < 32) {\n                        for (let i = newIndex - 1; i >= 24; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 32 && newIndex < 40) {\n                        for (let i = newIndex - 1; i >= 32; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 40 && newIndex < 48) {\n                        for (let i = newIndex - 1; i >= 40; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 48 && newIndex < 56) {\n                        for (let i = newIndex - 1; i >= 48; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 56 && newIndex < 64) {\n                        for (let i = newIndex - 1; i >= 56; i--) {\n                            if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"BK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the right\n                    for (let i = newIndex - 7; i >= 0; i -= 7) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 7 || i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the left\n                    for (let i = newIndex - 9; i >= 0; i -= 9) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 0 || i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the right\n                    for (let i = newIndex + 9; i <= 63; i += 9) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55 || i == 63) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the left\n                    for (let i = newIndex + 7; i <= 63; i += 7) {\n                        if (grid[i].startsWith(\"BK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48 || i == 56) {\n                            break;\n                        }\n                    }\n                }\n\n                else if (piece.color == \"B\") {\n\n                    // Moving up and capturing\n                    if (pieceCurrentIndex - newIndex == 8 || pieceCurrentIndex - newIndex == 16\n                        || pieceCurrentIndex - newIndex == 24 || pieceCurrentIndex - newIndex == 32 \n                        || pieceCurrentIndex - newIndex == 40 || pieceCurrentIndex - newIndex == 48 \n                        || pieceCurrentIndex - newIndex == 56) {\n\n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n                    }\n\n                    // Moving down and capturing\n                    else if (newIndex - pieceCurrentIndex == 8 || newIndex - pieceCurrentIndex == 16\n                        || newIndex - pieceCurrentIndex == 24 || newIndex - pieceCurrentIndex == 32 \n                        || newIndex - pieceCurrentIndex == 40 || newIndex - pieceCurrentIndex == 48 \n                        || newIndex - pieceCurrentIndex == 56) {\n                            \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                            if ((grid[i] != \"|||\") && (newIndex - pieceCurrentIndex != 8)) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }\n                    }\n\n                    // Moving right and capturing\n                    else if (newIndex - pieceCurrentIndex == 1 || newIndex - pieceCurrentIndex == 2\n                        || newIndex - pieceCurrentIndex == 3 || newIndex - pieceCurrentIndex == 4 \n                        || newIndex - pieceCurrentIndex == 5 || newIndex - pieceCurrentIndex == 6 \n                        || newIndex - pieceCurrentIndex == 7) {\n\n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                                if ((grid[i] != \"|||\") && (newIndex - pieceCurrentIndex != 1)) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving left and capturing\n                    else if (pieceCurrentIndex - newIndex == 1 || pieceCurrentIndex - newIndex == 2\n                        || pieceCurrentIndex - newIndex == 3 || pieceCurrentIndex - newIndex == 4 \n                        || pieceCurrentIndex - newIndex == 5 || pieceCurrentIndex - newIndex == 6 \n                        || pieceCurrentIndex - newIndex == 7) {\n                        \n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                                if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving up and to the right\n                    if (pieceCurrentIndex - newIndex == 7 || pieceCurrentIndex - newIndex == 14\n                        || pieceCurrentIndex - newIndex == 21 || pieceCurrentIndex - newIndex == 28 \n                        || pieceCurrentIndex - newIndex == 35 || pieceCurrentIndex - newIndex == 42 \n                        || pieceCurrentIndex - newIndex == 49) {\n\n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                                || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                                || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                                || (i == 55 && newIndex < i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }      \n                    }\n\n                    // Moving up and to the left\n                    else if (pieceCurrentIndex - newIndex == 9 || pieceCurrentIndex - newIndex == 18\n                        || pieceCurrentIndex - newIndex == 27 || pieceCurrentIndex - newIndex == 36 \n                        || pieceCurrentIndex - newIndex == 45 || pieceCurrentIndex - newIndex == 54 \n                        || pieceCurrentIndex - newIndex == 63) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                                || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                                || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }     \n                    }\n\n                    // Moving down and to the right\n                    else if (newIndex - pieceCurrentIndex == 9 || newIndex - pieceCurrentIndex == 18\n                        || newIndex - pieceCurrentIndex == 27 || newIndex - pieceCurrentIndex == 36 \n                        || newIndex - pieceCurrentIndex == 45 || newIndex - pieceCurrentIndex == 54 \n                        || newIndex - pieceCurrentIndex == 63) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                                || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                                || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }     \n                    }\n\n                    // Moving down and to the left\n                    else if (newIndex - pieceCurrentIndex == 7 || newIndex - pieceCurrentIndex == 14\n                        || newIndex - pieceCurrentIndex == 21 || newIndex - pieceCurrentIndex == 28 \n                        || newIndex - pieceCurrentIndex == 35 || newIndex - pieceCurrentIndex == 42 \n                        || newIndex - pieceCurrentIndex == 49) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                                || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                                || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                grid[pieceCurrentIndex] = \"|||\";\n                                grid[newIndex] = pieceString;\n\n                                this.currentTurn = false;\n                                enemyPlayer.currentTurn = true;\n                            }\n                        }   \n                    }\n\n                    // Check if enemy king is in check upwards\n                    for (let i = newIndex - 8; i >= 0; i -= 8) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check downwards\n                    for (let i = newIndex + 8; i <= 63; i += 8) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check right\n                    if (newIndex >= 0 && newIndex < 8) {\n                        for (let i = newIndex + 1; i < 8; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 8 && newIndex < 16) {\n                        for (let i = newIndex + 1; i < 16; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 16 && newIndex < 24) {\n                        for (let i = newIndex + 1; i < 24; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 24 && newIndex < 32) {\n                        for (let i = newIndex + 1; i < 32; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 32 && newIndex < 40) {\n                        for (let i = newIndex + 1; i < 40; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 40 && newIndex < 48) {\n                        for (let i = newIndex + 1; i < 48; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 48 && newIndex < 56) {\n                        for (let i = newIndex + 1; i < 56; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 56 && newIndex < 64) {\n                        for (let i = newIndex + 1; i < 64; i++) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check left\n                    if (newIndex >= 0 && newIndex < 8) {\n                        for (let i = newIndex - 1; i >= 0; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 8 && newIndex < 16) {\n                        for (let i = newIndex - 1; i >= 8; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 16 && newIndex < 24) {\n                        for (let i = newIndex - 1; i >= 16; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 24 && newIndex < 32) {\n                        for (let i = newIndex - 1; i >= 24; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 32 && newIndex < 40) {\n                        for (let i = newIndex - 1; i >= 32; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 40 && newIndex < 48) {\n                        for (let i = newIndex - 1; i >= 40; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 48 && newIndex < 56) {\n                        for (let i = newIndex - 1; i >= 48; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    else if (newIndex >= 56 && newIndex < 64) {\n                        for (let i = newIndex - 1; i >= 56; i--) {\n                            if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (grid[i].startsWith(\"WK\")) {\n                                enemyPlayer.inCheck = true;\n                                break;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the right\n                    for (let i = newIndex - 7; i >= 0; i -= 7) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 7 || i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the left\n                    for (let i = newIndex - 9; i >= 0; i -= 9) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 0 || i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the right\n                    for (let i = newIndex + 9; i <= 63; i += 9) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55 || i == 63) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the left\n                    for (let i = newIndex + 7; i <= 63; i += 7) {\n                        if (grid[i].startsWith(\"WK\") == false && grid[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (grid[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n\n                        if (i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48 || i == 56) {\n                            break;\n                        }\n                    }\n                }\n            }\n\n            else if (piece.name == \"K\") {\n\n                if (piece.color == \"W\") {\n\n                    // Moving up and capturing\n                    if (pieceCurrentIndex - newIndex == 8) {\n\n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"BK\")) {\n                                        if (newIndex == j + 8) {\n\n                                        }\n\n                                        else {\n                                            grid[pieceCurrentIndex] = \"|||\";\n                                            grid[newIndex] = pieceString;\n\n                                            this.currentTurn = false;\n                                            enemyPlayer.currentTurn = true;\n                                        }\n\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving down and capturing\n                    else if (newIndex - pieceCurrentIndex == 8) {\n                            \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                            if ((grid[i] != \"|||\") && (newIndex - pieceCurrentIndex != 8)) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"BK\")) {\n                                        if (newIndex == j - 8) {\n\n                                        }\n\n                                        else {\n                                            grid[pieceCurrentIndex] = \"|||\";\n                                            grid[newIndex] = pieceString;\n\n                                            this.currentTurn = false;\n                                            enemyPlayer.currentTurn = true;\n                                        }\n\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving right and capturing\n                    else if (newIndex - pieceCurrentIndex == 1) {\n\n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                                if ((grid[i] != \"|||\") && (newIndex - pieceCurrentIndex != 1)) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    let nextToEnemyKing = false;\n\n                                    for (let j = 0; j < 64; j++) {\n                                        if (grid[j].startsWith(\"BK\")) {\n                                            if (((newIndex >= 0 && newIndex < 8) && (j >= 0 && j < 8))\n                                            || ((newIndex >= 8 && newIndex < 16) && (j >= 8 && j < 16))\n                                            || ((newIndex >= 16 && newIndex < 24) && (j >= 16 && j < 24))\n                                            || ((newIndex >= 24 && newIndex < 32) && (j >= 24 && j < 32))\n                                            || ((newIndex >= 32 && newIndex < 40) && (j >= 32 && j < 40))\n                                            || ((newIndex >= 40 && newIndex < 48) && (j >= 40 && j < 48))\n                                            || ((newIndex >= 48 && newIndex < 56) && (j >= 48 && j < 56))\n                                            || ((newIndex >= 56 && newIndex < 64) && (j >= 56 && j < 64))) {\n                                                if (newIndex == j - 1) {\n                                                    nextToEnemyKing = true;\n                                                }\n                                            }\n                                        }\n                                    }\n\n                                    if (nextToEnemyKing == true) {\n\n                                    }\n\n                                    else {\n                                        grid[pieceCurrentIndex] = \"|||\";\n                                        grid[newIndex] = pieceString;\n\n                                        this.currentTurn = false;\n                                        enemyPlayer.currentTurn = true;\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving left and capturing\n                    else if (pieceCurrentIndex - newIndex == 1) {\n                        \n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                                if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    let nextToEnemyKing = false;\n                                    \n                                    for (let j = 0; j < 64; j++) {\n                                        if (grid[j].startsWith(\"BK\")) {\n                                            if (((newIndex >= 0 && newIndex < 8) && (j >= 0 && j < 8))\n                                            || ((newIndex >= 8 && newIndex < 16) && (j >= 8 && j < 16))\n                                            || ((newIndex >= 16 && newIndex < 24) && (j >= 16 && j < 24))\n                                            || ((newIndex >= 24 && newIndex < 32) && (j >= 24 && j < 32))\n                                            || ((newIndex >= 32 && newIndex < 40) && (j >= 32 && j < 40))\n                                            || ((newIndex >= 40 && newIndex < 48) && (j >= 40 && j < 48))\n                                            || ((newIndex >= 48 && newIndex < 56) && (j >= 48 && j < 56))\n                                            || ((newIndex >= 56 && newIndex < 64) && (j >= 56 && j < 64))) {\n                                                if (newIndex == j + 1) {\n                                                    nextToEnemyKing = true;\n                                                }\n                                            }\n                                        }\n                                    }\n\n                                    if (nextToEnemyKing == true) {\n\n                                    }\n\n                                    else {\n                                        grid[pieceCurrentIndex] = \"|||\";\n                                        grid[newIndex] = pieceString;\n\n                                        this.currentTurn = false;\n                                        enemyPlayer.currentTurn = true;\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving up and to the right\n                    if (pieceCurrentIndex - newIndex == 7) {\n\n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                                || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                                || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                                || (i == 55 && newIndex < i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"BK\")) {\n                                        if (newIndex != 7 || newIndex != 15 || newIndex != 23 \n                                        || newIndex != 31 || newIndex != 39 || newIndex != 47\n                                        || newIndex != 55) {\n                                            if (newIndex == j + 7) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }      \n                    }\n\n                    // Moving up and to the left\n                    else if (pieceCurrentIndex - newIndex == 9) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                                || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                                || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"BK\")) {\n                                        if (newIndex != 8 || newIndex != 16 || newIndex != 24 \n                                        || newIndex != 32 || newIndex != 40 || newIndex != 48) {\n                                            if (newIndex == j + 9) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }     \n                    }\n\n                    // Moving down and to the right\n                    else if (newIndex - pieceCurrentIndex == 9) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                                || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                                || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"BK\")) {\n                                        if (newIndex != 15 || newIndex != 23 || newIndex != 31 \n                                        || newIndex != 39 || newIndex != 47 || newIndex != 55) {\n                                            if (newIndex == j - 9) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }     \n                    }\n\n                    // Moving down and to the left\n                    else if (newIndex - pieceCurrentIndex == 7) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                                || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                                || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"W\") || grid[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"BK\")) {\n                                        if (newIndex != 8 || newIndex != 16 || newIndex != 24 \n                                        || newIndex != 32 || newIndex != 40 || newIndex != 48) {\n                                            if (newIndex == j - 7) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }   \n                    }\n                }\n\n                else if (piece.color == \"B\") {\n\n                    // Moving up and capturing\n                    if (pieceCurrentIndex - newIndex == 8) {\n\n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"WK\")) {\n                                        if (newIndex == j + 8) {\n\n                                        }\n\n                                        else {\n                                            grid[pieceCurrentIndex] = \"|||\";\n                                            grid[newIndex] = pieceString;\n\n                                            this.currentTurn = false;\n                                            enemyPlayer.currentTurn = true;\n                                        }\n\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving down and capturing\n                    else if (newIndex - pieceCurrentIndex == 8) {\n                            \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                            if ((grid[i] != \"|||\") && (newIndex - pieceCurrentIndex != 8)) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"WK\")) {\n                                        if (newIndex == j - 8) {\n\n                                        }\n\n                                        else {\n                                            grid[pieceCurrentIndex] = \"|||\";\n                                            grid[newIndex] = pieceString;\n\n                                            this.currentTurn = false;\n                                            enemyPlayer.currentTurn = true;\n                                        }\n\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving right and capturing\n                    else if (newIndex - pieceCurrentIndex == 1) {\n\n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                                if ((grid[i] != \"|||\") && (newIndex - pieceCurrentIndex != 1)) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    let nextToEnemyKing = false;\n\n                                    for (let j = 0; j < 64; j++) {\n                                        if (grid[j].startsWith(\"WK\")) {\n                                            if (((newIndex >= 0 && newIndex < 8) && (j >= 0 && j < 8))\n                                            || ((newIndex >= 8 && newIndex < 16) && (j >= 8 && j < 16))\n                                            || ((newIndex >= 16 && newIndex < 24) && (j >= 16 && j < 24))\n                                            || ((newIndex >= 24 && newIndex < 32) && (j >= 24 && j < 32))\n                                            || ((newIndex >= 32 && newIndex < 40) && (j >= 32 && j < 40))\n                                            || ((newIndex >= 40 && newIndex < 48) && (j >= 40 && j < 48))\n                                            || ((newIndex >= 48 && newIndex < 56) && (j >= 48 && j < 56))\n                                            || ((newIndex >= 56 && newIndex < 64) && (j >= 56 && j < 64))) {\n                                                if (newIndex == j - 1) {\n                                                    nextToEnemyKing = true;\n                                                }\n                                            }\n                                        }\n                                    }\n\n                                    if (nextToEnemyKing == true) {\n\n                                    }\n\n                                    else {\n                                        grid[pieceCurrentIndex] = \"|||\";\n                                        grid[newIndex] = pieceString;\n\n                                        this.currentTurn = false;\n                                        enemyPlayer.currentTurn = true;\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving left and capturing\n                    else if (pieceCurrentIndex - newIndex == 1) {\n                        \n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                            \n                            let notAllEmpty = false;\n\n                            for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                                if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                    notAllEmpty = true;\n                                }\n                            }\n\n                            if (notAllEmpty == false) {\n                                if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                                }\n\n                                else {\n                                    let nextToEnemyKing = false;\n                                    \n                                    for (let j = 0; j < 64; j++) {\n                                        if (grid[j].startsWith(\"WK\")) {\n                                            if (((newIndex >= 0 && newIndex < 8) && (j >= 0 && j < 8))\n                                            || ((newIndex >= 8 && newIndex < 16) && (j >= 8 && j < 16))\n                                            || ((newIndex >= 16 && newIndex < 24) && (j >= 16 && j < 24))\n                                            || ((newIndex >= 24 && newIndex < 32) && (j >= 24 && j < 32))\n                                            || ((newIndex >= 32 && newIndex < 40) && (j >= 32 && j < 40))\n                                            || ((newIndex >= 40 && newIndex < 48) && (j >= 40 && j < 48))\n                                            || ((newIndex >= 48 && newIndex < 56) && (j >= 48 && j < 56))\n                                            || ((newIndex >= 56 && newIndex < 64) && (j >= 56 && j < 64))) {\n                                                if (newIndex == j + 1) {\n                                                    nextToEnemyKing = true;\n                                                }\n                                            }\n                                        }\n                                    }\n\n                                    if (nextToEnemyKing == true) {\n\n                                    }\n\n                                    else {\n                                        grid[pieceCurrentIndex] = \"|||\";\n                                        grid[newIndex] = pieceString;\n\n                                        this.currentTurn = false;\n                                        enemyPlayer.currentTurn = true;\n                                    }\n                                }\n                            }\n                        }\n                    }\n\n                    // Moving up and to the right\n                    if (pieceCurrentIndex - newIndex == 7) {\n\n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                                || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                                || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                                || (i == 55 && newIndex < i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"WK\")) {\n                                        if (newIndex != 7 || newIndex != 15 || newIndex != 23 \n                                        || newIndex != 31 || newIndex != 39 || newIndex != 47\n                                        || newIndex != 55) {\n                                            if (newIndex == j + 7) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }      \n                    }\n\n                    // Moving up and to the left\n                    else if (pieceCurrentIndex - newIndex == 9) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                            if ((grid[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                                || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                                || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"WK\")) {\n                                        if (newIndex != 8 || newIndex != 16 || newIndex != 24 \n                                        || newIndex != 32 || newIndex != 40 || newIndex != 48) {\n                                            if (newIndex == j + 9) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }     \n                    }\n\n                    // Moving down and to the right\n                    else if (newIndex - pieceCurrentIndex == 9) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                                || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                                || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"WK\")) {\n                                        if (newIndex != 15 || newIndex != 23 || newIndex != 31 \n                                        || newIndex != 39 || newIndex != 47 || newIndex != 55) {\n                                            if (newIndex == j - 9) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n                                    \n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }     \n                    }\n\n                    // Moving down and to the left\n                    else if (newIndex - pieceCurrentIndex == 7) {\n                        \n                        let notAllEmpty = false;\n                        let hitEdge = false;\n\n                        for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                            if ((grid[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                                notAllEmpty = true;\n                            }\n\n                            if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                                || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                                || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                                hitEdge = true;\n                                break;\n                            }\n                        }\n\n                        if (notAllEmpty == false && hitEdge == false) {\n                            if (grid[newIndex].startsWith(\"B\") || grid[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n\n                                for (let j = 0; j < 64; j++) {\n                                    if (grid[j].startsWith(\"WK\")) {\n                                        if (newIndex != 8 || newIndex != 16 || newIndex != 24 \n                                        || newIndex != 32 || newIndex != 40 || newIndex != 48) {\n                                            if (newIndex == j - 7) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    grid[pieceCurrentIndex] = \"|||\";\n                                    grid[newIndex] = pieceString;\n\n                                    this.currentTurn = false;\n                                    enemyPlayer.currentTurn = true;\n                                }\n                            }\n                        }   \n                    } \n                }\n            }\n        }\n\n        //console.log(grid);\n    }\n\n    /*  Copy of grid is created and player's move is applied to the copy of grid.\n        Check if any of the enemy's pieces puts the player's king in check after the move.\n        Return true if in check\n    */\n    checkIfKingIsInCheck(grid, piece, newIndex, player) {\n        let gridCopy = [...grid];\n\n        let pieceNum = piece.num;\n\n        if (pieceNum == undefined) {\n            pieceNum = \"\";\n        }\n\n        let pieceString = piece.color + piece.name + pieceNum;\n        let pieceCurrentIndex = gridCopy.indexOf(pieceString);\n\n        if (piece.name == \"P\") {\n            if (piece.color == \"W\") {\n                \n                // Moving 1 space forward \n                if (pieceCurrentIndex - newIndex == 8) {\n                    if (gridCopy[newIndex] != \"|||\") {\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                        /*piece.firstTurn = false;\n                        this.hasMoved = true;*/\n                    }\n                }\n\n                // Moving 2 spaces forward only during first turn\n                else if ((pieceCurrentIndex - newIndex == 16) && piece.firstTurn == true) {\n                    if (gridCopy[newIndex] != \"|||\") {\n\n                    }\n\n                    else if (gridCopy[newIndex + 8] != \"|||\") {\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                        /*piece.firstTurn = false;\n                        this.hasMoved = true;\n                        this.completedTwoSquaresMove = true;*/\n                    }\n                }\n\n                // Capturing piece diagonally in front of it\n                else if (pieceCurrentIndex - newIndex == 9 || pieceCurrentIndex - newIndex == 7) {\n                    \n                    if (this.enPassant == true && gridCopy[newIndex - 8] != \"BK\") {\n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                            gridCopy[newIndex + 8] = \"|||\"; // Capture enemy pawn\n                            /*this.enPassant = false;\n                            this.hasMoved = true;\n                            console.log(\"enPassant by white pawn\");*/                         \n                        }\n                    }\n\n                    else if (gridCopy[newIndex] == \"|||\" || gridCopy[newIndex] == \"BK\") { // Can not capture king\n\n                    }\n\n                    else {\n                        if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                            /*this.hasMoved = true;*/\n                        }\n                    }\n                }\n\n                else {\n\n                }\n\n                // Check if enemy pawn can en passant. Makes sure the player pawn has moved (above occurred)\n                /*if (gridCopy[newIndex - 1].startsWith(\"BP\") && this.hasMoved == true && this.completedTwoSquaresMove == true) {\n                    enemyPlayer.enPassant = true;\n                    console.log(`White pawn ${gridCopy[newIndex]} has black pawn ${gridCopy[newIndex - 1]} to the left`);\n                }\n\n                else if (gridCopy[newIndex + 1].startsWith(\"BP\") && this.hasMoved == true && this.completedTwoSquaresMove == true) {\n                    enemyPlayer.enPassant = true;\n                    console.log(`White pawn ${gridCopy[newIndex]} has black pawn ${gridCopy[newIndex + 1]} to the right`);\n                } */\n\n                // Check if enemy king is in check\n                /*if (((newIndex - 7 >= 0 && newIndex - 7 < 8) && (newIndex >= 8 && newIndex < 16))\n                || ((newIndex - 7 >= 8 && newIndex - 7 < 16) && (newIndex >= 16 && newIndex < 24))\n                || ((newIndex - 7 >= 16 && newIndex - 7 < 24) && (newIndex >= 24 && newIndex < 32))\n                || ((newIndex - 7 >= 24 && newIndex - 7 < 32) && (newIndex >= 32 && newIndex < 40))\n                || ((newIndex - 7 >= 32 && newIndex - 7 < 40) && (newIndex >= 40 && newIndex < 48))\n                || ((newIndex - 7 >= 40 && newIndex - 7 < 48) && (newIndex >= 48 && newIndex < 56))\n                || ((newIndex - 7 >= 48 && newIndex - 7 < 56) && (newIndex >= 56 && newIndex < 64))) {\n                    if (gridCopy[newIndex - 7].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (((newIndex - 9 >= 0 && newIndex - 9 < 8) && (newIndex >= 8 && newIndex < 16))\n                || ((newIndex - 9 >= 8 && newIndex - 9 < 16) && (newIndex >= 16 && newIndex < 24))\n                || ((newIndex - 9 >= 16 && newIndex - 9 < 24) && (newIndex >= 24 && newIndex < 32))\n                || ((newIndex - 9 >= 24 && newIndex - 9 < 32) && (newIndex >= 32 && newIndex < 40))\n                || ((newIndex - 9 >= 32 && newIndex - 9 < 40) && (newIndex >= 40 && newIndex < 48))\n                || ((newIndex - 9 >= 40 && newIndex - 9 < 48) && (newIndex >= 48 && newIndex < 56))\n                || ((newIndex - 9 >= 48 && newIndex - 9 < 56) && (newIndex >= 56 && newIndex < 64))) {\n                    if (gridCopy[newIndex - 9].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                } */\n\n                /*if (newIndex == 0 || newIndex == 1 || newIndex == 2 || newIndex == 3 || newIndex == 4 || newIndex == 5 || newIndex == 6 || newIndex == 7) {\n                    piece.name = \"Q\"\n                    piece.num = this.numOfWhiteQueens[0];\n                    this.numOfWhiteQueens.shift();\n                    gridCopy[newIndex] = \"W\" + piece.name + piece.num;\n                } */\n\n                /*this.hasMoved = false;\n                this.completedTwoSquaresMove = false; */\n            }\n\n            else if (piece.color == \"B\") {\n                // Moving 1 or 2 spaces forward \n                if (newIndex - pieceCurrentIndex == 8) {\n                    if (gridCopy[newIndex] != \"|||\") {\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                        /*piece.firstTurn = false;\n                        this.hasMoved = true;*/\n                    }\n                }\n\n                else if ((newIndex - pieceCurrentIndex == 16) && piece.firstTurn == true) {\n                    if (gridCopy[newIndex] != \"|||\") {\n\n                    }\n\n                    else if (gridCopy[newIndex - 8] != \"|||\") {\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                        /*piece.firstTurn = false;\n                        this.hasMoved = true;\n                        this.completedTwoSquaresMove = true*/\n                    }                    \n                }\n\n                // Capturing piece diagonally in front of it\n                else if (newIndex - pieceCurrentIndex == 9 || newIndex - pieceCurrentIndex == 7) {\n                    if (this.enPassant == true && gridCopy[newIndex - 8] != \"WK\") {\n                        if (((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))) { \n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                            gridCopy[newIndex - 8] = \"|||\"; // Capture enemy pawn\n                            /*this.enPassant = false;\n                            this.hasMoved = true;\n                            console.log(\"enPassant by black pawn\");*/\n                        }\n                    }\n\n                    else if (gridCopy[newIndex] == \"|||\" || gridCopy[newIndex] == \"WK\") { // Can not capture king\n\n                    }\n\n                    else {\n\n                        if (((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                        || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                        || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                        || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                        || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                        || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                        || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))) {                        \n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                            /*this.hasMoved = true;*/\n                        }\n                    }\n                }\n\n                else {\n\n                }\n\n                // Check if enemy pawn can en passant. Makes sure the player pawn has moved (above occurred)\n                /*if (gridCopy[newIndex - 1].startsWith(\"WP\") && this.hasMoved == true && this.completedTwoSquaresMove == true) {\n                    enemyPlayer.enPassant = true;\n                    console.log(`Black pawn ${gridCopy[newIndex]} has white pawn ${gridCopy[newIndex - 1]} to the left`);\n                }\n\n                else if (gridCopy[newIndex + 1].startsWith(\"WP\") && this.hasMoved == true && this.completedTwoSquaresMove == true) {\n                    enemyPlayer.enPassant = true;\n                    console.log(`Black pawn ${gridCopy[newIndex]} has white pawn ${gridCopy[newIndex + 1]} to the right`);\n                }*/\n\n                // Check if enemy king is in check\n                /*if (((newIndex >= 0 && newIndex < 8) && (newIndex + 7 >= 8 && newIndex + 7 < 16))\n                || ((newIndex >= 8 && newIndex < 16) && (newIndex + 7 >= 16 && newIndex + 7 < 24))\n                || ((newIndex >= 16 && newIndex < 24) && (newIndex + 7 >= 24 && newIndex + 7 < 32))\n                || ((newIndex >= 24 && newIndex < 32) && (newIndex + 7 >= 32 && newIndex + 7 < 40))\n                || ((newIndex >= 32 && newIndex < 40) && (newIndex + 7 >= 40 && newIndex + 7 < 48))\n                || ((newIndex >= 40 && newIndex < 48) && (newIndex + 7 >= 48 && newIndex + 7 < 56))\n                || ((newIndex >= 48 && newIndex < 56) && (newIndex + 7 >= 56 && newIndex + 7 < 64))) {\n                    if (gridCopy[newIndex + 7].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (((newIndex >= 0 && newIndex < 8) && (newIndex + 9 >= 8 && newIndex + 9 < 16))\n                || ((newIndex >= 8 && newIndex < 16) && (newIndex + 9 >= 16 && newIndex + 9 < 24))\n                || ((newIndex >= 16 && newIndex < 24) && (newIndex + 9 >= 24 && newIndex + 9 < 32))\n                || ((newIndex >= 24 && newIndex < 32) && (newIndex + 9 >= 32 && newIndex + 9 < 40))\n                || ((newIndex >= 32 && newIndex < 40) && (newIndex + 9 >= 40 && newIndex + 9 < 48))\n                || ((newIndex >= 40 && newIndex < 48) && (newIndex + 9 >= 48 && newIndex + 9 < 56))\n                || ((newIndex >= 48 && newIndex < 56) && (newIndex + 9 >= 56 && newIndex + 9 < 64))) {\n                    if (gridCopy[newIndex + 9].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }*/\n\n\n                /*if (newIndex == 0 || newIndex == 1 || newIndex == 2 || newIndex == 3 || newIndex == 4 || newIndex == 5 || newIndex == 6 || newIndex == 7) {\n                    piece.name = \"Q\"\n                    piece.num = this.numOfBlackQueens[0];\n                    this.numOfBlackQueens.shift();\n                    gridCopy[newIndex] = \"B\" + piece.name + piece.num;\n                }*/\n\n                /*this.hasMoved = false;\n                this.completedTwoSquaresMove = false;*/\n            }\n        }\n\n        else if (piece.name == \"R\") {\n\n            if (piece.color == \"W\") {\n\n                // Moving up and capturing\n                if (pieceCurrentIndex - newIndex == 8 || pieceCurrentIndex - newIndex == 16\n                    || pieceCurrentIndex - newIndex == 24 || pieceCurrentIndex - newIndex == 32 \n                    || pieceCurrentIndex - newIndex == 40 || pieceCurrentIndex - newIndex == 48 \n                    || pieceCurrentIndex - newIndex == 56) {\n\n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }\n                }\n\n                // Moving down and capturing\n                else if (newIndex - pieceCurrentIndex == 8 || newIndex - pieceCurrentIndex == 16\n                    || newIndex - pieceCurrentIndex == 24 || newIndex - pieceCurrentIndex == 32 \n                    || newIndex - pieceCurrentIndex == 40 || newIndex - pieceCurrentIndex == 48 \n                    || newIndex - pieceCurrentIndex == 56) {\n                        \n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                        if ((gridCopy[i] != \"|||\") && (newIndex - pieceCurrentIndex != 8)) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }\n                }\n\n                // Moving right and capturing\n                else if (newIndex - pieceCurrentIndex == 1 || newIndex - pieceCurrentIndex == 2\n                    || newIndex - pieceCurrentIndex == 3 || newIndex - pieceCurrentIndex == 4 \n                    || newIndex - pieceCurrentIndex == 5 || newIndex - pieceCurrentIndex == 6 \n                    || newIndex - pieceCurrentIndex == 7) {\n\n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                            if ((gridCopy[i] != \"|||\") && (newIndex - pieceCurrentIndex != 1)) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }\n                }\n\n                // Moving left and capturing\n                else if (pieceCurrentIndex - newIndex == 1 || pieceCurrentIndex - newIndex == 2\n                    || pieceCurrentIndex - newIndex == 3 || pieceCurrentIndex - newIndex == 4 \n                    || pieceCurrentIndex - newIndex == 5 || pieceCurrentIndex - newIndex == 6 \n                    || pieceCurrentIndex - newIndex == 7) {\n                    \n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                            if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }\n                }\n\n                // Check if enemy king is in check upwards\n                /*for (let i = newIndex - 8; i >= 0; i -= 8) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n                }*/\n\n                // Check if enemy king is in check downwards\n                /*for (let i = newIndex + 8; i <= 63; i += 8) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n                }*/\n\n                // Check if enemy king is in check right\n                /*if (newIndex >= 0 && newIndex < 8) {\n                    for (let i = newIndex + 1; i < 8; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 8 && newIndex < 16) {\n                    for (let i = newIndex + 1; i < 16; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 16 && newIndex < 24) {\n                    for (let i = newIndex + 1; i < 24; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 24 && newIndex < 32) {\n                    for (let i = newIndex + 1; i < 32; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 32 && newIndex < 40) {\n                    for (let i = newIndex + 1; i < 40; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 40 && newIndex < 48) {\n                    for (let i = newIndex + 1; i < 48; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 48 && newIndex < 56) {\n                    for (let i = newIndex + 1; i < 56; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 56 && newIndex < 64) {\n                    for (let i = newIndex + 1; i < 64; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                // Check if enemy king is in check left\n                if (newIndex >= 0 && newIndex < 8) {\n                    for (let i = newIndex - 1; i >= 0; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 8 && newIndex < 16) {\n                    for (let i = newIndex - 1; i >= 8; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 16 && newIndex < 24) {\n                    for (let i = newIndex - 1; i >= 16; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 24 && newIndex < 32) {\n                    for (let i = newIndex - 1; i >= 24; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 32 && newIndex < 40) {\n                    for (let i = newIndex - 1; i >= 32; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 40 && newIndex < 48) {\n                    for (let i = newIndex - 1; i >= 40; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 48 && newIndex < 56) {\n                    for (let i = newIndex - 1; i >= 48; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 56 && newIndex < 64) {\n                    for (let i = newIndex - 1; i >= 56; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }*/\n            }\n\n            else if (piece.color == \"B\") {\n\n                // Moving up and capturing\n                if (pieceCurrentIndex - newIndex == 8 || pieceCurrentIndex - newIndex == 16\n                    || pieceCurrentIndex - newIndex == 24 || pieceCurrentIndex - newIndex == 32 \n                    || pieceCurrentIndex - newIndex == 40 || pieceCurrentIndex - newIndex == 48 \n                    || pieceCurrentIndex - newIndex == 56) {\n\n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }\n                }\n\n                // Moving down and capturing\n                else if (newIndex - pieceCurrentIndex == 8 || newIndex - pieceCurrentIndex == 16\n                    || newIndex - pieceCurrentIndex == 24 || newIndex - pieceCurrentIndex == 32 \n                    || newIndex - pieceCurrentIndex == 40 || newIndex - pieceCurrentIndex == 48 \n                    || newIndex - pieceCurrentIndex == 56) {\n                    \n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 8) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }\n                }\n\n                // Moving right and capturing\n                else if (newIndex - pieceCurrentIndex == 1 || newIndex - pieceCurrentIndex == 2\n                    || newIndex - pieceCurrentIndex == 3 || newIndex - pieceCurrentIndex == 4 \n                    || newIndex - pieceCurrentIndex == 5 || newIndex - pieceCurrentIndex == 6 \n                    || newIndex - pieceCurrentIndex == 7) {\n\n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                            if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 1) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }\n                }\n\n                // Moving left and capturing\n                else if (pieceCurrentIndex - newIndex == 1 || pieceCurrentIndex - newIndex == 2\n                    || pieceCurrentIndex - newIndex == 3 || pieceCurrentIndex - newIndex == 4 \n                    || pieceCurrentIndex - newIndex == 5 || pieceCurrentIndex - newIndex == 6 \n                    || pieceCurrentIndex - newIndex == 7) {\n                    \n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                            if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }\n                }\n\n                /*\n                // Check if enemy king is in check upwards\n                for (let i = newIndex - 8; i >= 0; i -= 8) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check downwards\n                for (let i = newIndex + 8; i <= 63; i += 8) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check right\n                if (newIndex >= 0 && newIndex < 8) {\n                    for (let i = newIndex + 1; i < 8; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 8 && newIndex < 16) {\n                    for (let i = newIndex + 1; i < 16; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 16 && newIndex < 24) {\n                    for (let i = newIndex + 1; i < 24; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 24 && newIndex < 32) {\n                    for (let i = newIndex + 1; i < 32; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 32 && newIndex < 40) {\n                    for (let i = newIndex + 1; i < 40; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 40 && newIndex < 48) {\n                    for (let i = newIndex + 1; i < 48; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 48 && newIndex < 56) {\n                    for (let i = newIndex + 1; i < 56; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 56 && newIndex < 64) {\n                    for (let i = newIndex + 1; i < 64; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                // Check if enemy king is in check left\n                if (newIndex >= 0 && newIndex < 8) {\n                    for (let i = newIndex - 1; i >= 0; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 8 && newIndex < 16) {\n                    for (let i = newIndex - 1; i >= 8; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 16 && newIndex < 24) {\n                    for (let i = newIndex - 1; i >= 16; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 24 && newIndex < 32) {\n                    for (let i = newIndex - 1; i >= 24; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 32 && newIndex < 40) {\n                    for (let i = newIndex - 1; i >= 32; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 40 && newIndex < 48) {\n                    for (let i = newIndex - 1; i >= 40; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 48 && newIndex < 56) {\n                    for (let i = newIndex - 1; i >= 48; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 56 && newIndex < 64) {\n                    for (let i = newIndex - 1; i >= 56; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }*/\n            }\n        }\n\n        else if (piece.name == \"B\") {\n\n            if (piece.color == \"W\") {\n\n                // Moving up and to the right\n                if (pieceCurrentIndex - newIndex == 7 || pieceCurrentIndex - newIndex == 14\n                    || pieceCurrentIndex - newIndex == 21 || pieceCurrentIndex - newIndex == 28 \n                    || pieceCurrentIndex - newIndex == 35 || pieceCurrentIndex - newIndex == 42 \n                    || pieceCurrentIndex - newIndex == 49) {\n\n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                            || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                            || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                            || (i == 55 && newIndex < i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }      \n                }\n\n                // Moving up and to the left\n                else if (pieceCurrentIndex - newIndex == 9 || pieceCurrentIndex - newIndex == 18\n                    || pieceCurrentIndex - newIndex == 27 || pieceCurrentIndex - newIndex == 36 \n                    || pieceCurrentIndex - newIndex == 45 || pieceCurrentIndex - newIndex == 54 \n                    || pieceCurrentIndex - newIndex == 63) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                            || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                            || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }     \n                }\n\n                // Moving down and to the right\n                else if (newIndex - pieceCurrentIndex == 9 || newIndex - pieceCurrentIndex == 18\n                    || newIndex - pieceCurrentIndex == 27 || newIndex - pieceCurrentIndex == 36 \n                    || newIndex - pieceCurrentIndex == 45 || newIndex - pieceCurrentIndex == 54 \n                    || newIndex - pieceCurrentIndex == 63) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                            || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                            || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }     \n                }\n\n                // Moving down and to the left\n                else if (newIndex - pieceCurrentIndex == 7 || newIndex - pieceCurrentIndex == 14\n                    || newIndex - pieceCurrentIndex == 21 || newIndex - pieceCurrentIndex == 28 \n                    || newIndex - pieceCurrentIndex == 35 || newIndex - pieceCurrentIndex == 42 \n                    || newIndex - pieceCurrentIndex == 49) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                            || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                            || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }   \n                }\n\n                /*\n                // Check if enemy king is in check up and to the right\n                for (let i = newIndex - 7; i >= 0; i -= 7) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 7 || i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check up and to the left\n                for (let i = newIndex - 9; i >= 0; i -= 9) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 0 || i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check down and to the right\n                for (let i = newIndex + 9; i <= 63; i += 9) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55 || i == 63) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check down and to the left\n                for (let i = newIndex + 7; i <= 63; i += 7) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48 || i == 56) {\n                        break;\n                    }\n                }*/\n            }\n\n            else if (piece.color == \"B\") {\n\n                // Moving up and to the right\n                if (pieceCurrentIndex - newIndex == 7 || pieceCurrentIndex - newIndex == 14\n                    || pieceCurrentIndex - newIndex == 21 || pieceCurrentIndex - newIndex == 28 \n                    || pieceCurrentIndex - newIndex == 35 || pieceCurrentIndex - newIndex == 42 \n                    || pieceCurrentIndex - newIndex == 49) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                            || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                            || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                            || (i == 55 && newIndex < i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }   \n                }\n\n                // Moving up and to the left\n                else if (pieceCurrentIndex - newIndex == 9 || pieceCurrentIndex - newIndex == 18\n                    || pieceCurrentIndex - newIndex == 27 || pieceCurrentIndex - newIndex == 36 \n                    || pieceCurrentIndex - newIndex == 45 || pieceCurrentIndex - newIndex == 54 \n                    || pieceCurrentIndex - newIndex == 63) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                            || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                            || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }    \n                }\n\n                // Moving down and to the right\n                else if (newIndex - pieceCurrentIndex == 9 || newIndex - pieceCurrentIndex == 18\n                    || newIndex - pieceCurrentIndex == 27 || newIndex - pieceCurrentIndex == 36 \n                    || newIndex - pieceCurrentIndex == 45 || newIndex - pieceCurrentIndex == 54 \n                    || newIndex - pieceCurrentIndex == 63) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                            || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                            || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }   \n                }\n\n                // Moving down and to the left\n                else if (newIndex - pieceCurrentIndex == 7 || newIndex - pieceCurrentIndex == 14\n                    || newIndex - pieceCurrentIndex == 21 || newIndex - pieceCurrentIndex == 28 \n                    || newIndex - pieceCurrentIndex == 35 || newIndex - pieceCurrentIndex == 42 \n                    || newIndex - pieceCurrentIndex == 49) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                            || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                            || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }  \n                }\n\n                /*\n                // Check if enemy king is in check up and to the right\n                for (let i = newIndex - 7; i >= 0; i -= 7) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 7 || i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check up and to the left\n                for (let i = newIndex - 9; i >= 0; i -= 9) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 0 || i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check down and to the right\n                for (let i = newIndex + 9; i <= 63; i += 9) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55 || i == 63) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check down and to the left\n                for (let i = newIndex + 7; i <= 63; i += 7) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48 || i == 56) {\n                        break;\n                    }\n                }*/\n            }\n        }\n\n        else if (piece.name == \"N\") {\n\n            if (piece.color == \"W\") {\n\n                // Moving 2 squares up and 1 square right\n                if (pieceCurrentIndex - newIndex == 15) {\n                    if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 1 square up and 2 squares right\n                else if (pieceCurrentIndex - newIndex == 6) {\n                    if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 2 squares up and 1 square left\n                else if (pieceCurrentIndex - newIndex == 17) {\n                    if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 1 square up and 2 squares left\n                else if (pieceCurrentIndex - newIndex == 10) {\n                    if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 2 squares down and 1 square right\n                else if (newIndex - pieceCurrentIndex == 17) {\n                    if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 1 square down and 2 squares right\n                else if (newIndex - pieceCurrentIndex == 10) {\n                    if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 2 squares down and 1 square left\n                else if (newIndex - pieceCurrentIndex == 15) {\n                    if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 1 square down and 2 squares left\n                else if (newIndex - pieceCurrentIndex == 6) {\n                    if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                /*\n                // Check if enemy king is in check\n                if (gridCopy[newIndex - 15] != undefined) {\n                    if (gridCopy[newIndex - 15].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex - 6] != undefined) {\n                    if (gridCopy[newIndex - 6].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex - 17] != undefined) {\n                    if (gridCopy[newIndex - 17].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex - 10] != undefined) {\n                    if (gridCopy[newIndex - 10].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex + 17] != undefined) {\n                    if (gridCopy[newIndex + 17].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex + 10] != undefined) {\n                    if (gridCopy[newIndex + 10].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex + 6] != undefined) {\n                    if (gridCopy[newIndex + 6].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex + 15] != undefined) {\n                    if (gridCopy[newIndex + 15].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                } */\n            }\n\n            else if (piece.color == \"B\") {\n\n                // Moving 2 squares up and 1 square right\n                if (pieceCurrentIndex - newIndex == 15) {\n                    if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 1 square up and 2 squares right\n                else if (pieceCurrentIndex - newIndex == 6) {\n                    if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 2 squares up and 1 square left\n                else if (pieceCurrentIndex - newIndex == 17) {\n                    if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 1 square up and 2 squares left\n                else if (pieceCurrentIndex - newIndex == 10) {\n                    if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 2 squares down and 1 square right\n                else if (newIndex - pieceCurrentIndex == 17) {\n                    if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 1 square down and 2 squares right\n                else if (newIndex - pieceCurrentIndex == 10) {\n                    if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 2 squares down and 1 square left\n                else if (newIndex - pieceCurrentIndex == 15) {\n                    if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                // Moving 1 square down and 2 squares left\n                else if (newIndex - pieceCurrentIndex == 6) {\n                    if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                    }\n\n                    else {\n                        gridCopy[pieceCurrentIndex] = \"|||\";\n                        gridCopy[newIndex] = pieceString;\n                    }\n                }\n\n                /*\n                // Check if enemy king is in check\n                if (gridCopy[newIndex - 15] != undefined) {\n                    if (gridCopy[newIndex - 15].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex - 6] != undefined) {\n                    if (gridCopy[newIndex - 6].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex - 17] != undefined) {\n                    if (gridCopy[newIndex - 17].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex - 10] != undefined) {\n                    if (gridCopy[newIndex - 10].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex + 17] != undefined) {\n                    if (gridCopy[newIndex + 17].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex + 10] != undefined) {\n                    if (gridCopy[newIndex + 10].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex + 6] != undefined) {\n                    if (gridCopy[newIndex + 6].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                }\n\n                else if (gridCopy[newIndex + 15] != undefined) {\n                    if (gridCopy[newIndex + 15].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                    }\n                } */\n            }\n        }\n\n        else if (piece.name == \"Q\") {\n            \n            if (piece.color == \"W\") {\n                \n                // Moving up and capturing\n                if (pieceCurrentIndex - newIndex == 8 || pieceCurrentIndex - newIndex == 16\n                    || pieceCurrentIndex - newIndex == 24 || pieceCurrentIndex - newIndex == 32 \n                    || pieceCurrentIndex - newIndex == 40 || pieceCurrentIndex - newIndex == 48 \n                    || pieceCurrentIndex - newIndex == 56) {\n\n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }\n                }\n\n                // Moving down and capturing\n                else if (newIndex - pieceCurrentIndex == 8 || newIndex - pieceCurrentIndex == 16\n                    || newIndex - pieceCurrentIndex == 24 || newIndex - pieceCurrentIndex == 32 \n                    || newIndex - pieceCurrentIndex == 40 || newIndex - pieceCurrentIndex == 48 \n                    || newIndex - pieceCurrentIndex == 56) {\n                        \n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                        if ((gridCopy[i] != \"|||\") && (newIndex - pieceCurrentIndex != 8)) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }\n                }\n\n                // Moving right and capturing\n                else if (newIndex - pieceCurrentIndex == 1 || newIndex - pieceCurrentIndex == 2\n                    || newIndex - pieceCurrentIndex == 3 || newIndex - pieceCurrentIndex == 4 \n                    || newIndex - pieceCurrentIndex == 5 || newIndex - pieceCurrentIndex == 6 \n                    || newIndex - pieceCurrentIndex == 7) {\n\n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                            if ((gridCopy[i] != \"|||\") && (newIndex - pieceCurrentIndex != 1)) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }\n                }\n\n                // Moving left and capturing\n                else if (pieceCurrentIndex - newIndex == 1 || pieceCurrentIndex - newIndex == 2\n                    || pieceCurrentIndex - newIndex == 3 || pieceCurrentIndex - newIndex == 4 \n                    || pieceCurrentIndex - newIndex == 5 || pieceCurrentIndex - newIndex == 6 \n                    || pieceCurrentIndex - newIndex == 7) {\n                    \n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                            if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }\n                }\n\n                // Moving up and to the right\n                if (pieceCurrentIndex - newIndex == 7 || pieceCurrentIndex - newIndex == 14\n                    || pieceCurrentIndex - newIndex == 21 || pieceCurrentIndex - newIndex == 28 \n                    || pieceCurrentIndex - newIndex == 35 || pieceCurrentIndex - newIndex == 42 \n                    || pieceCurrentIndex - newIndex == 49) {\n\n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                            || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                            || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                            || (i == 55 && newIndex < i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }      \n                }\n\n                // Moving up and to the left\n                else if (pieceCurrentIndex - newIndex == 9 || pieceCurrentIndex - newIndex == 18\n                    || pieceCurrentIndex - newIndex == 27 || pieceCurrentIndex - newIndex == 36 \n                    || pieceCurrentIndex - newIndex == 45 || pieceCurrentIndex - newIndex == 54 \n                    || pieceCurrentIndex - newIndex == 63) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                            || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                            || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }     \n                }\n\n                // Moving down and to the right\n                else if (newIndex - pieceCurrentIndex == 9 || newIndex - pieceCurrentIndex == 18\n                    || newIndex - pieceCurrentIndex == 27 || newIndex - pieceCurrentIndex == 36 \n                    || newIndex - pieceCurrentIndex == 45 || newIndex - pieceCurrentIndex == 54 \n                    || newIndex - pieceCurrentIndex == 63) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                            || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                            || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }     \n                }\n\n                // Moving down and to the left\n                else if (newIndex - pieceCurrentIndex == 7 || newIndex - pieceCurrentIndex == 14\n                    || newIndex - pieceCurrentIndex == 21 || newIndex - pieceCurrentIndex == 28 \n                    || newIndex - pieceCurrentIndex == 35 || newIndex - pieceCurrentIndex == 42 \n                    || newIndex - pieceCurrentIndex == 49) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                            || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                            || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }   \n                }\n\n                /*\n                // Check if enemy king is in check upwards\n                for (let i = newIndex - 8; i >= 0; i -= 8) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check downwards\n                for (let i = newIndex + 8; i <= 63; i += 8) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check right\n                if (newIndex >= 0 && newIndex < 8) {\n                    for (let i = newIndex + 1; i < 8; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 8 && newIndex < 16) {\n                    for (let i = newIndex + 1; i < 16; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 16 && newIndex < 24) {\n                    for (let i = newIndex + 1; i < 24; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 24 && newIndex < 32) {\n                    for (let i = newIndex + 1; i < 32; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 32 && newIndex < 40) {\n                    for (let i = newIndex + 1; i < 40; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 40 && newIndex < 48) {\n                    for (let i = newIndex + 1; i < 48; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 48 && newIndex < 56) {\n                    for (let i = newIndex + 1; i < 56; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 56 && newIndex < 64) {\n                    for (let i = newIndex + 1; i < 64; i++) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                // Check if enemy king is in check left\n                if (newIndex >= 0 && newIndex < 8) {\n                    for (let i = newIndex - 1; i >= 0; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 8 && newIndex < 16) {\n                    for (let i = newIndex - 1; i >= 8; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 16 && newIndex < 24) {\n                    for (let i = newIndex - 1; i >= 16; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 24 && newIndex < 32) {\n                    for (let i = newIndex - 1; i >= 24; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 32 && newIndex < 40) {\n                    for (let i = newIndex - 1; i >= 32; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 40 && newIndex < 48) {\n                    for (let i = newIndex - 1; i >= 40; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 48 && newIndex < 56) {\n                    for (let i = newIndex - 1; i >= 48; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 56 && newIndex < 64) {\n                    for (let i = newIndex - 1; i >= 56; i--) {\n                        if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"BK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                // Check if enemy king is in check up and to the right\n                for (let i = newIndex - 7; i >= 0; i -= 7) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 7 || i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check up and to the left\n                for (let i = newIndex - 9; i >= 0; i -= 9) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 0 || i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check down and to the right\n                for (let i = newIndex + 9; i <= 63; i += 9) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55 || i == 63) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check down and to the left\n                for (let i = newIndex + 7; i <= 63; i += 7) {\n                    if (gridCopy[i].startsWith(\"BK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"BK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48 || i == 56) {\n                        break;\n                    }\n                } */\n            }\n\n            else if (piece.color == \"B\") {\n\n                // Moving up and capturing\n                if (pieceCurrentIndex - newIndex == 8 || pieceCurrentIndex - newIndex == 16\n                    || pieceCurrentIndex - newIndex == 24 || pieceCurrentIndex - newIndex == 32 \n                    || pieceCurrentIndex - newIndex == 40 || pieceCurrentIndex - newIndex == 48 \n                    || pieceCurrentIndex - newIndex == 56) {\n\n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }\n                }\n\n                // Moving down and capturing\n                else if (newIndex - pieceCurrentIndex == 8 || newIndex - pieceCurrentIndex == 16\n                    || newIndex - pieceCurrentIndex == 24 || newIndex - pieceCurrentIndex == 32 \n                    || newIndex - pieceCurrentIndex == 40 || newIndex - pieceCurrentIndex == 48 \n                    || newIndex - pieceCurrentIndex == 56) {\n                        \n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                        if ((gridCopy[i] != \"|||\") && (newIndex - pieceCurrentIndex != 8)) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }\n                }\n\n                // Moving right and capturing\n                else if (newIndex - pieceCurrentIndex == 1 || newIndex - pieceCurrentIndex == 2\n                    || newIndex - pieceCurrentIndex == 3 || newIndex - pieceCurrentIndex == 4 \n                    || newIndex - pieceCurrentIndex == 5 || newIndex - pieceCurrentIndex == 6 \n                    || newIndex - pieceCurrentIndex == 7) {\n\n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                            if ((gridCopy[i] != \"|||\") && (newIndex - pieceCurrentIndex != 1)) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }\n                }\n\n                // Moving left and capturing\n                else if (pieceCurrentIndex - newIndex == 1 || pieceCurrentIndex - newIndex == 2\n                    || pieceCurrentIndex - newIndex == 3 || pieceCurrentIndex - newIndex == 4 \n                    || pieceCurrentIndex - newIndex == 5 || pieceCurrentIndex - newIndex == 6 \n                    || pieceCurrentIndex - newIndex == 7) {\n                    \n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                            if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }\n                }\n\n                // Moving up and to the right\n                if (pieceCurrentIndex - newIndex == 7 || pieceCurrentIndex - newIndex == 14\n                    || pieceCurrentIndex - newIndex == 21 || pieceCurrentIndex - newIndex == 28 \n                    || pieceCurrentIndex - newIndex == 35 || pieceCurrentIndex - newIndex == 42 \n                    || pieceCurrentIndex - newIndex == 49) {\n\n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                            || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                            || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                            || (i == 55 && newIndex < i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }      \n                }\n\n                // Moving up and to the left\n                else if (pieceCurrentIndex - newIndex == 9 || pieceCurrentIndex - newIndex == 18\n                    || pieceCurrentIndex - newIndex == 27 || pieceCurrentIndex - newIndex == 36 \n                    || pieceCurrentIndex - newIndex == 45 || pieceCurrentIndex - newIndex == 54 \n                    || pieceCurrentIndex - newIndex == 63) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                            || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                            || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }     \n                }\n\n                // Moving down and to the right\n                else if (newIndex - pieceCurrentIndex == 9 || newIndex - pieceCurrentIndex == 18\n                    || newIndex - pieceCurrentIndex == 27 || newIndex - pieceCurrentIndex == 36 \n                    || newIndex - pieceCurrentIndex == 45 || newIndex - pieceCurrentIndex == 54 \n                    || newIndex - pieceCurrentIndex == 63) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                            || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                            || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }     \n                }\n\n                // Moving down and to the left\n                else if (newIndex - pieceCurrentIndex == 7 || newIndex - pieceCurrentIndex == 14\n                    || newIndex - pieceCurrentIndex == 21 || newIndex - pieceCurrentIndex == 28 \n                    || newIndex - pieceCurrentIndex == 35 || newIndex - pieceCurrentIndex == 42 \n                    || newIndex - pieceCurrentIndex == 49) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                            || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                            || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            gridCopy[pieceCurrentIndex] = \"|||\";\n                            gridCopy[newIndex] = pieceString;\n                        }\n                    }   \n                }\n\n                /*\n                // Check if enemy king is in check upwards\n                for (let i = newIndex - 8; i >= 0; i -= 8) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check downwards\n                for (let i = newIndex + 8; i <= 63; i += 8) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check right\n                if (newIndex >= 0 && newIndex < 8) {\n                    for (let i = newIndex + 1; i < 8; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 8 && newIndex < 16) {\n                    for (let i = newIndex + 1; i < 16; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 16 && newIndex < 24) {\n                    for (let i = newIndex + 1; i < 24; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 24 && newIndex < 32) {\n                    for (let i = newIndex + 1; i < 32; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 32 && newIndex < 40) {\n                    for (let i = newIndex + 1; i < 40; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 40 && newIndex < 48) {\n                    for (let i = newIndex + 1; i < 48; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 48 && newIndex < 56) {\n                    for (let i = newIndex + 1; i < 56; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 56 && newIndex < 64) {\n                    for (let i = newIndex + 1; i < 64; i++) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                // Check if enemy king is in check left\n                if (newIndex >= 0 && newIndex < 8) {\n                    for (let i = newIndex - 1; i >= 0; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 8 && newIndex < 16) {\n                    for (let i = newIndex - 1; i >= 8; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 16 && newIndex < 24) {\n                    for (let i = newIndex - 1; i >= 16; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 24 && newIndex < 32) {\n                    for (let i = newIndex - 1; i >= 24; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 32 && newIndex < 40) {\n                    for (let i = newIndex - 1; i >= 32; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 40 && newIndex < 48) {\n                    for (let i = newIndex - 1; i >= 40; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 48 && newIndex < 56) {\n                    for (let i = newIndex - 1; i >= 48; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                else if (newIndex >= 56 && newIndex < 64) {\n                    for (let i = newIndex - 1; i >= 56; i--) {\n                        if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[i].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                            break;\n                        }\n                    }\n                }\n\n                // Check if enemy king is in check up and to the right\n                for (let i = newIndex - 7; i >= 0; i -= 7) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 7 || i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check up and to the left\n                for (let i = newIndex - 9; i >= 0; i -= 9) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 0 || i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check down and to the right\n                for (let i = newIndex + 9; i <= 63; i += 9) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 15 || i == 23 || i == 31 || i == 39 || i == 47 || i == 55 || i == 63) {\n                        break;\n                    }\n                }\n\n                // Check if enemy king is in check down and to the left\n                for (let i = newIndex + 7; i <= 63; i += 7) {\n                    if (gridCopy[i].startsWith(\"WK\") == false && gridCopy[i].startsWith(\"|||\") == false) {\n                        break;\n                    }\n\n                    else if (gridCopy[i].startsWith(\"WK\")) {\n                        enemyPlayer.inCheck = true;\n                        break;\n                    }\n\n                    if (i == 8 || i == 16 || i == 24 || i == 32 || i == 40 || i == 48 || i == 56) {\n                        break;\n                    }\n                } */\n            }\n        }\n\n        else if (piece.name == \"K\") {\n\n            if (piece.color == \"W\") {\n\n                // Moving up and capturing\n                if (pieceCurrentIndex - newIndex == 8) {\n\n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"BK\")) {\n                                    if (newIndex == j + 8) {\n\n                                    }\n\n                                    else {\n                                        gridCopy[pieceCurrentIndex] = \"|||\";\n                                        gridCopy[newIndex] = pieceString;\n                                    }\n\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Moving down and capturing\n                else if (newIndex - pieceCurrentIndex == 8) {\n                        \n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                        if ((gridCopy[i] != \"|||\") && (newIndex - pieceCurrentIndex != 8)) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"BK\")) {\n                                    if (newIndex == j - 8) {\n\n                                    }\n\n                                    else {\n                                        gridCopy[pieceCurrentIndex] = \"|||\";\n                                        gridCopy[newIndex] = pieceString;\n                                    }\n\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Moving right and capturing\n                else if (newIndex - pieceCurrentIndex == 1) {\n\n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                            if ((gridCopy[i] != \"|||\") && (newIndex - pieceCurrentIndex != 1)) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n\n                                for (let j = 0; j < 64; j++) {\n                                    if (gridCopy[j].startsWith(\"BK\")) {\n                                        if (((newIndex >= 0 && newIndex < 8) && (j >= 0 && j < 8))\n                                        || ((newIndex >= 8 && newIndex < 16) && (j >= 8 && j < 16))\n                                        || ((newIndex >= 16 && newIndex < 24) && (j >= 16 && j < 24))\n                                        || ((newIndex >= 24 && newIndex < 32) && (j >= 24 && j < 32))\n                                        || ((newIndex >= 32 && newIndex < 40) && (j >= 32 && j < 40))\n                                        || ((newIndex >= 40 && newIndex < 48) && (j >= 40 && j < 48))\n                                        || ((newIndex >= 48 && newIndex < 56) && (j >= 48 && j < 56))\n                                        || ((newIndex >= 56 && newIndex < 64) && (j >= 56 && j < 64))) {\n                                            if (newIndex == j - 1) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    gridCopy[pieceCurrentIndex] = \"|||\";\n                                    gridCopy[newIndex] = pieceString;\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Moving left and capturing\n                else if (pieceCurrentIndex - newIndex == 1) {\n                    \n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                            if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n                                \n                                for (let j = 0; j < 64; j++) {\n                                    if (gridCopy[j].startsWith(\"BK\")) {\n                                        if (((newIndex >= 0 && newIndex < 8) && (j >= 0 && j < 8))\n                                        || ((newIndex >= 8 && newIndex < 16) && (j >= 8 && j < 16))\n                                        || ((newIndex >= 16 && newIndex < 24) && (j >= 16 && j < 24))\n                                        || ((newIndex >= 24 && newIndex < 32) && (j >= 24 && j < 32))\n                                        || ((newIndex >= 32 && newIndex < 40) && (j >= 32 && j < 40))\n                                        || ((newIndex >= 40 && newIndex < 48) && (j >= 40 && j < 48))\n                                        || ((newIndex >= 48 && newIndex < 56) && (j >= 48 && j < 56))\n                                        || ((newIndex >= 56 && newIndex < 64) && (j >= 56 && j < 64))) {\n                                            if (newIndex == j + 1) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    gridCopy[pieceCurrentIndex] = \"|||\";\n                                    gridCopy[newIndex] = pieceString;\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Moving up and to the right\n                if (pieceCurrentIndex - newIndex == 7) {\n\n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                            || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                            || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                            || (i == 55 && newIndex < i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            let nextToEnemyKing = false;\n\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"BK\")) {\n                                    if (newIndex != 7 || newIndex != 15 || newIndex != 23 \n                                    || newIndex != 31 || newIndex != 39 || newIndex != 47\n                                    || newIndex != 55) {\n                                        if (newIndex == j + 7) {\n                                            nextToEnemyKing = true;\n                                        }\n                                    }\n                                }\n                            }\n\n                            if (nextToEnemyKing == true) {\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }      \n                }\n\n                // Moving up and to the left\n                else if (pieceCurrentIndex - newIndex == 9) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                            || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                            || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            let nextToEnemyKing = false;\n\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"BK\")) {\n                                    if (newIndex != 8 || newIndex != 16 || newIndex != 24 \n                                    || newIndex != 32 || newIndex != 40 || newIndex != 48) {\n                                        if (newIndex == j + 9) {\n                                            nextToEnemyKing = true;\n                                        }\n                                    }\n                                }\n                            }\n\n                            if (nextToEnemyKing == true) {\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }     \n                }\n\n                // Moving down and to the right\n                else if (newIndex - pieceCurrentIndex == 9) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                            || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                            || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            let nextToEnemyKing = false;\n\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"BK\")) {\n                                    if (newIndex != 15 || newIndex != 23 || newIndex != 31 \n                                    || newIndex != 39 || newIndex != 47 || newIndex != 55) {\n                                        if (newIndex == j - 9) {\n                                            nextToEnemyKing = true;\n                                        }\n                                    }\n                                }\n                            }\n\n                            if (nextToEnemyKing == true) {\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }     \n                }\n\n                // Moving down and to the left\n                else if (newIndex - pieceCurrentIndex == 7) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                            || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                            || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"W\") || gridCopy[newIndex] == \"BK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            let nextToEnemyKing = false;\n\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"BK\")) {\n                                    if (newIndex != 8 || newIndex != 16 || newIndex != 24 \n                                    || newIndex != 32 || newIndex != 40 || newIndex != 48) {\n                                        if (newIndex == j - 7) {\n                                            nextToEnemyKing = true;\n                                        }\n                                    }\n                                }\n                            }\n\n                            if (nextToEnemyKing == true) {\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }   \n                }\n            }\n\n            else if (piece.color == \"B\") {\n\n                // Moving up and capturing\n                if (pieceCurrentIndex - newIndex == 8) {\n\n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex - 8; i > newIndex; i -= 8) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 8) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"WK\")) {\n                                    if (newIndex == j + 8) {\n\n                                    }\n\n                                    else {\n                                        gridCopy[pieceCurrentIndex] = \"|||\";\n                                        gridCopy[newIndex] = pieceString;\n                                    }\n\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Moving down and capturing\n                else if (newIndex - pieceCurrentIndex == 8) {\n                        \n                    let notAllEmpty = false;\n\n                    for (let i = pieceCurrentIndex + 8; i < newIndex; i += 8) {\n                        if ((gridCopy[i] != \"|||\") && (newIndex - pieceCurrentIndex != 8)) {\n                            notAllEmpty = true;\n                        }\n                    }\n\n                    if (notAllEmpty == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"WK\")) {\n                                    if (newIndex == j - 8) {\n\n                                    }\n\n                                    else {\n                                        gridCopy[pieceCurrentIndex] = \"|||\";\n                                        gridCopy[newIndex] = pieceString;\n                                    }\n\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Moving right and capturing\n                else if (newIndex - pieceCurrentIndex == 1) {\n\n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex + 1; i < newIndex; i += 1) {\n                            if ((gridCopy[i] != \"|||\") && (newIndex - pieceCurrentIndex != 1)) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n\n                                for (let j = 0; j < 64; j++) {\n                                    if (gridCopy[j].startsWith(\"WK\")) {\n                                        if (((newIndex >= 0 && newIndex < 8) && (j >= 0 && j < 8))\n                                        || ((newIndex >= 8 && newIndex < 16) && (j >= 8 && j < 16))\n                                        || ((newIndex >= 16 && newIndex < 24) && (j >= 16 && j < 24))\n                                        || ((newIndex >= 24 && newIndex < 32) && (j >= 24 && j < 32))\n                                        || ((newIndex >= 32 && newIndex < 40) && (j >= 32 && j < 40))\n                                        || ((newIndex >= 40 && newIndex < 48) && (j >= 40 && j < 48))\n                                        || ((newIndex >= 48 && newIndex < 56) && (j >= 48 && j < 56))\n                                        || ((newIndex >= 56 && newIndex < 64) && (j >= 56 && j < 64))) {\n                                            if (newIndex == j - 1) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    gridCopy[pieceCurrentIndex] = \"|||\";\n                                    gridCopy[newIndex] = pieceString;\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Moving left and capturing\n                else if (pieceCurrentIndex - newIndex == 1) {\n                    \n                    if (((newIndex >= 0 && newIndex < 8) && (pieceCurrentIndex >= 0 && pieceCurrentIndex < 8))\n                    || ((newIndex >= 8 && newIndex < 16) && (pieceCurrentIndex >= 8 && pieceCurrentIndex < 16))\n                    || ((newIndex >= 16 && newIndex < 24) && (pieceCurrentIndex >= 16 && pieceCurrentIndex < 24))\n                    || ((newIndex >= 24 && newIndex < 32) && (pieceCurrentIndex >= 24 && pieceCurrentIndex < 32))\n                    || ((newIndex >= 32 && newIndex < 40) && (pieceCurrentIndex >= 32 && pieceCurrentIndex < 40))\n                    || ((newIndex >= 40 && newIndex < 48) && (pieceCurrentIndex >= 40 && pieceCurrentIndex < 48))\n                    || ((newIndex >= 48 && newIndex < 56) && (pieceCurrentIndex >= 48 && pieceCurrentIndex < 56))\n                    || ((newIndex >= 56 && newIndex < 64) && (pieceCurrentIndex >= 56 && pieceCurrentIndex < 64))) {\n                        \n                        let notAllEmpty = false;\n\n                        for (let i = pieceCurrentIndex - 1; i > newIndex; i -= 1) {\n                            if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 1) {\n                                notAllEmpty = true;\n                            }\n                        }\n\n                        if (notAllEmpty == false) {\n                            if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                            }\n\n                            else {\n                                let nextToEnemyKing = false;\n                                \n                                for (let j = 0; j < 64; j++) {\n                                    if (gridCopy[j].startsWith(\"WK\")) {\n                                        if (((newIndex >= 0 && newIndex < 8) && (j >= 0 && j < 8))\n                                        || ((newIndex >= 8 && newIndex < 16) && (j >= 8 && j < 16))\n                                        || ((newIndex >= 16 && newIndex < 24) && (j >= 16 && j < 24))\n                                        || ((newIndex >= 24 && newIndex < 32) && (j >= 24 && j < 32))\n                                        || ((newIndex >= 32 && newIndex < 40) && (j >= 32 && j < 40))\n                                        || ((newIndex >= 40 && newIndex < 48) && (j >= 40 && j < 48))\n                                        || ((newIndex >= 48 && newIndex < 56) && (j >= 48 && j < 56))\n                                        || ((newIndex >= 56 && newIndex < 64) && (j >= 56 && j < 64))) {\n                                            if (newIndex == j + 1) {\n                                                nextToEnemyKing = true;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                if (nextToEnemyKing == true) {\n\n                                }\n\n                                else {\n                                    gridCopy[pieceCurrentIndex] = \"|||\";\n                                    gridCopy[newIndex] = pieceString;\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Moving up and to the right\n                if (pieceCurrentIndex - newIndex == 7) {\n\n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 7; i > newIndex; i -= 7) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 7 && newIndex < i) || (i == 15 && newIndex < i) \n                            || (i == 23 && newIndex < i) || (i == 31 && newIndex < i) \n                            || (i == 39 && newIndex < i) || (i == 47 && newIndex < i) \n                            || (i == 55 && newIndex < i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            let nextToEnemyKing = false;\n\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"WK\")) {\n                                    if (newIndex != 7 || newIndex != 15 || newIndex != 23 \n                                    || newIndex != 31 || newIndex != 39 || newIndex != 47\n                                    || newIndex != 55) {\n                                        if (newIndex == j + 7) {\n                                            nextToEnemyKing = true;\n                                        }\n                                    }\n                                }\n                            }\n\n                            if (nextToEnemyKing == true) {\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }      \n                }\n\n                // Moving up and to the left\n                else if (pieceCurrentIndex - newIndex == 9) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex - 9; i > newIndex; i -= 9) {\n                        if ((gridCopy[i] != \"|||\") && pieceCurrentIndex - newIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex < i) || (i == 16 && newIndex < i) \n                            || (i == 24 && newIndex < i) || (i == 32 && newIndex < i) \n                            || (i == 40 && newIndex < i) || (i == 48 && newIndex < i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            let nextToEnemyKing = false;\n\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"WK\")) {\n                                    if (newIndex != 8 || newIndex != 16 || newIndex != 24 \n                                    || newIndex != 32 || newIndex != 40 || newIndex != 48) {\n                                        if (newIndex == j + 9) {\n                                            nextToEnemyKing = true;\n                                        }\n                                    }\n                                }\n                            }\n\n                            if (nextToEnemyKing == true) {\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }     \n                }\n\n                // Moving down and to the right\n                else if (newIndex - pieceCurrentIndex == 9) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 9; i < newIndex; i += 9) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 9) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 15 && newIndex > i) || (i == 23 && newIndex > i) \n                            || (i == 31 && newIndex > i) || (i == 39 && newIndex > i) \n                            || (i == 47 && newIndex > i) || (i == 55 && newIndex > i)) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            let nextToEnemyKing = false;\n\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"WK\")) {\n                                    if (newIndex != 15 || newIndex != 23 || newIndex != 31 \n                                    || newIndex != 39 || newIndex != 47 || newIndex != 55) {\n                                        if (newIndex == j - 9) {\n                                            nextToEnemyKing = true;\n                                        }\n                                    }\n                                }\n                            }\n\n                            if (nextToEnemyKing == true) {\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }     \n                }\n\n                // Moving down and to the left\n                else if (newIndex - pieceCurrentIndex == 7) {\n                    \n                    let notAllEmpty = false;\n                    let hitEdge = false;\n\n                    for (let i = pieceCurrentIndex + 7; i < newIndex; i += 7) {\n                        if ((gridCopy[i] != \"|||\") && newIndex - pieceCurrentIndex != 7) {\n                            notAllEmpty = true;\n                        }\n\n                        if ((i == 8 && newIndex > i) || (i == 16 && newIndex > i) \n                            || (i == 24 && newIndex > i) || (i == 32 && newIndex > i) \n                            || (i == 40 && newIndex > i) || (i == 48 && newIndex > i) ) {\n\n                            hitEdge = true;\n                            break;\n                        }\n                    }\n\n                    if (notAllEmpty == false && hitEdge == false) {\n                        if (gridCopy[newIndex].startsWith(\"B\") || gridCopy[newIndex] == \"WK\") { // Can not land on same color pieces and opposing king\n\n                        }\n\n                        else {\n                            let nextToEnemyKing = false;\n\n                            for (let j = 0; j < 64; j++) {\n                                if (gridCopy[j].startsWith(\"WK\")) {\n                                    if (newIndex != 8 || newIndex != 16 || newIndex != 24 \n                                    || newIndex != 32 || newIndex != 40 || newIndex != 48) {\n                                        if (newIndex == j - 7) {\n                                            nextToEnemyKing = true;\n                                        }\n                                    }\n                                }\n                            }\n\n                            if (nextToEnemyKing == true) {\n\n                            }\n\n                            else {\n                                gridCopy[pieceCurrentIndex] = \"|||\";\n                                gridCopy[newIndex] = pieceString;\n                            }\n                        }\n                    }   \n                } \n            }\n        }\n\n        if (player == \"White\") {\n            for (let i = 0; i < 64; i++) {\n                if (gridCopy[i].startsWith(\"BP\")) {\n                    // Check if king is in check\n                    if (((i >= 0 && i < 8) && (i + 7 >= 8 && i + 7 < 16))\n                    || ((i >= 8 && i < 16) && (i + 7 >= 16 && i + 7 < 24))\n                    || ((i >= 16 && i < 24) && (i + 7 >= 24 && i + 7 < 32))\n                    || ((i >= 24 && i < 32) && (i + 7 >= 32 && i + 7 < 40))\n                    || ((i >= 32 && i < 40) && (i + 7 >= 40 && i + 7 < 48))\n                    || ((i >= 40 && i < 48) && (i + 7 >= 48 && i + 7 < 56))\n                    || ((i >= 48 && i < 56) && (i + 7 >= 56 && i + 7 < 64))) {\n                        if (gridCopy[i + 7].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n\n                    else if (((i >= 0 && i < 8) && (i + 9 >= 8 && i + 9 < 16))\n                    || ((i >= 8 && i < 16) && (i + 9 >= 16 && i + 9 < 24))\n                    || ((i >= 16 && i < 24) && (i + 9 >= 24 && i + 9 < 32))\n                    || ((i >= 24 && i < 32) && (i + 9 >= 32 && i + 9 < 40))\n                    || ((i >= 32 && i < 40) && (i + 9 >= 40 && i + 9 < 48))\n                    || ((i >= 40 && i < 48) && (i + 9 >= 48 && i + 9 < 56))\n                    || ((i >= 48 && i < 56) && (i + 9 >= 56 && i + 9 < 64))) {\n                        if (gridCopy[i + 9].startsWith(\"WK\")) {\n                            enemyPlayer.inCheck = true;\n                        }\n                    }\n                }\n\n                else if (gridCopy[i].startsWith(\"BR\")) {\n\n                    // Check if enemy king is in check upwards\n                    for (let j = i - 8; j >= 0; j -= 8) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    // Check if enemy king is in check downwards\n                    for (let j = i + 8; j <= 63; j += 8) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    // Check if enemy king is in check right\n                    if (i >= 0 && i < 8) {\n                        for (let j = i + 1; j < 8; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 8 && i < 16) {\n                        for (let j = i + 1; j < 16; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 16 && i < 24) {\n                        for (let j = i + 1; j < 24; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 24 && i < 32) {\n                        for (let j = i + 1; j < 32; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 32 && i < 40) {\n                        for (let j = i + 1; j < 40; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 40 && i < 48) {\n                        for (let j = i + 1; j < 48; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 48 && i < 56) {\n                        for (let j = i + 1; j < 56; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 56 && i < 64) {\n                        for (let j = i + 1; j < 64; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check left\n                    if (i >= 0 && i < 8) {\n                        for (let j = i - 1; j >= 0; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 8 && i < 16) {\n                        for (let j = i - 1; j >= 8; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 16 && i < 24) {\n                        for (let j = i - 1; j >= 16; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 24 && i < 32) {\n                        for (let j = i - 1; j >= 24; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 32 && i < 40) {\n                        for (let j = i - 1; j >= 32; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 40 && i < 48) {\n                        for (let j = i - 1; j >= 40; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 48 && i < 56) {\n                        for (let j = i - 1; j >= 48; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 56 && i < 64) {\n                        for (let j = i - 1; j >= 56; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n\n                else if (gridCopy[i].startsWith(\"BB\")) {\n    \n                    // Check if enemy king is in check up and to the right\n                    for (let j = i - 7; j >= 0; j -= 7) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n\n                        if (j == 7 || j == 15 || j == 23 || j == 31 || j == 39 || j == 47 || j == 55) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the left\n                    for (let j = i - 9; j >= 0; j -= 9) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n\n\n                        if (j == 0 || j == 8 || j == 16 || j == 24 || j == 32 || j == 40 || j == 48) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the right\n                    for (let j = i + 9; j <= 63; j += 9) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n\n                        if (j == 15 || j == 23 || j == 31 || j == 39 || j == 47 || j == 55 || j == 63) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the left\n                    for (let j = i + 7; j <= 63; j += 7) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n\n                        if (j == 8 || j == 16 || j == 24 || j == 32 || j == 40 || j == 48 || j == 56) {\n                            break;\n                        }\n                    }\n                }\n\n                else if (gridCopy[i].startsWith(\"BN\")) {\n                    \n                    // Check if enemy king is in check\n                    if (gridCopy[i - 15] != undefined) {\n                        if (gridCopy[i - 15].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i - 6] != undefined) {\n                        if (gridCopy[i - 6].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i - 17] != undefined) {\n                        if (gridCopy[i - 17].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i - 10] != undefined) {\n                        if (gridCopy[i - 10].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i + 17] != undefined) {\n                        if (gridCopy[i + 17].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i + 10] != undefined) {\n                        if (gridCopy[i + 10].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i + 6] != undefined) {\n                        if (gridCopy[i + 6].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i + 15] != undefined) {\n                        if (gridCopy[i + 15].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    } \n                }\n\n                else if (gridCopy[i].startsWith(\"BQ\")) {\n\n                    // Check if enemy king is in check upwards\n                    for (let j = i - 8; j >= 0; j -= 8) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    // Check if enemy king is in check downwards\n                    for (let j = i + 8; j <= 63; j += 8) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n                    }\n\n                    // Check if enemy king is in check right\n                    if (i >= 0 && i < 8) {\n                        for (let j = i + 1; j < 8; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 8 && i < 16) {\n                        for (let j = i + 1; j < 16; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 16 && i < 24) {\n                        for (let j = i + 1; j < 24; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 24 && i < 32) {\n                        for (let j = i + 1; j < 32; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 32 && i < 40) {\n                        for (let j = i + 1; j < 40; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 40 && i < 48) {\n                        for (let j = i + 1; j < 48; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 48 && i < 56) {\n                        for (let j = i + 1; j < 56; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 56 && i < 64) {\n                        for (let j = i + 1; j < 64; j++) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check left\n                    if (i >= 0 && i < 8) {\n                        for (let j = i - 1; j >= 0; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 8 && i < 16) {\n                        for (let j = i - 1; j >= 8; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 16 && i < 24) {\n                        for (let j = i - 1; j >= 16; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 24 && i < 32) {\n                        for (let j = i - 1; j >= 24; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 32 && i < 40) {\n                        for (let j = i - 1; j >= 32; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 40 && i < 48) {\n                        for (let j = i - 1; j >= 40; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 48 && i < 56) {\n                        for (let j = i - 1; j >= 48; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 56 && i < 64) {\n                        for (let j = i - 1; j >= 56; j--) {\n                            if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"WK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the right\n                    for (let j = i - 7; j >= 0; j -= 7) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n\n                        if (j == 7 || j == 15 || j == 23 || j == 31 || j == 39 || j == 47 || j == 55) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the left\n                    for (let j = i - 9; j >= 0; j -= 9) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n\n\n                        if (j == 0 || j == 8 || j == 16 || j == 24 || j == 32 || j == 40 || j == 48) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the right\n                    for (let j = i + 9; j <= 63; j += 9) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n\n                        if (j == 15 || j == 23 || j == 31 || j == 39 || j == 47 || j == 55 || j == 63) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the left\n                    for (let j = i + 7; j <= 63; j += 7) {\n                        if (gridCopy[j].startsWith(\"WK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"WK\")) {\n                            return true;\n                        }\n\n                        if (j == 8 || j == 16 || j == 24 || j == 32 || j == 40 || j == 48 || j == 56) {\n                            break;\n                        }\n                    }\n                }\n            }\n\n            return false\n        }\n\n        else if (player == \"Black\") {\n            for (let i = 0; i < 64; i++) {\n                if (gridCopy[i].startsWith(\"WP\")) {\n\n                    // Check if king is in check\n                    if (((i - 7 >= 0 && i - 7 < 8) && (i >= 8 && i < 16))\n                    || ((i - 7 >= 8 && i - 7 < 16) && (i >= 16 && i < 24))\n                    || ((i - 7 >= 16 && i - 7 < 24) && (i >= 24 && i < 32))\n                    || ((i - 7 >= 24 && i - 7 < 32) && (i >= 32 && i < 40))\n                    || ((i - 7 >= 32 && i - 7 < 40) && (i >= 40 && i < 48))\n                    || ((i - 7 >= 40 && i - 7 < 48) && (i >= 48 && i < 56))\n                    || ((i - 7 >= 48 && i - 7 < 56) && (i >= 56 && i < 64))) {\n                        if (gridCopy[i - 7].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (((i - 9 >= 0 && i - 9 < 8) && (i >= 8 && i < 16))\n                    || ((i - 9 >= 8 && i - 9 < 16) && (i >= 16 && i < 24))\n                    || ((i - 9 >= 16 && i - 9 < 24) && (i >= 24 && i < 32))\n                    || ((i - 9 >= 24 && i - 9 < 32) && (i >= 32 && i < 40))\n                    || ((i - 9 >= 32 && i - 9 < 40) && (i >= 40 && i < 48))\n                    || ((i - 9 >= 40 && i - 9 < 48) && (i >= 48 && i < 56))\n                    || ((i - 9 >= 48 && i - 9 < 56) && (i >= 56 && i < 64))) {\n                        if (gridCopy[i - 9].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    } \n                }\n\n                else if (gridCopy[i].startsWith(\"WR\")) {\n\n                    // Check if enemy king is in check upwards\n                    for (let j = i - 8; j >= 0; j -= 8) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    // Check if enemy king is in check downwards\n                    for (let j = i + 8; j <= 63; j += 8) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    // Check if enemy king is in check right\n                    if (i >= 0 && i < 8) {\n                        for (let j = i + 1; j < 8; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 8 && i < 16) {\n                        for (let j = i + 1; j < 16; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 16 && i < 24) {\n                        for (let j = i + 1; j < 24; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 24 && i < 32) {\n                        for (let j = i + 1; j < 32; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 32 && i < 40) {\n                        for (let j = i + 1; j < 40; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 40 && i < 48) {\n                        for (let j = i + 1; j < 48; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 48 && i < 56) {\n                        for (let j = i + 1; j < 56; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 56 && i < 64) {\n                        for (let j = i + 1; j < 64; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check left\n                    if (i >= 0 && i < 8) {\n                        for (let j = i - 1; j >= 0; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 8 && i < 16) {\n                        for (let j = i - 1; j >= 8; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 16 && i < 24) {\n                        for (let j = i - 1; j >= 16; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 24 && i < 32) {\n                        for (let j = i - 1; j >= 24; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 32 && i < 40) {\n                        for (let j = i - 1; j >= 32; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 40 && i < 48) {\n                        for (let j = i - 1; j >= 40; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 48 && i < 56) {\n                        for (let j = i - 1; j >= 48; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 56 && i < 64) {\n                        for (let j = i - 1; j >= 56; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n                }\n\n                else if (gridCopy[i].startsWith(\"WB\")) {\n    \n                    // Check if enemy king is in check up and to the right\n                    for (let j = i - 7; j >= 0; j -= 7) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n\n                        if (j == 7 || j == 15 || j == 23 || j == 31 || j == 39 || j == 47 || j == 55) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the left\n                    for (let j = i - 9; j >= 0; j -= 9) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n\n\n                        if (j == 0 || j == 8 || j == 16 || j == 24 || j == 32 || j == 40 || j == 48) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the right\n                    for (let j = i + 9; j <= 63; j += 9) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n\n                        if (j == 15 || j == 23 || j == 31 || j == 39 || j == 47 || j == 55 || j == 63) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the left\n                    for (let j = i + 7; j <= 63; j += 7) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n\n                        if (j == 8 || j == 16 || j == 24 || j == 32 || j == 40 || j == 48 || j == 56) {\n                            break;\n                        }\n                    }\n                }\n\n                else if (gridCopy[i].startsWith(\"WN\")) {\n                    \n                    // Check if enemy king is in check\n                    if (gridCopy[i - 15] != undefined) {\n                        if (gridCopy[i - 15].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i - 6] != undefined) {\n                        if (gridCopy[i - 6].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i - 17] != undefined) {\n                        if (gridCopy[i - 17].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i - 10] != undefined) {\n                        if (gridCopy[i - 10].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i + 17] != undefined) {\n                        if (gridCopy[i + 17].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i + 10] != undefined) {\n                        if (gridCopy[i + 10].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i + 6] != undefined) {\n                        if (gridCopy[i + 6].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    else if (gridCopy[i + 15] != undefined) {\n                        if (gridCopy[i + 15].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    } \n                }\n\n                else if (gridCopy[i].startsWith(\"WQ\")) {\n\n                    // Check if enemy king is in check upwards\n                    for (let j = i - 8; j >= 0; j -= 8) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    // Check if enemy king is in check downwards\n                    for (let j = i + 8; j <= 63; j += 8) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n                    }\n\n                    // Check if enemy king is in check right\n                    if (i >= 0 && i < 8) {\n                        for (let j = i + 1; j < 8; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 8 && i < 16) {\n                        for (let j = i + 1; j < 16; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 16 && i < 24) {\n                        for (let j = i + 1; j < 24; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 24 && i < 32) {\n                        for (let j = i + 1; j < 32; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 32 && i < 40) {\n                        for (let j = i + 1; j < 40; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 40 && i < 48) {\n                        for (let j = i + 1; j < 48; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 48 && i < 56) {\n                        for (let j = i + 1; j < 56; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 56 && i < 64) {\n                        for (let j = i + 1; j < 64; j++) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check left\n                    if (i >= 0 && i < 8) {\n                        for (let j = i - 1; j >= 0; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 8 && i < 16) {\n                        for (let j = i - 1; j >= 8; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 16 && i < 24) {\n                        for (let j = i - 1; j >= 16; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 24 && i < 32) {\n                        for (let j = i - 1; j >= 24; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 32 && i < 40) {\n                        for (let j = i - 1; j >= 32; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 40 && i < 48) {\n                        for (let j = i - 1; j >= 40; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 48 && i < 56) {\n                        for (let j = i - 1; j >= 48; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    else if (i >= 56 && i < 64) {\n                        for (let j = i - 1; j >= 56; j--) {\n                            if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                                break;\n                            }\n\n                            else if (gridCopy[j].startsWith(\"BK\")) {\n                                return true;\n                            }\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the right\n                    for (let j = i - 7; j >= 0; j -= 7) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n\n                        if (j == 7 || j == 15 || j == 23 || j == 31 || j == 39 || j == 47 || j == 55) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check up and to the left\n                    for (let j = i - 9; j >= 0; j -= 9) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n\n\n                        if (j == 0 || j == 8 || j == 16 || j == 24 || j == 32 || j == 40 || j == 48) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the right\n                    for (let j = i + 9; j <= 63; j += 9) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n\n                        if (j == 15 || j == 23 || j == 31 || j == 39 || j == 47 || j == 55 || j == 63) {\n                            break;\n                        }\n                    }\n\n                    // Check if enemy king is in check down and to the left\n                    for (let j = i + 7; j <= 63; j += 7) {\n                        if (gridCopy[j].startsWith(\"BK\") == false && gridCopy[j].startsWith(\"|||\") == false) {\n                            break;\n                        }\n\n                        else if (gridCopy[j].startsWith(\"BK\")) {\n                            return true;\n                        }\n\n                        if (j == 8 || j == 16 || j == 24 || j == 32 || j == 40 || j == 48 || j == 56) {\n                            break;\n                        }\n                    }\n                }\n            }\n\n            return false;\n        }\n    }\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvamF2YXNjcmlwdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdCQUF3QixPQUFPO0FBQy9CLDRCQUE0QixPQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsd0JBQXdCLE9BQU87QUFDL0I7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx5QkFBeUIsUUFBUTtBQUNqQztBQUNBOztBQUVBOztBQUVBOztBQUVBLHlCQUF5QixRQUFRO0FBQ2pDO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEseUJBQXlCLFFBQVE7QUFDakM7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQSx5QkFBeUIsUUFBUTtBQUNqQztBQUNBOztBQUVBOztBQUVBOztBQUVBLHlCQUF5QixRQUFRO0FBQ2pDO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEseUJBQXlCLFFBQVE7QUFDakM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qjs7QUFFN0I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNGQUFzRjs7QUFFdEY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7O0FBRWpDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGdCQUFnQixpQkFBaUIsb0JBQW9CO0FBQ3ZHOztBQUVBO0FBQ0E7QUFDQSxrREFBa0QsZ0JBQWdCLGlCQUFpQixvQkFBb0I7QUFDdkc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCOztBQUU3QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNGQUFzRjs7QUFFdEY7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7O0FBRWpDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGdCQUFnQixpQkFBaUIsb0JBQW9CO0FBQ3ZHOztBQUVBO0FBQ0E7QUFDQSxrREFBa0QsZ0JBQWdCLGlCQUFpQixvQkFBb0I7QUFDdkc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0VBQWdFLGNBQWM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0VBQWdFLGNBQWM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtREFBbUQsT0FBTztBQUMxRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsU0FBUztBQUM1RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsU0FBUztBQUM1RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnRUFBZ0UsY0FBYztBQUM5RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnRUFBZ0UsY0FBYztBQUM5RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1EQUFtRCxPQUFPO0FBQzFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsU0FBUztBQUM1RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsU0FBUztBQUM1RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLHdGQUF3Rjs7QUFFeEY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3RkFBd0Y7O0FBRXhGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0ZBQXdGOztBQUV4Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdGQUF3Rjs7QUFFeEY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3RkFBd0Y7O0FBRXhGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0ZBQXdGOztBQUV4Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdGQUF3Rjs7QUFFeEY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3RkFBd0Y7O0FBRXhGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSx3RkFBd0Y7O0FBRXhGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0ZBQXdGOztBQUV4Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdGQUF3Rjs7QUFFeEY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3RkFBd0Y7O0FBRXhGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0ZBQXdGOztBQUV4Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHdGQUF3Rjs7QUFFeEY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSx3RkFBd0Y7O0FBRXhGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esd0ZBQXdGOztBQUV4Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0VBQWdFLGNBQWM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0VBQWdFLGNBQWM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtREFBbUQsT0FBTztBQUMxRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsU0FBUztBQUM1RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsU0FBUztBQUM1RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnRUFBZ0UsY0FBYztBQUM5RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxnRUFBZ0UsY0FBYztBQUM5RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1EQUFtRCxPQUFPO0FBQzFEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxRQUFRO0FBQzNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtREFBbUQsUUFBUTtBQUMzRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsU0FBUztBQUM1RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1EQUFtRCxTQUFTO0FBQzVEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtREFBbUQsU0FBUztBQUM1RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbURBQW1ELFNBQVM7QUFDNUQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdFQUFnRSxjQUFjO0FBQzlFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBOztBQUVBLG9EQUFvRCxRQUFRO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0VBQWdFLGNBQWM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxRQUFRO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTs7QUFFQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTs7QUFFQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7O0FBRUEsZ0RBQWdELFFBQVE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBOztBQUVBLGdEQUFnRCxRQUFRO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdFQUFnRSxjQUFjO0FBQzlFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBOztBQUVBLG9EQUFvRCxRQUFRO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0VBQWdFLGNBQWM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxRQUFRO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTs7QUFFQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTs7QUFFQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7O0FBRUEsZ0RBQWdELFFBQVE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTs7QUFFQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDREQUE0RDtBQUM1RDtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FO0FBQ0E7O0FBRUEsMEZBQTBGOztBQUUxRjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxvQkFBb0IsaUJBQWlCLHdCQUF3QjtBQUMzRzs7QUFFQTtBQUNBO0FBQ0EsOENBQThDLG9CQUFvQixpQkFBaUIsd0JBQXdCO0FBQzNHLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBLHNEQUFzRDtBQUN0RDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBLG1FQUFtRTtBQUNuRTtBQUNBOztBQUVBLDBGQUEwRjs7QUFFMUY7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsb0JBQW9CLGlCQUFpQix3QkFBd0I7QUFDM0c7O0FBRUE7QUFDQTtBQUNBLDhDQUE4QyxvQkFBb0IsaUJBQWlCLHdCQUF3QjtBQUMzRyxpQkFBaUI7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7O0FBR2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7O0FBRWpCO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9HQUFvRzs7QUFFcEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvR0FBb0c7O0FBRXBHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNkNBQTZDLFFBQVE7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCOztBQUVqQjtBQUNBLDZDQUE2QyxTQUFTO0FBQ3REO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBLCtDQUErQyxPQUFPO0FBQ3REO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9HQUFvRzs7QUFFcEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvR0FBb0c7O0FBRXBHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxTQUFTO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0MsT0FBTztBQUN0RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJDQUEyQyxRQUFRO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxRQUFRO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxTQUFTO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxTQUFTO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0RkFBNEY7O0FBRTVGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRGQUE0Rjs7QUFFNUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNEZBQTRGOztBQUU1Rjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0dBQW9HOztBQUVwRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9HQUFvRzs7QUFFcEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxTQUFTO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0MsT0FBTztBQUN0RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsU0FBUztBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNERBQTRELGNBQWM7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvR0FBb0c7O0FBRXBHOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0dBQW9HOztBQUVwRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJDQUEyQyxRQUFRO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLFNBQVM7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtDQUErQyxPQUFPO0FBQ3REO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxRQUFRO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0MsUUFBUTtBQUN2RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFFBQVE7QUFDdkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLCtDQUErQyxTQUFTO0FBQ3hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwrQ0FBK0MsU0FBUztBQUN4RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxRQUFRO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxRQUFRO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxTQUFTO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxTQUFTO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9HQUFvRzs7QUFFcEc7O0FBRUE7QUFDQTs7QUFFQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0REFBNEQsY0FBYztBQUMxRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9HQUFvRzs7QUFFcEc7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELFFBQVE7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTs7QUFFQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0E7O0FBRUEsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTs7QUFFQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBOztBQUVBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0dBQW9HOztBQUVwRzs7QUFFQTtBQUNBOztBQUVBLGdEQUFnRCxRQUFRO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDREQUE0RCxjQUFjO0FBQzFFO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0dBQW9HOztBQUVwRzs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsUUFBUTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBOztBQUVBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0RBQXdELGNBQWM7QUFDdEU7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGdHQUFnRzs7QUFFaEc7O0FBRUE7QUFDQTs7QUFFQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3REFBd0QsY0FBYztBQUN0RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsZ0dBQWdHOztBQUVoRzs7QUFFQTtBQUNBOztBQUVBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdEQUF3RCxjQUFjO0FBQ3RFO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnR0FBZ0c7O0FBRWhHOztBQUVBO0FBQ0E7O0FBRUEsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF3QyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDLE9BQU87QUFDbkQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF3QyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0QyxPQUFPO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLFNBQVM7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0QyxPQUFPO0FBQ25EO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsUUFBUTtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3Q0FBd0MsU0FBUztBQUNqRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLFNBQVM7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLFNBQVM7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEMsT0FBTztBQUNuRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw0Q0FBNEMsUUFBUTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxRQUFRO0FBQ3BEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNENBQTRDLFNBQVM7QUFDckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0Q0FBNEMsU0FBUztBQUNyRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRDQUE0QyxTQUFTO0FBQ3JEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLFFBQVE7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF3QyxRQUFRO0FBQ2hEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLFNBQVM7QUFDakQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdDQUF3QyxTQUFTO0FBQ2pEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGVtcGxhdGUvLi9zcmMvamF2YXNjcmlwdC5qcz84NzQ2Il0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFBpZWNlIHtcbiAgICBjb25zdHJ1Y3Rvcihjb2xvciwgbmFtZSwgbnVtKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5udW0gPSBudW07XG4gICAgICAgIHRoaXMuZmlyc3RUdXJuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXNldFBpZWNlKG5hbWUsIG51bSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLm51bSA9IG51bTtcbiAgICAgICAgdGhpcy5maXJzdFR1cm4gPSB0cnVlO1xuICAgIH1cbn1cblxuY2xhc3MgR2FtZWJvYXJkIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ncmlkID0gdGhpcy5jcmVhdGVHcmlkKCk7XG4gICAgICAgIHRoaXMucGllY2VzID0gW107XG4gICAgfVxuXG4gICAgY3JlYXRlR3JpZCgpIHtcbiAgICAgICAgbGV0IGdyaWQgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4OyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgc3F1YXJlID0gJ3x8fCc7XG4gICAgICAgICAgICAgICAgZ3JpZC5wdXNoKHNxdWFyZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBncmlkWzBdID0gXCJCUjFcIjtcbiAgICAgICAgZ3JpZFsxXSA9IFwiQk4xXCI7XG4gICAgICAgIGdyaWRbMl0gPSBcIkJCMVwiO1xuICAgICAgICBncmlkWzNdID0gXCJCUVwiO1xuICAgICAgICBncmlkWzRdID0gXCJCS1wiO1xuICAgICAgICBncmlkWzVdID0gXCJCQjJcIjtcbiAgICAgICAgZ3JpZFs2XSA9IFwiQk4yXCI7XG4gICAgICAgIGdyaWRbN10gPSBcIkJSMlwiO1xuICAgICAgICBcbiAgICAgICAgZ3JpZFs4XSA9IFwiQlAxXCI7XG4gICAgICAgIGdyaWRbOV0gPSBcIkJQMlwiO1xuICAgICAgICBncmlkWzEwXSA9IFwiQlAzXCI7XG4gICAgICAgIGdyaWRbMTFdID0gXCJCUDRcIjtcbiAgICAgICAgZ3JpZFsxMl0gPSBcIkJQNVwiO1xuICAgICAgICBncmlkWzEzXSA9IFwiQlA2XCI7XG4gICAgICAgIGdyaWRbMTRdID0gXCJCUDdcIjtcbiAgICAgICAgZ3JpZFsxNV0gPSBcIkJQOFwiO1xuXG4gICAgICAgIGdyaWRbNDhdID0gXCJXUDFcIjtcbiAgICAgICAgZ3JpZFs0OV0gPSBcIldQMlwiO1xuICAgICAgICBncmlkWzUwXSA9IFwiV1AzXCI7XG4gICAgICAgIGdyaWRbNTFdID0gXCJXUDRcIjtcbiAgICAgICAgZ3JpZFs1Ml0gPSBcIldQNVwiO1xuICAgICAgICBncmlkWzUzXSA9IFwiV1A2XCI7XG4gICAgICAgIGdyaWRbNTRdID0gXCJXUDdcIjtcbiAgICAgICAgZ3JpZFs1NV0gPSBcIldQOFwiO1xuXG4gICAgICAgIGdyaWRbNTZdID0gXCJXUjFcIjtcbiAgICAgICAgZ3JpZFs1N10gPSBcIldOMVwiO1xuICAgICAgICBncmlkWzU4XSA9IFwiV0IxXCI7XG4gICAgICAgIGdyaWRbNTldID0gXCJXUVwiO1xuICAgICAgICBncmlkWzYwXSA9IFwiV0tcIjtcbiAgICAgICAgZ3JpZFs2MV0gPSBcIldCMlwiO1xuICAgICAgICBncmlkWzYyXSA9IFwiV04yXCI7XG4gICAgICAgIGdyaWRbNjNdID0gXCJXUjJcIjtcblxuICAgICAgICAvL2NvbnNvbGUubG9nKGdyaWQpO1xuXG4gICAgICAgIHJldHVybiBncmlkO1xuICAgIH1cblxuICAgIHByaW50R3JpZCgpIHtcbiAgICAgICAgbGV0IGFyciA9IFtdO1xuICAgICAgICBsZXQgcm93MSA9IFtdO1xuICAgICAgICBsZXQgcm93MiA9IFtdO1xuICAgICAgICBsZXQgcm93MyA9IFtdO1xuICAgICAgICBsZXQgcm93NCA9IFtdO1xuICAgICAgICBsZXQgcm93NSA9IFtdO1xuICAgICAgICBsZXQgcm93NiA9IFtdO1xuICAgICAgICBsZXQgcm93NyA9IFtdO1xuICAgICAgICBsZXQgcm93OCA9IFtdO1xuXG4gICAgICAgIHJvdzEucHVzaChcIjAgICBcIik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgIHJvdzEucHVzaCh0aGlzLmdyaWRbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcm93MS5wdXNoKFwiICAgIDdcIik7XG5cbiAgICAgICAgcm93Mi5wdXNoKFwiOCAgIFwiKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gODsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgIHJvdzIucHVzaCh0aGlzLmdyaWRbaV0pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByb3cyLnB1c2goXCIgIDE1XCIpO1xuXG4gICAgICAgIHJvdzMucHVzaChcIjE2ICBcIik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE2OyBpIDwgMjQ7IGkrKykge1xuICAgICAgICAgICAgcm93My5wdXNoKHRoaXMuZ3JpZFtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByb3czLnB1c2goXCIgIDIzXCIpO1xuXG4gICAgICAgIHJvdzQucHVzaChcIjI0ICBcIik7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDI0OyBpIDwgMzI7IGkrKykge1xuICAgICAgICAgICAgcm93NC5wdXNoKHRoaXMuZ3JpZFtpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByb3c0LnB1c2goXCIgIDMxXCIpXG5cbiAgICAgICAgcm93NS5wdXNoKFwiMzIgIFwiKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMzI7IGkgPCA0MDsgaSsrKSB7XG4gICAgICAgICAgICByb3c1LnB1c2godGhpcy5ncmlkW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvdzUucHVzaChcIiAgMzlcIik7XG5cbiAgICAgICAgcm93Ni5wdXNoKFwiNDAgIFwiKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gNDA7IGkgPCA0ODsgaSsrKSB7XG4gICAgICAgICAgICByb3c2LnB1c2godGhpcy5ncmlkW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvdzYucHVzaChcIiAgNDdcIik7XG5cbiAgICAgICAgcm93Ny5wdXNoKFwiNDggIFwiKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gNDg7IGkgPCA1NjsgaSsrKSB7XG4gICAgICAgICAgICByb3c3LnB1c2godGhpcy5ncmlkW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvdzcucHVzaChcIiAgNTVcIik7XG5cbiAgICAgICAgcm93OC5wdXNoKFwiNTYgIFwiKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gNTY7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICByb3c4LnB1c2godGhpcy5ncmlkW2ldKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJvdzgucHVzaChcIiAgICA2M1wiKTtcblxuICAgICAgICBhcnIucHVzaChyb3cxLmpvaW4oXCIgXCIpKTtcbiAgICAgICAgYXJyLnB1c2gocm93Mi5qb2luKFwiIFwiKSk7XG4gICAgICAgIGFyci5wdXNoKHJvdzMuam9pbihcIiBcIikpO1xuICAgICAgICBhcnIucHVzaChyb3c0LmpvaW4oXCIgXCIpKTtcbiAgICAgICAgYXJyLnB1c2gocm93NS5qb2luKFwiIFwiKSk7XG4gICAgICAgIGFyci5wdXNoKHJvdzYuam9pbihcIiBcIikpO1xuICAgICAgICBhcnIucHVzaChyb3c3LmpvaW4oXCIgXCIpKTtcbiAgICAgICAgYXJyLnB1c2gocm93OC5qb2luKFwiIFwiKSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYXJyKTtcblxuICAgIH1cblxuICAgIHJlc2V0R3JpZCgpIHtcbiAgICAgICAgdGhpcy5ncmlkID0gdGhpcy5jcmVhdGVHcmlkKCk7XG4gICAgfVxufVxuXG5jbGFzcyBQbGF5ZXIge1xuICAgIGNvbnN0cnVjdG9yKGNvbG9yLCBjdXJyZW50VHVybikge1xuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBjdXJyZW50VHVybjtcbiAgICAgICAgdGhpcy5lblBhc3NhbnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbXBsZXRlZFR3b1NxdWFyZXNNb3ZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMubnVtT2ZXaGl0ZVF1ZWVucyA9IFsyLCAzLCA0LCA1LCA2LCA3LCA4LCA5XTtcbiAgICAgICAgdGhpcy5udW1PZkJsYWNrUXVlZW5zID0gWzIsIDMsIDQsIDUsIDYsIDcsIDgsIDldO1xuICAgICAgICB0aGlzLmluQ2hlY2sgPSBmYWxzZTtcbiAgICB9XG5cbiAgICByZXNldFBsYXllcihjdXJyZW50VHVybikge1xuICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gY3VycmVudFR1cm47XG4gICAgICAgIHRoaXMuZW5QYXNzYW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaGFzTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm51bU9mV2hpdGVRdWVlbnMgPSBbMiwgMywgNCwgNSwgNiwgNywgOCwgOV07XG4gICAgICAgIHRoaXMubnVtT2ZCbGFja1F1ZWVucyA9IFsyLCAzLCA0LCA1LCA2LCA3LCA4LCA5XTtcbiAgICAgICAgdGhpcy5pbkNoZWNrID0gZmFsc2U7XG4gICAgfVxuXG4gICAgbW92ZShncmlkLCBwaWVjZSwgbmV3SW5kZXgsIGVuZW15UGxheWVyKSB7XG4gICAgICAgIGxldCBwaWVjZU51bSA9IHBpZWNlLm51bTtcblxuICAgICAgICBpZiAocGllY2VOdW0gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwaWVjZU51bSA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGllY2VTdHJpbmcgPSBwaWVjZS5jb2xvciArIHBpZWNlLm5hbWUgKyBwaWVjZU51bTtcbiAgICAgICAgbGV0IHBpZWNlQ3VycmVudEluZGV4ID0gZ3JpZC5pbmRleE9mKHBpZWNlU3RyaW5nKTtcblxuICAgICAgICBpZiAodGhpcy5jaGVja0lmS2luZ0lzSW5DaGVjayhncmlkLCBwaWVjZSwgbmV3SW5kZXgsIHRoaXMuY29sb3IpID09IHRydWUpIHtcblxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jaGVja0lmS2luZ0lzSW5DaGVjayhncmlkLCBwaWVjZSwgbmV3SW5kZXgsIHRoaXMuY29sb3IpID09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLmluQ2hlY2sgPSBmYWxzZTtcblxuICAgICAgICAgICAgaWYgKHBpZWNlLm5hbWUgPT0gXCJQXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT0gXCJXXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyAxIHNwYWNlIGZvcndhcmQgXG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XSAhPSBcInx8fFwiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmlmIChuZXdJbmRleCA9PSAwIHx8IG5ld0luZGV4ID09IDEgfHwgbmV3SW5kZXggPT0gMiB8fCBuZXdJbmRleCA9PSAzIHx8IG5ld0luZGV4ID09IDQgfHwgbmV3SW5kZXggPT0gNSB8fCBuZXdJbmRleCA9PSA2IHx8IG5ld0luZGV4ID09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGllY2UubmFtZSA9IFwiUVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpZWNlLm51bSA9IHRoaXMubnVtT2ZXaGl0ZVF1ZWVuc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5udW1PZldoaXRlUXVlZW5zLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gXCJXXCIgKyBwaWVjZS5uYW1lICsgcGllY2UubnVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpZWNlLmZpcnN0VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTW92ZWQgPSB0cnVlOyAgIFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyAyIHNwYWNlcyBmb3J3YXJkIG9ubHkgZHVyaW5nIGZpcnN0IHR1cm5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMTYpICYmIHBpZWNlLmZpcnN0VHVybiA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0gIT0gXCJ8fHxcIikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbbmV3SW5kZXggKyA4XSAhPSBcInx8fFwiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmlmIChuZXdJbmRleCA9PSAwIHx8IG5ld0luZGV4ID09IDEgfHwgbmV3SW5kZXggPT0gMiB8fCBuZXdJbmRleCA9PSAzIHx8IG5ld0luZGV4ID09IDQgfHwgbmV3SW5kZXggPT0gNSB8fCBuZXdJbmRleCA9PSA2IHx8IG5ld0luZGV4ID09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGllY2UubmFtZSA9IFwiUVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpZWNlLm51bSA9IHRoaXMubnVtT2ZXaGl0ZVF1ZWVuc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5udW1PZldoaXRlUXVlZW5zLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gXCJXXCIgKyBwaWVjZS5uYW1lICsgcGllY2UubnVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGllY2UuZmlyc3RUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FwdHVyaW5nIHBpZWNlIGRpYWdvbmFsbHkgaW4gZnJvbnQgb2YgaXRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA5IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lblBhc3NhbnQgPT0gdHJ1ZSAmJiBncmlkW25ld0luZGV4IC0gOF0gIT0gXCJCS1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCA2NCkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4ICsgOF0gPSBcInx8fFwiOyAvLyBDYXB0dXJlIGVuZW15IHBhd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lblBhc3NhbnQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZW5QYXNzYW50IGJ5IHdoaXRlIHBhd25cIik7ICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtuZXdJbmRleF0gPT0gXCJ8fHxcIiB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBjYXB0dXJlIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDggJiYgcGllY2VDdXJyZW50SW5kZXggPCAxNikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA1NiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDY0KSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyppZiAobmV3SW5kZXggPT0gMCB8fCBuZXdJbmRleCA9PSAxIHx8IG5ld0luZGV4ID09IDIgfHwgbmV3SW5kZXggPT0gMyB8fCBuZXdJbmRleCA9PSA0IHx8IG5ld0luZGV4ID09IDUgfHwgbmV3SW5kZXggPT0gNiB8fCBuZXdJbmRleCA9PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWVjZS5uYW1lID0gXCJRXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpZWNlLm51bSA9IHRoaXMubnVtT2ZXaGl0ZVF1ZWVuc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubnVtT2ZXaGl0ZVF1ZWVucy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBcIldcIiArIHBpZWNlLm5hbWUgKyBwaWVjZS5udW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTW92ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBwYXduIGNhbiBlbiBwYXNzYW50LiBNYWtlcyBzdXJlIHRoZSBwbGF5ZXIgcGF3biBoYXMgbW92ZWQgKGFib3ZlIG9jY3VycmVkKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCAtIDFdLnN0YXJ0c1dpdGgoXCJCUFwiKSAmJiB0aGlzLmhhc01vdmVkID09IHRydWUgJiYgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5lblBhc3NhbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFdoaXRlIHBhd24gJHtncmlkW25ld0luZGV4XX0gaGFzIGJsYWNrIHBhd24gJHtncmlkW25ld0luZGV4IC0gMV19IHRvIHRoZSBsZWZ0YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW25ld0luZGV4ICsgMV0uc3RhcnRzV2l0aChcIkJQXCIpICYmIHRoaXMuaGFzTW92ZWQgPT0gdHJ1ZSAmJiB0aGlzLmNvbXBsZXRlZFR3b1NxdWFyZXNNb3ZlID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmVuUGFzc2FudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgV2hpdGUgcGF3biAke2dyaWRbbmV3SW5kZXhdfSBoYXMgYmxhY2sgcGF3biAke2dyaWRbbmV3SW5kZXggKyAxXX0gdG8gdGhlIHJpZ2h0YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrXG4gICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4IC0gNyA+PSAwICYmIG5ld0luZGV4IC0gNyA8IDgpICYmIChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gNyA+PSA4ICYmIG5ld0luZGV4IC0gNyA8IDE2KSAmJiAobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggLSA3ID49IDE2ICYmIG5ld0luZGV4IC0gNyA8IDI0KSAmJiAobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggLSA3ID49IDI0ICYmIG5ld0luZGV4IC0gNyA8IDMyKSAmJiAobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggLSA3ID49IDMyICYmIG5ld0luZGV4IC0gNyA8IDQwKSAmJiAobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggLSA3ID49IDQwICYmIG5ld0luZGV4IC0gNyA8IDQ4KSAmJiAobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggLSA3ID49IDQ4ICYmIG5ld0luZGV4IC0gNyA8IDU2KSAmJiAobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCAtIDddLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKChuZXdJbmRleCAtIDkgPj0gMCAmJiBuZXdJbmRleCAtIDkgPCA4KSAmJiAobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCAtIDkgPj0gOCAmJiBuZXdJbmRleCAtIDkgPCAxNikgJiYgKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gOSA+PSAxNiAmJiBuZXdJbmRleCAtIDkgPCAyNCkgJiYgKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gOSA+PSAyNCAmJiBuZXdJbmRleCAtIDkgPCAzMikgJiYgKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gOSA+PSAzMiAmJiBuZXdJbmRleCAtIDkgPCA0MCkgJiYgKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gOSA+PSA0MCAmJiBuZXdJbmRleCAtIDkgPCA0OCkgJiYgKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gOSA+PSA0OCAmJiBuZXdJbmRleCAtIDkgPCA1NikgJiYgKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXggLSA5XS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlLmNvbG9yID09IFwiQlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyAxIG9yIDIgc3BhY2VzIGZvcndhcmQgXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XSAhPSBcInx8fFwiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKmlmIChuZXdJbmRleCA9PSA1NiB8fCBuZXdJbmRleCA9PSA1NyB8fCBuZXdJbmRleCA9PSA1OCB8fCBuZXdJbmRleCA9PSA1OSB8fCBuZXdJbmRleCA9PSA2MCB8fCBuZXdJbmRleCA9PSA2MSB8fCBuZXdJbmRleCA9PSA2MiB8fCBuZXdJbmRleCA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWVjZS5uYW1lID0gXCJRXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGllY2UubnVtID0gdGhpcy5udW1PZkJsYWNrUXVlZW5zWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm51bU9mQmxhY2tRdWVlbnMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBcIkJcIiArIHBpZWNlLm5hbWUgKyBwaWVjZS5udW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWVjZS5maXJzdFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc01vdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxNikgJiYgcGllY2UuZmlyc3RUdXJuID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XSAhPSBcInx8fFwiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtuZXdJbmRleCAtIDhdICE9IFwifHx8XCIpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qaWYgKG5ld0luZGV4ID09IDU2IHx8IG5ld0luZGV4ID09IDU3IHx8IG5ld0luZGV4ID09IDU4IHx8IG5ld0luZGV4ID09IDU5IHx8IG5ld0luZGV4ID09IDYwIHx8IG5ld0luZGV4ID09IDYxIHx8IG5ld0luZGV4ID09IDYyIHx8IG5ld0luZGV4ID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpZWNlLm5hbWUgPSBcIlFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWVjZS5udW0gPSB0aGlzLm51bU9mQmxhY2tRdWVlbnNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubnVtT2ZCbGFja1F1ZWVucy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IFwiQlwiICsgcGllY2UubmFtZSArIHBpZWNlLm51bTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ki9cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpZWNlLmZpcnN0VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVkVHdvU3F1YXJlc01vdmUgPSB0cnVlXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDYXB0dXJpbmcgcGllY2UgZGlhZ29uYWxseSBpbiBmcm9udCBvZiBpdFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDkgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lblBhc3NhbnQgPT0gdHJ1ZSAmJiBncmlkW25ld0luZGV4IC0gOF0gIT0gXCJXS1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDggJiYgcGllY2VDdXJyZW50SW5kZXggPCAxNikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpKSB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXggLSA4XSA9IFwifHx8XCI7IC8vIENhcHR1cmUgZW5lbXkgcGF3blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuUGFzc2FudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc01vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlblBhc3NhbnQgYnkgYmxhY2sgcGF3blwiKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbbmV3SW5kZXhdID09IFwifHx8XCIgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgY2FwdHVyZSBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgOCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSkpIHsgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qaWYgKG5ld0luZGV4ID09IDU2IHx8IG5ld0luZGV4ID09IDU3IHx8IG5ld0luZGV4ID09IDU4IHx8IG5ld0luZGV4ID09IDU5IHx8IG5ld0luZGV4ID09IDYwIHx8IG5ld0luZGV4ID09IDYxIHx8IG5ld0luZGV4ID09IDYyIHx8IG5ld0luZGV4ID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWVjZS5uYW1lID0gXCJRXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpZWNlLm51bSA9IHRoaXMubnVtT2ZCbGFja1F1ZWVuc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubnVtT2ZCbGFja1F1ZWVucy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBcIkJcIiArIHBpZWNlLm5hbWUgKyBwaWVjZS5udW07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTW92ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBwYXduIGNhbiBlbiBwYXNzYW50LiBNYWtlcyBzdXJlIHRoZSBwbGF5ZXIgcGF3biBoYXMgbW92ZWQgKGFib3ZlIG9jY3VycmVkKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCAtIDFdLnN0YXJ0c1dpdGgoXCJXUFwiKSAmJiB0aGlzLmhhc01vdmVkID09IHRydWUgJiYgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5lblBhc3NhbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEJsYWNrIHBhd24gJHtncmlkW25ld0luZGV4XX0gaGFzIHdoaXRlIHBhd24gJHtncmlkW25ld0luZGV4IC0gMV19IHRvIHRoZSBsZWZ0YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW25ld0luZGV4ICsgMV0uc3RhcnRzV2l0aChcIldQXCIpICYmIHRoaXMuaGFzTW92ZWQgPT0gdHJ1ZSAmJiB0aGlzLmNvbXBsZXRlZFR3b1NxdWFyZXNNb3ZlID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmVuUGFzc2FudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQmxhY2sgcGF3biAke2dyaWRbbmV3SW5kZXhdfSBoYXMgd2hpdGUgcGF3biAke2dyaWRbbmV3SW5kZXggKyAxXX0gdG8gdGhlIHJpZ2h0YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrXG4gICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAobmV3SW5kZXggKyA3ID49IDggJiYgbmV3SW5kZXggKyA3IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKG5ld0luZGV4ICsgNyA+PSAxNiAmJiBuZXdJbmRleCArIDcgPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKG5ld0luZGV4ICsgNyA+PSAyNCAmJiBuZXdJbmRleCArIDcgPCAzMikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKG5ld0luZGV4ICsgNyA+PSAzMiAmJiBuZXdJbmRleCArIDcgPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKG5ld0luZGV4ICsgNyA+PSA0MCAmJiBuZXdJbmRleCArIDcgPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKG5ld0luZGV4ICsgNyA+PSA0OCAmJiBuZXdJbmRleCArIDcgPCA1NikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKG5ld0luZGV4ICsgNyA+PSA1NiAmJiBuZXdJbmRleCArIDcgPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCArIDddLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKG5ld0luZGV4ICsgOSA+PSA4ICYmIG5ld0luZGV4ICsgOSA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChuZXdJbmRleCArIDkgPj0gMTYgJiYgbmV3SW5kZXggKyA5IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChuZXdJbmRleCArIDkgPj0gMjQgJiYgbmV3SW5kZXggKyA5IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChuZXdJbmRleCArIDkgPj0gMzIgJiYgbmV3SW5kZXggKyA5IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChuZXdJbmRleCArIDkgPj0gNDAgJiYgbmV3SW5kZXggKyA5IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChuZXdJbmRleCArIDkgPj0gNDggJiYgbmV3SW5kZXggKyA5IDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChuZXdJbmRleCArIDkgPj0gNTYgJiYgbmV3SW5kZXggKyA5IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXggKyA5XS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTW92ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAocGllY2UubmFtZSA9PSBcIlJcIikge1xuXG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlLmNvbG9yID09IFwiV1wiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOCB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE2XG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI0IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMzIgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQwIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDggXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDU2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSA4OyBpID4gbmV3SW5kZXg7IGkgLT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDggfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxNlxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyNCB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDMyIFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0MCB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ4IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDg7IGkgPCBuZXdJbmRleDsgaSArPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyByaWdodCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDUgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA2IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA3KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDMyICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDU2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgMTsgaSA8IG5ld0luZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgbGVmdCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMyB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDUgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA2IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDMyICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDU2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gMTsgaSA+IG5ld0luZGV4OyBpIC09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cHdhcmRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDg7IGkgPj0gMDsgaSAtPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd253YXJkc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyA4OyBpIDw9IDYzOyBpICs9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDMyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgNDA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA0ODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDU2OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgNjQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgbGVmdFxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDg7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMTY7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMjQ7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMzI7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gNDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gNDg7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gNTY7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlLmNvbG9yID09IFwiQlwiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOCB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE2XG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI0IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMzIgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQwIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDggXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDU2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSA4OyBpID4gbmV3SW5kZXg7IGkgLT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDggfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxNlxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyNCB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDMyIFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0MCB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ4IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgODsgaSA8IG5ld0luZGV4OyBpICs9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlOyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgcmlnaHQgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDEgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDMgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA1IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDE2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA1NiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDE7IGkgPCBuZXdJbmRleDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyBsZWZ0IGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMlxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAzIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDYgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgOCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDggJiYgcGllY2VDdXJyZW50SW5kZXggPCAxNikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDI0ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQ4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSAxOyBpID4gbmV3SW5kZXg7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHVwd2FyZHNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gODsgaSA+PSAwOyBpIC09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93bndhcmRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDg7IGkgPD0gNjM7IGkgKz0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayByaWdodFxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDI0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgMzI7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA0MDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDQ4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgNTY7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gODsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAxNjsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAyNDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAzMjsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA0MDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA0ODsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA1NjsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChwaWVjZS5uYW1lID09IFwiQlwiKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT0gXCJXXCIpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgdXAgYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA3IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMTRcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMjEgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyOCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMzUgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0MiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSA3OyBpID4gbmV3SW5kZXg7IGkgLT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSA3ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMTUgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjMgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAzMSAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAzOSAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDQ3ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDU1ICYmIG5ld0luZGV4IDwgaSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyB1cCBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA5IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMThcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMjcgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAzNiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDUgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA1NCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSA5OyBpID4gbmV3SW5kZXg7IGkgLT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSA4ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMTYgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0MCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDQ4ICYmIG5ld0luZGV4IDwgaSkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDkgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxOFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyNyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDM2IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0NSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDU0IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDk7IGkgPCBuZXdJbmRleDsgaSArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDE1ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMjMgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMzEgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAzOSAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0NyAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDU1ICYmIG5ld0luZGV4ID4gaSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDE0XG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDIxIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjggXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDM1IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDIgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgNzsgaSA8IG5ld0luZGV4OyBpICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDI0ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMzIgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDAgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSA0OCAmJiBuZXdJbmRleCA+IGkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDc7IGkgPj0gMDsgaSAtPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IDcgfHwgaSA9PSAxNSB8fCBpID09IDIzIHx8IGkgPT0gMzEgfHwgaSA9PSAzOSB8fCBpID09IDQ3IHx8IGkgPT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXAgYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDk7IGkgPj0gMDsgaSAtPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IDAgfHwgaSA9PSA4IHx8IGkgPT0gMTYgfHwgaSA9PSAyNCB8fCBpID09IDMyIHx8IGkgPT0gNDAgfHwgaSA9PSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3duIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgOTsgaSA8PSA2MzsgaSArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IDE1IHx8IGkgPT0gMjMgfHwgaSA9PSAzMSB8fCBpID09IDM5IHx8IGkgPT0gNDcgfHwgaSA9PSA1NSB8fCBpID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd24gYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDc7IGkgPD0gNjM7IGkgKz0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSA4IHx8IGkgPT0gMTYgfHwgaSA9PSAyNCB8fCBpID09IDMyIHx8IGkgPT0gNDAgfHwgaSA9PSA0OCB8fCBpID09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZS5jb2xvciA9PSBcIkJcIikge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyB1cCBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDcgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxNFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyMSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI4IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAzNSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQyIFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDc7IGkgPiBuZXdJbmRleDsgaSAtPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDcgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAxNSAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAyMyAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDMxICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDM5ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDcgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNTUgJiYgbmV3SW5kZXggPCBpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDkgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxOFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyNyB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDM2IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0NSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDU0IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDk7IGkgPiBuZXdJbmRleDsgaSAtPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDggJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAxNiAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAyNCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDMyICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQwICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDggJiYgbmV3SW5kZXggPCBpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA5IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMThcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjcgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAzNiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDUgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA1NCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyA5OyBpIDwgbmV3SW5kZXg7IGkgKz0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSAxNSAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDIzICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDMxICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMzkgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDcgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSA1NSAmJiBuZXdJbmRleCA+IGkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA3IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTRcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjEgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyOCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMzUgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0MiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyA3OyBpIDwgbmV3SW5kZXg7IGkgKz0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSA4ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMTYgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0MCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDQ4ICYmIG5ld0luZGV4ID4gaSkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXAgYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSA3OyBpID49IDA7IGkgLT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSA3IHx8IGkgPT0gMTUgfHwgaSA9PSAyMyB8fCBpID09IDMxIHx8IGkgPT0gMzkgfHwgaSA9PSA0NyB8fCBpID09IDU1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHVwIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSA5OyBpID49IDA7IGkgLT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwIHx8IGkgPT0gOCB8fCBpID09IDE2IHx8IGkgPT0gMjQgfHwgaSA9PSAzMiB8fCBpID09IDQwIHx8IGkgPT0gNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93biBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDk7IGkgPD0gNjM7IGkgKz0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAxNSB8fCBpID09IDIzIHx8IGkgPT0gMzEgfHwgaSA9PSAzOSB8fCBpID09IDQ3IHx8IGkgPT0gNTUgfHwgaSA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3duIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyA3OyBpIDw9IDYzOyBpICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gOCB8fCBpID09IDE2IHx8IGkgPT0gMjQgfHwgaSA9PSAzMiB8fCBpID09IDQwIHx8IGkgPT0gNDggfHwgaSA9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChwaWVjZS5uYW1lID09IFwiTlwiKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT0gXCJXXCIpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgMiBzcXVhcmVzIHVwIGFuZCAxIHNxdWFyZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgMSBzcXVhcmUgdXAgYW5kIDIgc3F1YXJlcyByaWdodFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIDIgc3F1YXJlcyB1cCBhbmQgMSBzcXVhcmUgbGVmdFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyAxIHNxdWFyZSB1cCBhbmQgMiBzcXVhcmVzIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgMiBzcXVhcmVzIGRvd24gYW5kIDEgc3F1YXJlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIDEgc3F1YXJlIGRvd24gYW5kIDIgc3F1YXJlcyByaWdodFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyAyIHNxdWFyZXMgZG93biBhbmQgMSBzcXVhcmUgbGVmdFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDE1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyAxIHNxdWFyZSBkb3duIGFuZCAyIHNxdWFyZXMgbGVmdFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVja1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCAtIDE1XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4IC0gMTVdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtuZXdJbmRleCAtIDZdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXggLSA2XS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbbmV3SW5kZXggLSAxN10gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCAtIDE3XS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbbmV3SW5kZXggLSAxMF0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCAtIDEwXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbbmV3SW5kZXggKyAxN10gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCArIDE3XS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbbmV3SW5kZXggKyAxMF0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCArIDEwXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbbmV3SW5kZXggKyA2XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4ICsgNl0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW25ld0luZGV4ICsgMTVdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXggKyAxNV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZS5jb2xvciA9PSBcIkJcIikge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyAyIHNxdWFyZXMgdXAgYW5kIDEgc3F1YXJlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyAxIHNxdWFyZSB1cCBhbmQgMiBzcXVhcmVzIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgMiBzcXVhcmVzIHVwIGFuZCAxIHNxdWFyZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIDEgc3F1YXJlIHVwIGFuZCAyIHNxdWFyZXMgbGVmdFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyAyIHNxdWFyZXMgZG93biBhbmQgMSBzcXVhcmUgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgMSBzcXVhcmUgZG93biBhbmQgMiBzcXVhcmVzIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIDIgc3F1YXJlcyBkb3duIGFuZCAxIHNxdWFyZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIDEgc3F1YXJlIGRvd24gYW5kIDIgc3F1YXJlcyBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4IC0gMTVdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXggLSAxNV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW25ld0luZGV4IC0gNl0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCAtIDZdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtuZXdJbmRleCAtIDE3XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4IC0gMTddLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtuZXdJbmRleCAtIDEwXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4IC0gMTBdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtuZXdJbmRleCArIDE3XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4ICsgMTddLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtuZXdJbmRleCArIDEwXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4ICsgMTBdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtuZXdJbmRleCArIDZdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXggKyA2XS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbbmV3SW5kZXggKyAxNV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleCArIDE1XS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAocGllY2UubmFtZSA9PSBcIlFcIikge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChwaWVjZS5jb2xvciA9PSBcIldcIikge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOCB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE2XG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI0IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMzIgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQwIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDggXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDU2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSA4OyBpID4gbmV3SW5kZXg7IGkgLT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDggfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxNlxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyNCB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDMyIFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0MCB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ4IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDg7IGkgPCBuZXdJbmRleDsgaSArPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyByaWdodCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDUgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA2IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA3KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDMyICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDU2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgMTsgaSA8IG5ld0luZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgbGVmdCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMyB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDUgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA2IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDMyICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDU2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gMTsgaSA+IG5ld0luZGV4OyBpIC09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNyB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE0XG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDIxIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMjggXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDM1IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDIgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQ5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gNzsgaSA+IG5ld0luZGV4OyBpIC09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gNyAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDE1ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDIzICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMzEgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMzkgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSA0NyAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA1NSAmJiBuZXdJbmRleCA8IGkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgdXAgYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE4XG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI3IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMzYgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQ1IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNTQgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gOTsgaSA+IG5ld0luZGV4OyBpIC09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDI0ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMzIgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDAgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSA0OCAmJiBuZXdJbmRleCA8IGkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gOSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDE4XG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDI3IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMzYgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ1IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNTQgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgOTsgaSA8IG5ld0luZGV4OyBpICs9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gMTUgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAyMyAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAzMSAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDM5ICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQ3ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gNTUgJiYgbmV3SW5kZXggPiBpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA3IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTRcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjEgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyOCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMzUgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0MiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyA3OyBpIDwgbmV3SW5kZXg7IGkgKz0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSA4ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMTYgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0MCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDQ4ICYmIG5ld0luZGV4ID4gaSkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHVwd2FyZHNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gODsgaSA+PSAwOyBpIC09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93bndhcmRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDg7IGkgPD0gNjM7IGkgKz0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayByaWdodFxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDI0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgMzI7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA0MDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDQ4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgNTY7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gODsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAxNjsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAyNDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAzMjsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA0MDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA0ODsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA1NjsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDc7IGkgPj0gMDsgaSAtPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IDcgfHwgaSA9PSAxNSB8fCBpID09IDIzIHx8IGkgPT0gMzEgfHwgaSA9PSAzOSB8fCBpID09IDQ3IHx8IGkgPT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXAgYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDk7IGkgPj0gMDsgaSAtPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IDAgfHwgaSA9PSA4IHx8IGkgPT0gMTYgfHwgaSA9PSAyNCB8fCBpID09IDMyIHx8IGkgPT0gNDAgfHwgaSA9PSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3duIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgOTsgaSA8PSA2MzsgaSArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID09IDE1IHx8IGkgPT0gMjMgfHwgaSA9PSAzMSB8fCBpID09IDM5IHx8IGkgPT0gNDcgfHwgaSA9PSA1NSB8fCBpID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd24gYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDc7IGkgPD0gNjM7IGkgKz0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSA4IHx8IGkgPT0gMTYgfHwgaSA9PSAyNCB8fCBpID09IDMyIHx8IGkgPT0gNDAgfHwgaSA9PSA0OCB8fCBpID09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZS5jb2xvciA9PSBcIkJcIikge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyB1cCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDggfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxNlxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyNCB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDMyIFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0MCB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQ4IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA1Nikge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gODsgaSA+IG5ld0luZGV4OyBpIC09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA4IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTZcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjQgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAzMiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0OCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyA4OyBpIDwgbmV3SW5kZXg7IGkgKz0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgcmlnaHQgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDEgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDMgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA1IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDE2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA1NiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDE7IGkgPCBuZXdJbmRleDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIGxlZnQgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDEgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDMgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA1IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDE2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA1NiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDE7IGkgPiBuZXdJbmRleDsgaSAtPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyB1cCBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDcgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxNFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyMSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI4IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAzNSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQyIFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0OSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDc7IGkgPiBuZXdJbmRleDsgaSAtPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDcgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAxNSAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAyMyAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDMxICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDM5ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDcgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNTUgJiYgbmV3SW5kZXggPCBpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDkgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxOFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyNyB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDM2IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0NSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDU0IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDk7IGkgPiBuZXdJbmRleDsgaSAtPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDggJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAxNiAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAyNCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDMyICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQwICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDggJiYgbmV3SW5kZXggPCBpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDkgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxOFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyNyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDM2IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0NSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDU0IFxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDk7IGkgPCBuZXdJbmRleDsgaSArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDE1ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMjMgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMzEgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAzOSAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0NyAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDU1ICYmIG5ld0luZGV4ID4gaSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDE0XG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDIxIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjggXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDM1IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDIgXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgNzsgaSA8IG5ld0luZGV4OyBpICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDI0ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMzIgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDAgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSA0OCAmJiBuZXdJbmRleCA+IGkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cHdhcmRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDg7IGkgPj0gMDsgaSAtPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd253YXJkc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyA4OyBpIDw9IDYzOyBpICs9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDMyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgNDA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA0ODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDU2OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZFtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgNjQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgbGVmdFxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDg7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMTY7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMjQ7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMzI7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gNDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gNDg7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gNTY7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXAgYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSA3OyBpID49IDA7IGkgLT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSA3IHx8IGkgPT0gMTUgfHwgaSA9PSAyMyB8fCBpID09IDMxIHx8IGkgPT0gMzkgfHwgaSA9PSA0NyB8fCBpID09IDU1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHVwIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSA5OyBpID49IDA7IGkgLT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwIHx8IGkgPT0gOCB8fCBpID09IDE2IHx8IGkgPT0gMjQgfHwgaSA9PSAzMiB8fCBpID09IDQwIHx8IGkgPT0gNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93biBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDk7IGkgPD0gNjM7IGkgKz0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAxNSB8fCBpID09IDIzIHx8IGkgPT0gMzEgfHwgaSA9PSAzOSB8fCBpID09IDQ3IHx8IGkgPT0gNTUgfHwgaSA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3duIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyA3OyBpIDw9IDYzOyBpICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkW2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZFtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gOCB8fCBpID09IDE2IHx8IGkgPT0gMjQgfHwgaSA9PSAzMiB8fCBpID09IDQwIHx8IGkgPT0gNDggfHwgaSA9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChwaWVjZS5uYW1lID09IFwiS1wiKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT0gXCJXXCIpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgdXAgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA4KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSA4OyBpID4gbmV3SW5kZXg7IGkgLT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqICsgOCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgODsgaSA8IG5ld0luZGV4OyBpICs9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gOCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqIC0gOCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyByaWdodCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDE2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA1NiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDE7IGkgPCBuZXdJbmRleDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRUb0VuZW15S2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChqID49IDAgJiYgaiA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKGogPj0gOCAmJiBqIDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChqID49IDE2ICYmIGogPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKGogPj0gMjQgJiYgaiA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAoaiA+PSAzMiAmJiBqIDwgNDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChqID49IDQwICYmIGogPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKGogPj0gNDggJiYgaiA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAoaiA+PSA1NiAmJiBqIDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IGogLSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRvRW5lbXlLaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUb0VuZW15S2luZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIGxlZnQgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgOCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDggJiYgcGllY2VDdXJyZW50SW5kZXggPCAxNikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDI0ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQ4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSAxOyBpID4gbmV3SW5kZXg7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNjQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKGogPj0gMCAmJiBqIDwgOCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAoaiA+PSA4ICYmIGogPCAxNikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKGogPj0gMTYgJiYgaiA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAoaiA+PSAyNCAmJiBqIDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChqID49IDMyICYmIGogPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKGogPj0gNDAgJiYgaiA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAoaiA+PSA0OCAmJiBqIDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChqID49IDU2ICYmIGogPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaiArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VG9FbmVteUtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRvRW5lbXlLaW5nID09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgdXAgYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA3KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gNzsgaSA+IG5ld0luZGV4OyBpIC09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gNyAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDE1ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDIzICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMzEgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMzkgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSA0NyAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA1NSAmJiBuZXdJbmRleCA8IGkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0VG9FbmVteUtpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCAhPSA3IHx8IG5ld0luZGV4ICE9IDE1IHx8IG5ld0luZGV4ICE9IDIzIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4ICE9IDMxIHx8IG5ld0luZGV4ICE9IDM5IHx8IG5ld0luZGV4ICE9IDQ3XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggIT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IGogKyA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VG9FbmVteUtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUb0VuZW15S2luZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSA5OyBpID4gbmV3SW5kZXg7IGkgLT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSA4ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMTYgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0MCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDQ4ICYmIG5ld0luZGV4IDwgaSkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0VG9FbmVteUtpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCAhPSA4IHx8IG5ld0luZGV4ICE9IDE2IHx8IG5ld0luZGV4ICE9IDI0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4ICE9IDMyIHx8IG5ld0luZGV4ICE9IDQwIHx8IG5ld0luZGV4ICE9IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqICsgOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRvRW5lbXlLaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VG9FbmVteUtpbmcgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyA5OyBpIDwgbmV3SW5kZXg7IGkgKz0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSAxNSAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDIzICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDMxICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMzkgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDcgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSA1NSAmJiBuZXdJbmRleCA+IGkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0VG9FbmVteUtpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCAhPSAxNSB8fCBuZXdJbmRleCAhPSAyMyB8fCBuZXdJbmRleCAhPSAzMSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAhPSAzOSB8fCBuZXdJbmRleCAhPSA0NyB8fCBuZXdJbmRleCAhPSA1NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaiAtIDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUb0VuZW15S2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRvRW5lbXlLaW5nID09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyA3OyBpIDwgbmV3SW5kZXg7IGkgKz0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZFtpXSAhPSBcInx8fFwiKSAmJiBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSA4ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMTYgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0MCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDQ4ICYmIG5ld0luZGV4ID4gaSkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0VG9FbmVteUtpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCAhPSA4IHx8IG5ld0luZGV4ICE9IDE2IHx8IG5ld0luZGV4ICE9IDI0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4ICE9IDMyIHx8IG5ld0luZGV4ICE9IDQwIHx8IG5ld0luZGV4ICE9IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqIC0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRvRW5lbXlLaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VG9FbmVteUtpbmcgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlLmNvbG9yID09IFwiQlwiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gODsgaSA+IG5ld0luZGV4OyBpIC09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaiArIDgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDg7IGkgPCBuZXdJbmRleDsgaSArPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaiAtIDgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgcmlnaHQgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgOCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDggJiYgcGllY2VDdXJyZW50SW5kZXggPCAxNikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDI0ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQ4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyAxOyBpIDwgbmV3SW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZFtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0VG9FbmVteUtpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAoaiA+PSAwICYmIGogPCA4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChqID49IDggJiYgaiA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAoaiA+PSAxNiAmJiBqIDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChqID49IDI0ICYmIGogPCAzMikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKGogPj0gMzIgJiYgaiA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAoaiA+PSA0MCAmJiBqIDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChqID49IDQ4ICYmIGogPCA1NikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKGogPj0gNTYgJiYgaiA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUb0VuZW15S2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VG9FbmVteUtpbmcgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyBsZWZ0IGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDMyICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDU2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gMTsgaSA+IG5ld0luZGV4OyBpIC09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkW25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkW25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRUb0VuZW15S2luZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChqID49IDAgJiYgaiA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKGogPj0gOCAmJiBqIDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChqID49IDE2ICYmIGogPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKGogPj0gMjQgJiYgaiA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAoaiA+PSAzMiAmJiBqIDwgNDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChqID49IDQwICYmIGogPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKGogPj0gNDggJiYgaiA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAoaiA+PSA1NiAmJiBqIDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IGogKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRvRW5lbXlLaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUb0VuZW15S2luZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDc7IGkgPiBuZXdJbmRleDsgaSAtPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkW2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDcgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAxNSAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAyMyAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDMxICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDM5ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDcgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNTUgJiYgbmV3SW5kZXggPCBpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggIT0gNyB8fCBuZXdJbmRleCAhPSAxNSB8fCBuZXdJbmRleCAhPSAyMyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAhPSAzMSB8fCBuZXdJbmRleCAhPSAzOSB8fCBuZXdJbmRleCAhPSA0N1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4ICE9IDU1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqICsgNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRvRW5lbXlLaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VG9FbmVteUtpbmcgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmN1cnJlbnRUdXJuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyB1cCBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gOTsgaSA+IG5ld0luZGV4OyBpIC09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDI0ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMzIgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDAgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSA0OCAmJiBuZXdJbmRleCA8IGkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggIT0gOCB8fCBuZXdJbmRleCAhPSAxNiB8fCBuZXdJbmRleCAhPSAyNCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAhPSAzMiB8fCBuZXdJbmRleCAhPSA0MCB8fCBuZXdJbmRleCAhPSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaiArIDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUb0VuZW15S2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRvRW5lbXlLaW5nID09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgICBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgOTsgaSA8IG5ld0luZGV4OyBpICs9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gMTUgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAyMyAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAzMSAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDM5ICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQ3ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gNTUgJiYgbmV3SW5kZXggPiBpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggIT0gMTUgfHwgbmV3SW5kZXggIT0gMjMgfHwgbmV3SW5kZXggIT0gMzEgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggIT0gMzkgfHwgbmV3SW5kZXggIT0gNDcgfHwgbmV3SW5kZXggIT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IGogLSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VG9FbmVteUtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUb0VuZW15S2luZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZFtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuY3VycmVudFR1cm4gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgNzsgaSA8IG5ld0luZGV4OyBpICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDI0ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMzIgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDAgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSA0OCAmJiBuZXdJbmRleCA+IGkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZFtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggIT0gOCB8fCBuZXdJbmRleCAhPSAxNiB8fCBuZXdJbmRleCAhPSAyNCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAhPSAzMiB8fCBuZXdJbmRleCAhPSA0MCB8fCBuZXdJbmRleCAhPSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaiAtIDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUb0VuZW15S2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRvRW5lbXlLaW5nID09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkW25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5jdXJyZW50VHVybiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICAgXG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9jb25zb2xlLmxvZyhncmlkKTtcbiAgICB9XG5cbiAgICAvKiAgQ29weSBvZiBncmlkIGlzIGNyZWF0ZWQgYW5kIHBsYXllcidzIG1vdmUgaXMgYXBwbGllZCB0byB0aGUgY29weSBvZiBncmlkLlxuICAgICAgICBDaGVjayBpZiBhbnkgb2YgdGhlIGVuZW15J3MgcGllY2VzIHB1dHMgdGhlIHBsYXllcidzIGtpbmcgaW4gY2hlY2sgYWZ0ZXIgdGhlIG1vdmUuXG4gICAgICAgIFJldHVybiB0cnVlIGlmIGluIGNoZWNrXG4gICAgKi9cbiAgICBjaGVja0lmS2luZ0lzSW5DaGVjayhncmlkLCBwaWVjZSwgbmV3SW5kZXgsIHBsYXllcikge1xuICAgICAgICBsZXQgZ3JpZENvcHkgPSBbLi4uZ3JpZF07XG5cbiAgICAgICAgbGV0IHBpZWNlTnVtID0gcGllY2UubnVtO1xuXG4gICAgICAgIGlmIChwaWVjZU51bSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBpZWNlTnVtID0gXCJcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBwaWVjZVN0cmluZyA9IHBpZWNlLmNvbG9yICsgcGllY2UubmFtZSArIHBpZWNlTnVtO1xuICAgICAgICBsZXQgcGllY2VDdXJyZW50SW5kZXggPSBncmlkQ29weS5pbmRleE9mKHBpZWNlU3RyaW5nKTtcblxuICAgICAgICBpZiAocGllY2UubmFtZSA9PSBcIlBcIikge1xuICAgICAgICAgICAgaWYgKHBpZWNlLmNvbG9yID09IFwiV1wiKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIDEgc3BhY2UgZm9yd2FyZCBcbiAgICAgICAgICAgICAgICBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0gIT0gXCJ8fHxcIikge1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qcGllY2UuZmlyc3RUdXJuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc01vdmVkID0gdHJ1ZTsqL1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIDIgc3BhY2VzIGZvcndhcmQgb25seSBkdXJpbmcgZmlyc3QgdHVyblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE2KSAmJiBwaWVjZS5maXJzdFR1cm4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdICE9IFwifHx8XCIpIHtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbbmV3SW5kZXggKyA4XSAhPSBcInx8fFwiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgLypwaWVjZS5maXJzdFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9IHRydWU7Ki9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENhcHR1cmluZyBwaWVjZSBkaWFnb25hbGx5IGluIGZyb250IG9mIGl0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA5IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5QYXNzYW50ID09IHRydWUgJiYgZ3JpZENvcHlbbmV3SW5kZXggLSA4XSAhPSBcIkJLXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDMyICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDU2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNjQpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleCArIDhdID0gXCJ8fHxcIjsgLy8gQ2FwdHVyZSBlbmVteSBwYXduXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyp0aGlzLmVuUGFzc2FudCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZW5QYXNzYW50IGJ5IHdoaXRlIHBhd25cIik7Ki8gICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtuZXdJbmRleF0gPT0gXCJ8fHxcIiB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgY2FwdHVyZSBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDI0ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQ4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCA2NCkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8qdGhpcy5oYXNNb3ZlZCA9IHRydWU7Ki9cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkgcGF3biBjYW4gZW4gcGFzc2FudC4gTWFrZXMgc3VyZSB0aGUgcGxheWVyIHBhd24gaGFzIG1vdmVkIChhYm92ZSBvY2N1cnJlZClcbiAgICAgICAgICAgICAgICAvKmlmIChncmlkQ29weVtuZXdJbmRleCAtIDFdLnN0YXJ0c1dpdGgoXCJCUFwiKSAmJiB0aGlzLmhhc01vdmVkID09IHRydWUgJiYgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmVuUGFzc2FudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBXaGl0ZSBwYXduICR7Z3JpZENvcHlbbmV3SW5kZXhdfSBoYXMgYmxhY2sgcGF3biAke2dyaWRDb3B5W25ld0luZGV4IC0gMV19IHRvIHRoZSBsZWZ0YCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbbmV3SW5kZXggKyAxXS5zdGFydHNXaXRoKFwiQlBcIikgJiYgdGhpcy5oYXNNb3ZlZCA9PSB0cnVlICYmIHRoaXMuY29tcGxldGVkVHdvU3F1YXJlc01vdmUgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5lblBhc3NhbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgV2hpdGUgcGF3biAke2dyaWRDb3B5W25ld0luZGV4XX0gaGFzIGJsYWNrIHBhd24gJHtncmlkQ29weVtuZXdJbmRleCArIDFdfSB0byB0aGUgcmlnaHRgKTtcbiAgICAgICAgICAgICAgICB9ICovXG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrXG4gICAgICAgICAgICAgICAgLyppZiAoKChuZXdJbmRleCAtIDcgPj0gMCAmJiBuZXdJbmRleCAtIDcgPCA4KSAmJiAobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gNyA+PSA4ICYmIG5ld0luZGV4IC0gNyA8IDE2KSAmJiAobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCAtIDcgPj0gMTYgJiYgbmV3SW5kZXggLSA3IDwgMjQpICYmIChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gNyA+PSAyNCAmJiBuZXdJbmRleCAtIDcgPCAzMikgJiYgKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggLSA3ID49IDMyICYmIG5ld0luZGV4IC0gNyA8IDQwKSAmJiAobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCAtIDcgPj0gNDAgJiYgbmV3SW5kZXggLSA3IDwgNDgpICYmIChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gNyA+PSA0OCAmJiBuZXdJbmRleCAtIDcgPCA1NikgJiYgKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggLSA3XS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKChuZXdJbmRleCAtIDkgPj0gMCAmJiBuZXdJbmRleCAtIDkgPCA4KSAmJiAobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gOSA+PSA4ICYmIG5ld0luZGV4IC0gOSA8IDE2KSAmJiAobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCAtIDkgPj0gMTYgJiYgbmV3SW5kZXggLSA5IDwgMjQpICYmIChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gOSA+PSAyNCAmJiBuZXdJbmRleCAtIDkgPCAzMikgJiYgKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggLSA5ID49IDMyICYmIG5ld0luZGV4IC0gOSA8IDQwKSAmJiAobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCAtIDkgPj0gNDAgJiYgbmV3SW5kZXggLSA5IDwgNDgpICYmIChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4IC0gOSA+PSA0OCAmJiBuZXdJbmRleCAtIDkgPCA1NikgJiYgKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggLSA5XS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAqL1xuXG4gICAgICAgICAgICAgICAgLyppZiAobmV3SW5kZXggPT0gMCB8fCBuZXdJbmRleCA9PSAxIHx8IG5ld0luZGV4ID09IDIgfHwgbmV3SW5kZXggPT0gMyB8fCBuZXdJbmRleCA9PSA0IHx8IG5ld0luZGV4ID09IDUgfHwgbmV3SW5kZXggPT0gNiB8fCBuZXdJbmRleCA9PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIHBpZWNlLm5hbWUgPSBcIlFcIlxuICAgICAgICAgICAgICAgICAgICBwaWVjZS5udW0gPSB0aGlzLm51bU9mV2hpdGVRdWVlbnNbMF07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubnVtT2ZXaGl0ZVF1ZWVucy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBcIldcIiArIHBpZWNlLm5hbWUgKyBwaWVjZS5udW07XG4gICAgICAgICAgICAgICAgfSAqL1xuXG4gICAgICAgICAgICAgICAgLyp0aGlzLmhhc01vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9IGZhbHNlOyAqL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChwaWVjZS5jb2xvciA9PSBcIkJcIikge1xuICAgICAgICAgICAgICAgIC8vIE1vdmluZyAxIG9yIDIgc3BhY2VzIGZvcndhcmQgXG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gOCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdICE9IFwifHx8XCIpIHtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKnBpZWNlLmZpcnN0VHVybiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNNb3ZlZCA9IHRydWU7Ki9cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDE2KSAmJiBwaWVjZS5maXJzdFR1cm4gPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdICE9IFwifHx8XCIpIHtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbbmV3SW5kZXggLSA4XSAhPSBcInx8fFwiKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgLypwaWVjZS5maXJzdFR1cm4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzTW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9IHRydWUqL1xuICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDYXB0dXJpbmcgcGllY2UgZGlhZ29uYWxseSBpbiBmcm9udCBvZiBpdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gOSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZW5QYXNzYW50ID09IHRydWUgJiYgZ3JpZENvcHlbbmV3SW5kZXggLSA4XSAhPSBcIldLXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDggJiYgcGllY2VDdXJyZW50SW5kZXggPCAxNikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDI0ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQ4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNTYpKSkgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4IC0gOF0gPSBcInx8fFwiOyAvLyBDYXB0dXJlIGVuZW15IHBhd25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKnRoaXMuZW5QYXNzYW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNNb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlblBhc3NhbnQgYnkgYmxhY2sgcGF3blwiKTsqL1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdID09IFwifHx8XCIgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGNhcHR1cmUga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDE2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpKSB7ICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKnRoaXMuaGFzTW92ZWQgPSB0cnVlOyovXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIHtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IHBhd24gY2FuIGVuIHBhc3NhbnQuIE1ha2VzIHN1cmUgdGhlIHBsYXllciBwYXduIGhhcyBtb3ZlZCAoYWJvdmUgb2NjdXJyZWQpXG4gICAgICAgICAgICAgICAgLyppZiAoZ3JpZENvcHlbbmV3SW5kZXggLSAxXS5zdGFydHNXaXRoKFwiV1BcIikgJiYgdGhpcy5oYXNNb3ZlZCA9PSB0cnVlICYmIHRoaXMuY29tcGxldGVkVHdvU3F1YXJlc01vdmUgPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5lblBhc3NhbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgQmxhY2sgcGF3biAke2dyaWRDb3B5W25ld0luZGV4XX0gaGFzIHdoaXRlIHBhd24gJHtncmlkQ29weVtuZXdJbmRleCAtIDFdfSB0byB0aGUgbGVmdGApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W25ld0luZGV4ICsgMV0uc3RhcnRzV2l0aChcIldQXCIpICYmIHRoaXMuaGFzTW92ZWQgPT0gdHJ1ZSAmJiB0aGlzLmNvbXBsZXRlZFR3b1NxdWFyZXNNb3ZlID09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuZW5QYXNzYW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYEJsYWNrIHBhd24gJHtncmlkQ29weVtuZXdJbmRleF19IGhhcyB3aGl0ZSBwYXduICR7Z3JpZENvcHlbbmV3SW5kZXggKyAxXX0gdG8gdGhlIHJpZ2h0YCk7XG4gICAgICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrXG4gICAgICAgICAgICAgICAgLyppZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKG5ld0luZGV4ICsgNyA+PSA4ICYmIG5ld0luZGV4ICsgNyA8IDE2KSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKG5ld0luZGV4ICsgNyA+PSAxNiAmJiBuZXdJbmRleCArIDcgPCAyNCkpXG4gICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAobmV3SW5kZXggKyA3ID49IDI0ICYmIG5ld0luZGV4ICsgNyA8IDMyKSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChuZXdJbmRleCArIDcgPj0gMzIgJiYgbmV3SW5kZXggKyA3IDwgNDApKVxuICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKG5ld0luZGV4ICsgNyA+PSA0MCAmJiBuZXdJbmRleCArIDcgPCA0OCkpXG4gICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAobmV3SW5kZXggKyA3ID49IDQ4ICYmIG5ld0luZGV4ICsgNyA8IDU2KSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChuZXdJbmRleCArIDcgPj0gNTYgJiYgbmV3SW5kZXggKyA3IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggKyA3XS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKG5ld0luZGV4ICsgOSA+PSA4ICYmIG5ld0luZGV4ICsgOSA8IDE2KSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKG5ld0luZGV4ICsgOSA+PSAxNiAmJiBuZXdJbmRleCArIDkgPCAyNCkpXG4gICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAobmV3SW5kZXggKyA5ID49IDI0ICYmIG5ld0luZGV4ICsgOSA8IDMyKSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChuZXdJbmRleCArIDkgPj0gMzIgJiYgbmV3SW5kZXggKyA5IDwgNDApKVxuICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKG5ld0luZGV4ICsgOSA+PSA0MCAmJiBuZXdJbmRleCArIDkgPCA0OCkpXG4gICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAobmV3SW5kZXggKyA5ID49IDQ4ICYmIG5ld0luZGV4ICsgOSA8IDU2KSlcbiAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChuZXdJbmRleCArIDkgPj0gNTYgJiYgbmV3SW5kZXggKyA5IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggKyA5XS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSovXG5cblxuICAgICAgICAgICAgICAgIC8qaWYgKG5ld0luZGV4ID09IDAgfHwgbmV3SW5kZXggPT0gMSB8fCBuZXdJbmRleCA9PSAyIHx8IG5ld0luZGV4ID09IDMgfHwgbmV3SW5kZXggPT0gNCB8fCBuZXdJbmRleCA9PSA1IHx8IG5ld0luZGV4ID09IDYgfHwgbmV3SW5kZXggPT0gNykge1xuICAgICAgICAgICAgICAgICAgICBwaWVjZS5uYW1lID0gXCJRXCJcbiAgICAgICAgICAgICAgICAgICAgcGllY2UubnVtID0gdGhpcy5udW1PZkJsYWNrUXVlZW5zWzBdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm51bU9mQmxhY2tRdWVlbnMuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gXCJCXCIgKyBwaWVjZS5uYW1lICsgcGllY2UubnVtO1xuICAgICAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAgICAgLyp0aGlzLmhhc01vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZWRUd29TcXVhcmVzTW92ZSA9IGZhbHNlOyovXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChwaWVjZS5uYW1lID09IFwiUlwiKSB7XG5cbiAgICAgICAgICAgIGlmIChwaWVjZS5jb2xvciA9PSBcIldcIikge1xuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA4IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMTZcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyNCB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDMyIFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQwIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDggXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNTYpIHtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSA4OyBpID4gbmV3SW5kZXg7IGkgLT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gOCB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDE2XG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjQgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAzMiBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0MCB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ4IFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgODsgaSA8IG5ld0luZGV4OyBpICs9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gOCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHJpZ2h0IGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDEgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQgXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDYgXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNykge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDggJiYgcGllY2VDdXJyZW50SW5kZXggPCAxNikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDE2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyAxOyBpIDwgbmV3SW5kZXg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyBsZWZ0IGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDEgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMyB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDYgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgOCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDI0ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQ4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA1NiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDE7IGkgPiBuZXdJbmRleDsgaSAtPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXB3YXJkc1xuICAgICAgICAgICAgICAgIC8qZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gODsgaSA+PSAwOyBpIC09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3dud2FyZHNcbiAgICAgICAgICAgICAgICAvKmZvciAobGV0IGkgPSBuZXdJbmRleCArIDg7IGkgPD0gNjM7IGkgKz0gOCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHJpZ2h0XG4gICAgICAgICAgICAgICAgLyppZiAobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCAzMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA0MDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA0ODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA1NjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGxlZnRcbiAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDg7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDE2OyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAyNDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMzI7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDQwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA0ODsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gNTY7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSovXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlLmNvbG9yID09IFwiQlwiKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgdXAgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDggfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxNlxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI0IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMzIgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0OCBcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA1Nikge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDg7IGkgPiBuZXdJbmRleDsgaSAtPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA4IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTZcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyNCB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDMyIFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQwIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDggXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDg7IGkgPCBuZXdJbmRleDsgaSArPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgcmlnaHQgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDJcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAzIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNCBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA1IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNiBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA3KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgOCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDI0ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQ4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA1NiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDE7IGkgPCBuZXdJbmRleDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyBsZWZ0IGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDEgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMyB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDYgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgOCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDI0ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQ4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA1NiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDE7IGkgPiBuZXdJbmRleDsgaSAtPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cHdhcmRzXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gODsgaSA+PSAwOyBpIC09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93bndhcmRzXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgODsgaSA8PSA2MzsgaSArPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHJpZ2h0XG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgMTY7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgMjQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgMzI7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgNDA7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgNDg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1Nikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgNTY7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgNjQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBsZWZ0XG4gICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA4OyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAxNjsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMjQ7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDMyOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA0MDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gNDg7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDU2OyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAocGllY2UubmFtZSA9PSBcIkJcIikge1xuXG4gICAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT0gXCJXXCIpIHtcblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyB1cCBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNyB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE0XG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMjEgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyOCBcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAzNSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQyIFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQ5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gNzsgaSA+IG5ld0luZGV4OyBpIC09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gNyAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDE1ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjMgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAzMSAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDM5ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDcgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA1NSAmJiBuZXdJbmRleCA8IGkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAgICAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyB1cCBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDkgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxOFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI3IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMzYgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDUgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA1NCBcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gOTsgaSA+IG5ld0luZGV4OyBpIC09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQwICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDggJiYgbmV3SW5kZXggPCBpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA5IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMThcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyNyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDM2IFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ1IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNTQgXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNjMpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDk7IGkgPCBuZXdJbmRleDsgaSArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDE1ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMjMgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAzMSAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDM5ICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDcgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSA1NSAmJiBuZXdJbmRleCA+IGkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAgICAgXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA3IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTRcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyMSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDI4IFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDM1IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDIgXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDkpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDc7IGkgPCBuZXdJbmRleDsgaSArPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDggJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAxNiAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDI0ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMzIgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0MCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDQ4ICYmIG5ld0luZGV4ID4gaSkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gNzsgaSA+PSAwOyBpIC09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IDcgfHwgaSA9PSAxNSB8fCBpID09IDIzIHx8IGkgPT0gMzEgfHwgaSA9PSAzOSB8fCBpID09IDQ3IHx8IGkgPT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSA5OyBpID49IDA7IGkgLT0gOSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCB8fCBpID09IDggfHwgaSA9PSAxNiB8fCBpID09IDI0IHx8IGkgPT0gMzIgfHwgaSA9PSA0MCB8fCBpID09IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93biBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgOTsgaSA8PSA2MzsgaSArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAxNSB8fCBpID09IDIzIHx8IGkgPT0gMzEgfHwgaSA9PSAzOSB8fCBpID09IDQ3IHx8IGkgPT0gNTUgfHwgaSA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd24gYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgNzsgaSA8PSA2MzsgaSArPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSA4IHx8IGkgPT0gMTYgfHwgaSA9PSAyNCB8fCBpID09IDMyIHx8IGkgPT0gNDAgfHwgaSA9PSA0OCB8fCBpID09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbHNlIGlmIChwaWVjZS5jb2xvciA9PSBcIkJcIikge1xuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA3IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMTRcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyMSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI4IFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDM1IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDIgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDkpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDc7IGkgPiBuZXdJbmRleDsgaSAtPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDcgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAxNSAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDIzICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMzEgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAzOSAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDQ3ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNTUgJiYgbmV3SW5kZXggPCBpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgdXAgYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA5IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMThcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyNyB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDM2IFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQ1IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNTQgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNjMpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDk7IGkgPiBuZXdJbmRleDsgaSAtPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDggJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAxNiAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDI0ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMzIgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0MCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDQ4ICYmIG5ld0luZGV4IDwgaSkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA5IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMThcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyNyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDM2IFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ1IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNTQgXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNjMpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDk7IGkgPCBuZXdJbmRleDsgaSArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDE1ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMjMgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAzMSAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDM5ICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDcgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSA1NSAmJiBuZXdJbmRleCA+IGkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDE0XG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjEgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyOCBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAzNSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQyIFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ5KSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyA3OyBpIDwgbmV3SW5kZXg7IGkgKz0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSA4ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMTYgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAyNCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDMyICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDAgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSA0OCAmJiBuZXdJbmRleCA+IGkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gNzsgaSA+PSAwOyBpIC09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IDcgfHwgaSA9PSAxNSB8fCBpID09IDIzIHx8IGkgPT0gMzEgfHwgaSA9PSAzOSB8fCBpID09IDQ3IHx8IGkgPT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSA5OyBpID49IDA7IGkgLT0gOSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCB8fCBpID09IDggfHwgaSA9PSAxNiB8fCBpID09IDI0IHx8IGkgPT0gMzIgfHwgaSA9PSA0MCB8fCBpID09IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93biBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgOTsgaSA8PSA2MzsgaSArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAxNSB8fCBpID09IDIzIHx8IGkgPT0gMzEgfHwgaSA9PSAzOSB8fCBpID09IDQ3IHx8IGkgPT0gNTUgfHwgaSA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd24gYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgNzsgaSA8PSA2MzsgaSArPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSA4IHx8IGkgPT0gMTYgfHwgaSA9PSAyNCB8fCBpID09IDMyIHx8IGkgPT0gNDAgfHwgaSA9PSA0OCB8fCBpID09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0qL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAocGllY2UubmFtZSA9PSBcIk5cIikge1xuXG4gICAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT0gXCJXXCIpIHtcblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyAyIHNxdWFyZXMgdXAgYW5kIDEgc3F1YXJlIHJpZ2h0XG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMTUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyAxIHNxdWFyZSB1cCBhbmQgMiBzcXVhcmVzIHJpZ2h0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgMiBzcXVhcmVzIHVwIGFuZCAxIHNxdWFyZSBsZWZ0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIDEgc3F1YXJlIHVwIGFuZCAyIHNxdWFyZXMgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyAyIHNxdWFyZXMgZG93biBhbmQgMSBzcXVhcmUgcmlnaHRcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDE3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgMSBzcXVhcmUgZG93biBhbmQgMiBzcXVhcmVzIHJpZ2h0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIDIgc3F1YXJlcyBkb3duIGFuZCAxIHNxdWFyZSBsZWZ0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxNSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIDEgc3F1YXJlIGRvd24gYW5kIDIgc3F1YXJlcyBsZWZ0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA2KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2tcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggLSAxNV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleCAtIDE1XS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbbmV3SW5kZXggLSA2XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4IC0gNl0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W25ld0luZGV4IC0gMTddICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggLSAxN10uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W25ld0luZGV4IC0gMTBdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggLSAxMF0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W25ld0luZGV4ICsgMTddICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggKyAxN10uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W25ld0luZGV4ICsgMTBdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggKyAxMF0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W25ld0luZGV4ICsgNl0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleCArIDZdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtuZXdJbmRleCArIDE1XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4ICsgMTVdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICovXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlLmNvbG9yID09IFwiQlwiKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgMiBzcXVhcmVzIHVwIGFuZCAxIHNxdWFyZSByaWdodFxuICAgICAgICAgICAgICAgIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE1KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgMSBzcXVhcmUgdXAgYW5kIDIgc3F1YXJlcyByaWdodFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIDIgc3F1YXJlcyB1cCBhbmQgMSBzcXVhcmUgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMTcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyAxIHNxdWFyZSB1cCBhbmQgMiBzcXVhcmVzIGxlZnRcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgMiBzcXVhcmVzIGRvd24gYW5kIDEgc3F1YXJlIHJpZ2h0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIDEgc3F1YXJlIGRvd24gYW5kIDIgc3F1YXJlcyByaWdodFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyAyIHNxdWFyZXMgZG93biBhbmQgMSBzcXVhcmUgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyAxIHNxdWFyZSBkb3duIGFuZCAyIHNxdWFyZXMgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrXG4gICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4IC0gMTVdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggLSAxNV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W25ld0luZGV4IC0gNl0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleCAtIDZdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtuZXdJbmRleCAtIDE3XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4IC0gMTddLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtuZXdJbmRleCAtIDEwXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4IC0gMTBdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtuZXdJbmRleCArIDE3XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4ICsgMTddLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtuZXdJbmRleCArIDEwXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4ICsgMTBdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtuZXdJbmRleCArIDZdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXggKyA2XS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbbmV3SW5kZXggKyAxNV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleCArIDE1XS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAocGllY2UubmFtZSA9PSBcIlFcIikge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT0gXCJXXCIpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgdXAgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDggfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxNlxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI0IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMzIgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0OCBcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA1Nikge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDg7IGkgPiBuZXdJbmRleDsgaSAtPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA4IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMTZcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyNCB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDMyIFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQwIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDggXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyA4OyBpIDwgbmV3SW5kZXg7IGkgKz0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgcmlnaHQgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDJcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAzIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNCBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA1IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNiBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA3KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgOCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gOCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDI0ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAzMiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQ4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA1NiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDE7IGkgPCBuZXdJbmRleDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSAxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIGxlZnQgYW5kIGNhcHR1cmluZ1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDJcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAzIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNCBcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA1IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNiBcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA4KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDMyICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDU2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gMTsgaSA+IG5ld0luZGV4OyBpIC09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA3IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMTRcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyMSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDI4IFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDM1IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDIgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNDkpIHtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSA3OyBpID4gbmV3SW5kZXg7IGkgLT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSA3ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMTUgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAyMyAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDMxICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMzkgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSA0NyAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDU1ICYmIG5ld0luZGV4IDwgaSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICAgICAgXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE4XG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMjcgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAzNiBcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0NSB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDU0IFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSA5OyBpID4gbmV3SW5kZXg7IGkgLT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ICE9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSA4ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMTYgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAyNCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDMyICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDAgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSA0OCAmJiBuZXdJbmRleCA8IGkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDkgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxOFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDI3IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMzYgXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDUgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA1NCBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgOTsgaSA8IG5ld0luZGV4OyBpICs9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gMTUgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAyMyAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDMxICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMzkgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0NyAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDU1ICYmIG5ld0luZGV4ID4gaSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDcgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxNFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDIxIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjggXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMzUgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0MiBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0OSkge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgNzsgaSA8IG5ld0luZGV4OyBpICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQwICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gNDggJiYgbmV3SW5kZXggPiBpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICAgXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHVwd2FyZHNcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSA4OyBpID49IDA7IGkgLT0gOCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3dud2FyZHNcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyA4OyBpIDw9IDYzOyBpICs9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgcmlnaHRcbiAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCAyNDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCAzMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA0MDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA0ODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA1NjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDE7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGxlZnRcbiAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDg7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDE2OyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAyNDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMzI7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDQwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA0ODsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gNTY7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gNzsgaSA+PSAwOyBpIC09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IDcgfHwgaSA9PSAxNSB8fCBpID09IDIzIHx8IGkgPT0gMzEgfHwgaSA9PSAzOSB8fCBpID09IDQ3IHx8IGkgPT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSA5OyBpID49IDA7IGkgLT0gOSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gMCB8fCBpID09IDggfHwgaSA9PSAxNiB8fCBpID09IDI0IHx8IGkgPT0gMzIgfHwgaSA9PSA0MCB8fCBpID09IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93biBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgOTsgaSA8PSA2MzsgaSArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAxNSB8fCBpID09IDIzIHx8IGkgPT0gMzEgfHwgaSA9PSAzOSB8fCBpID09IDQ3IHx8IGkgPT0gNTUgfHwgaSA9PSA2Mykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd24gYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgNzsgaSA8PSA2MzsgaSArPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSA4IHx8IGkgPT0gMTYgfHwgaSA9PSAyNCB8fCBpID09IDMyIHx8IGkgPT0gNDAgfHwgaSA9PSA0OCB8fCBpID09IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKi9cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAocGllY2UuY29sb3IgPT0gXCJCXCIpIHtcblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyB1cCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOCB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDE2XG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMjQgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAzMiBcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0MCB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQ4IFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDU2KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gODsgaSA+IG5ld0luZGV4OyBpIC09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDggfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxNlxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDI0IHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMzIgXG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNDAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0OCBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCArIDg7IGkgPCBuZXdJbmRleDsgaSArPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyByaWdodCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAxIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMlxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDMgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0IFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDUgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA2IFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDcpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA4KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDMyICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDU2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgMTsgaSA8IG5ld0luZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgbGVmdCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMlxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDMgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0IFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDUgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA2IFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDggJiYgcGllY2VDdXJyZW50SW5kZXggPCAxNikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDE2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSAxOyBpID4gbmV3SW5kZXg7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgdXAgYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDcgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAxNFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDIxIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMjggXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMzUgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0MiBcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA0OSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDc7IGkgPiBuZXdJbmRleDsgaSAtPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDcgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAxNSAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDIzICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMzEgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAzOSAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDQ3ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNTUgJiYgbmV3SW5kZXggPCBpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gICAgICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgdXAgYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA5IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gMThcbiAgICAgICAgICAgICAgICAgICAgfHwgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSAyNyB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDM2IFxuICAgICAgICAgICAgICAgICAgICB8fCBwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDQ1IHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNTQgXG4gICAgICAgICAgICAgICAgICAgIHx8IHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gNjMpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGl0RWRnZSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDk7IGkgPiBuZXdJbmRleDsgaSAtPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChpID09IDggJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAxNiAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDI0ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gMzIgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0MCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDQ4ICYmIG5ld0luZGV4IDwgaSkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAgICAgXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gOSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDE4XG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjcgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAzNiBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA0NSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDU0IFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyA5OyBpIDwgbmV3SW5kZXg7IGkgKz0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSAxNSAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDIzICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMzEgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAzOSAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQ3ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gNTUgJiYgbmV3SW5kZXggPiBpKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNyB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDE0XG4gICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gMjEgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAyOCBcbiAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSAzNSB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQyIFxuICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDQ5KSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhpdEVkZ2UgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggKyA3OyBpIDwgbmV3SW5kZXg7IGkgKz0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChncmlkQ29weVtpXSAhPSBcInx8fFwiKSAmJiBuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSA9PSA4ICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMTYgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSAyNCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDMyICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gNDAgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSA0OCAmJiBuZXdJbmRleCA+IGkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGl0RWRnZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UgJiYgaGl0RWRnZSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gICBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXB3YXJkc1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDg7IGkgPj0gMDsgaSAtPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd253YXJkc1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCArIDg7IGkgPD0gNjM7IGkgKz0gOCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayByaWdodFxuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyAxOyBpIDwgODsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDE2OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDI0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDMyOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDQwOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDQ4OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDU2OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4ICsgMTsgaSA8IDY0OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgbGVmdFxuICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gODsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gMTY7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDI0OyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSAzMjsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDE7IGkgPj0gNDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1Nikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSAxOyBpID49IDQ4OyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IG5ld0luZGV4IC0gMTsgaSA+PSA1NjsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHVwIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggLSA3OyBpID49IDA7IGkgLT0gNykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmVteVBsYXllci5pbkNoZWNrID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gNyB8fCBpID09IDE1IHx8IGkgPT0gMjMgfHwgaSA9PSAzMSB8fCBpID09IDM5IHx8IGkgPT0gNDcgfHwgaSA9PSA1NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHVwIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBuZXdJbmRleCAtIDk7IGkgPj0gMDsgaSAtPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZW15UGxheWVyLmluQ2hlY2sgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA9PSAwIHx8IGkgPT0gOCB8fCBpID09IDE2IHx8IGkgPT0gMjQgfHwgaSA9PSAzMiB8fCBpID09IDQwIHx8IGkgPT0gNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3duIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyA5OyBpIDw9IDYzOyBpICs9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IDE1IHx8IGkgPT0gMjMgfHwgaSA9PSAzMSB8fCBpID09IDM5IHx8IGkgPT0gNDcgfHwgaSA9PSA1NSB8fCBpID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93biBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gbmV3SW5kZXggKyA3OyBpIDw9IDYzOyBpICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtpXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IDggfHwgaSA9PSAxNiB8fCBpID09IDI0IHx8IGkgPT0gMzIgfHwgaSA9PSA0MCB8fCBpID09IDQ4IHx8IGkgPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgZWxzZSBpZiAocGllY2UubmFtZSA9PSBcIktcIikge1xuXG4gICAgICAgICAgICBpZiAocGllY2UuY29sb3IgPT0gXCJXXCIpIHtcblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyB1cCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDg7IGkgPiBuZXdJbmRleDsgaSAtPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiV1wiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJCS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNjQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaiArIDgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgODsgaSA8IG5ld0luZGV4OyBpICs9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gOCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IGogLSA4KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHJpZ2h0IGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA4KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDMyICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDU2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgMTsgaSA8IG5ld0luZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChqID49IDAgJiYgaiA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAoaiA+PSA4ICYmIGogPCAxNikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAoaiA+PSAxNiAmJiBqIDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKGogPj0gMjQgJiYgaiA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChqID49IDMyICYmIGogPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAoaiA+PSA0MCAmJiBqIDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKGogPj0gNDggJiYgaiA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChqID49IDU2ICYmIGogPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRvRW5lbXlLaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VG9FbmVteUtpbmcgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyBsZWZ0IGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDggJiYgcGllY2VDdXJyZW50SW5kZXggPCAxNikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDE2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSAxOyBpID4gbmV3SW5kZXg7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKGogPj0gMCAmJiBqIDwgOCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChqID49IDggJiYgaiA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChqID49IDE2ICYmIGogPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAoaiA+PSAyNCAmJiBqIDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKGogPj0gMzIgJiYgaiA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChqID49IDQwICYmIGogPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAoaiA+PSA0OCAmJiBqIDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKGogPj0gNTYgJiYgaiA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IGogKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VG9FbmVteUtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUb0VuZW15S2luZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA3KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gNzsgaSA+IG5ld0luZGV4OyBpIC09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gNyAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDE1ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjMgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAzMSAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDM5ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDcgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA1NSAmJiBuZXdJbmRleCA8IGkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJXXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIkJLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRUb0VuZW15S2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCAhPSA3IHx8IG5ld0luZGV4ICE9IDE1IHx8IG5ld0luZGV4ICE9IDIzIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggIT0gMzEgfHwgbmV3SW5kZXggIT0gMzkgfHwgbmV3SW5kZXggIT0gNDdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4ICE9IDU1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IGogKyA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUb0VuZW15S2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUb0VuZW15S2luZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICAgICAgXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gOTsgaSA+IG5ld0luZGV4OyBpIC09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQwICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDggJiYgbmV3SW5kZXggPCBpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ICE9IDggfHwgbmV3SW5kZXggIT0gMTYgfHwgbmV3SW5kZXggIT0gMjQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAhPSAzMiB8fCBuZXdJbmRleCAhPSA0MCB8fCBuZXdJbmRleCAhPSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqICsgOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VG9FbmVteUtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VG9FbmVteUtpbmcgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAgICAgXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgOTsgaSA8IG5ld0luZGV4OyBpICs9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gMTUgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAyMyAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDMxICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMzkgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0NyAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDU1ICYmIG5ld0luZGV4ID4gaSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ICE9IDE1IHx8IG5ld0luZGV4ICE9IDIzIHx8IG5ld0luZGV4ICE9IDMxIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggIT0gMzkgfHwgbmV3SW5kZXggIT0gNDcgfHwgbmV3SW5kZXggIT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaiAtIDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRvRW5lbXlLaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRvRW5lbXlLaW5nID09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgNzsgaSA8IG5ld0luZGV4OyBpICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQwICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gNDggJiYgbmV3SW5kZXggPiBpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIldcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiQktcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ICE9IDggfHwgbmV3SW5kZXggIT0gMTYgfHwgbmV3SW5kZXggIT0gMjQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAhPSAzMiB8fCBuZXdJbmRleCAhPSA0MCB8fCBuZXdJbmRleCAhPSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqIC0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VG9FbmVteUtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VG9FbmVteUtpbmcgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWxzZSBpZiAocGllY2UuY29sb3IgPT0gXCJCXCIpIHtcblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyB1cCBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBwaWVjZUN1cnJlbnRJbmRleCAtIDg7IGkgPiBuZXdJbmRleDsgaSAtPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggIT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W25ld0luZGV4XS5zdGFydHNXaXRoKFwiQlwiKSB8fCBncmlkQ29weVtuZXdJbmRleF0gPT0gXCJXS1wiKSB7IC8vIENhbiBub3QgbGFuZCBvbiBzYW1lIGNvbG9yIHBpZWNlcyBhbmQgb3Bwb3Npbmcga2luZ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgNjQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaiArIDgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBNb3ZpbmcgZG93biBhbmQgY2FwdHVyaW5nXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCA9PSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgODsgaSA8IG5ld0luZGV4OyBpICs9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggIT0gOCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RBbGxFbXB0eSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobm90QWxsRW1wdHkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IGogLSA4KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHJpZ2h0IGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ID09IDEpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDAgJiYgcGllY2VDdXJyZW50SW5kZXggPCA4KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA4ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAxNiAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMjQgJiYgcGllY2VDdXJyZW50SW5kZXggPCAzMikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDMyICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDApKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0MCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNDggJiYgcGllY2VDdXJyZW50SW5kZXggPCA1NikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDU2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNjQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbm90QWxsRW1wdHkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgMTsgaSA8IG5ld0luZGV4OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGdyaWRDb3B5W2ldICE9IFwifHx8XCIpICYmIChuZXdJbmRleCAtIHBpZWNlQ3VycmVudEluZGV4ICE9IDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgobmV3SW5kZXggPj0gMCAmJiBuZXdJbmRleCA8IDgpICYmIChqID49IDAgJiYgaiA8IDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gOCAmJiBuZXdJbmRleCA8IDE2KSAmJiAoaiA+PSA4ICYmIGogPCAxNikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAxNiAmJiBuZXdJbmRleCA8IDI0KSAmJiAoaiA+PSAxNiAmJiBqIDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMjQgJiYgbmV3SW5kZXggPCAzMikgJiYgKGogPj0gMjQgJiYgaiA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDMyICYmIG5ld0luZGV4IDwgNDApICYmIChqID49IDMyICYmIGogPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0MCAmJiBuZXdJbmRleCA8IDQ4KSAmJiAoaiA+PSA0MCAmJiBqIDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDggJiYgbmV3SW5kZXggPCA1NikgJiYgKGogPj0gNDggJiYgaiA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDU2ICYmIG5ld0luZGV4IDwgNjQpICYmIChqID49IDU2ICYmIGogPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRvRW5lbXlLaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VG9FbmVteUtpbmcgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyBsZWZ0IGFuZCBjYXB0dXJpbmdcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwaWVjZUN1cnJlbnRJbmRleCAtIG5ld0luZGV4ID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmICgoKG5ld0luZGV4ID49IDAgJiYgbmV3SW5kZXggPCA4KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDggJiYgbmV3SW5kZXggPCAxNikgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDggJiYgcGllY2VDdXJyZW50SW5kZXggPCAxNikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMTYgJiYgbmV3SW5kZXggPCAyNCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDE2ICYmIHBpZWNlQ3VycmVudEluZGV4IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDI0ICYmIG5ld0luZGV4IDwgMzIpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSAyNCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDMyKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAzMiAmJiBuZXdJbmRleCA8IDQwKSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gMzIgJiYgcGllY2VDdXJyZW50SW5kZXggPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNDAgJiYgbmV3SW5kZXggPCA0OCkgJiYgKHBpZWNlQ3VycmVudEluZGV4ID49IDQwICYmIHBpZWNlQ3VycmVudEluZGV4IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQ4ICYmIG5ld0luZGV4IDwgNTYpICYmIChwaWVjZUN1cnJlbnRJbmRleCA+PSA0OCAmJiBwaWVjZUN1cnJlbnRJbmRleCA8IDU2KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA1NiAmJiBuZXdJbmRleCA8IDY0KSAmJiAocGllY2VDdXJyZW50SW5kZXggPj0gNTYgJiYgcGllY2VDdXJyZW50SW5kZXggPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBub3RBbGxFbXB0eSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gcGllY2VDdXJyZW50SW5kZXggLSAxOyBpID4gbmV3SW5kZXg7IGkgLT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdEFsbEVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKChuZXdJbmRleCA+PSAwICYmIG5ld0luZGV4IDwgOCkgJiYgKGogPj0gMCAmJiBqIDwgOCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA4ICYmIG5ld0luZGV4IDwgMTYpICYmIChqID49IDggJiYgaiA8IDE2KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDE2ICYmIG5ld0luZGV4IDwgMjQpICYmIChqID49IDE2ICYmIGogPCAyNCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSAyNCAmJiBuZXdJbmRleCA8IDMyKSAmJiAoaiA+PSAyNCAmJiBqIDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gMzIgJiYgbmV3SW5kZXggPCA0MCkgJiYgKGogPj0gMzIgJiYgaiA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoKG5ld0luZGV4ID49IDQwICYmIG5ld0luZGV4IDwgNDgpICYmIChqID49IDQwICYmIGogPCA0OCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKChuZXdJbmRleCA+PSA0OCAmJiBuZXdJbmRleCA8IDU2KSAmJiAoaiA+PSA0OCAmJiBqIDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8ICgobmV3SW5kZXggPj0gNTYgJiYgbmV3SW5kZXggPCA2NCkgJiYgKGogPj0gNTYgJiYgaiA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IGogKyAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VG9FbmVteUtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUb0VuZW15S2luZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICBpZiAocGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCA9PSA3KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gNzsgaSA+IG5ld0luZGV4OyBpIC09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gNyAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDE1ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjMgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAzMSAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDM5ICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDcgJiYgbmV3SW5kZXggPCBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA1NSAmJiBuZXdJbmRleCA8IGkpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXRFZGdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChub3RBbGxFbXB0eSA9PSBmYWxzZSAmJiBoaXRFZGdlID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbbmV3SW5kZXhdLnN0YXJ0c1dpdGgoXCJCXCIpIHx8IGdyaWRDb3B5W25ld0luZGV4XSA9PSBcIldLXCIpIHsgLy8gQ2FuIG5vdCBsYW5kIG9uIHNhbWUgY29sb3IgcGllY2VzIGFuZCBvcHBvc2luZyBraW5nXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5leHRUb0VuZW15S2luZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCAhPSA3IHx8IG5ld0luZGV4ICE9IDE1IHx8IG5ld0luZGV4ICE9IDIzIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggIT0gMzEgfHwgbmV3SW5kZXggIT0gMzkgfHwgbmV3SW5kZXggIT0gNDdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IG5ld0luZGV4ICE9IDU1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ID09IGogKyA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUb0VuZW15S2luZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRUb0VuZW15S2luZyA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbcGllY2VDdXJyZW50SW5kZXhdID0gXCJ8fHxcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZENvcHlbbmV3SW5kZXhdID0gcGllY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ICAgICAgXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIHVwIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBpZWNlQ3VycmVudEluZGV4IC0gbmV3SW5kZXggPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4IC0gOTsgaSA+IG5ld0luZGV4OyBpIC09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgcGllY2VDdXJyZW50SW5kZXggLSBuZXdJbmRleCAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA8IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4IDwgaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPCBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA8IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQwICYmIG5ld0luZGV4IDwgaSkgfHwgKGkgPT0gNDggJiYgbmV3SW5kZXggPCBpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ICE9IDggfHwgbmV3SW5kZXggIT0gMTYgfHwgbmV3SW5kZXggIT0gMjQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAhPSAzMiB8fCBuZXdJbmRleCAhPSA0MCB8fCBuZXdJbmRleCAhPSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqICsgOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VG9FbmVteUtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VG9FbmVteUtpbmcgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAgICAgXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gTW92aW5nIGRvd24gYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgOTsgaSA8IG5ld0luZGV4OyBpICs9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gMTUgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAyMyAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDMxICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gMzkgJiYgbmV3SW5kZXggPiBpKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA9PSA0NyAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDU1ICYmIG5ld0luZGV4ID4gaSkpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ICE9IDE1IHx8IG5ld0luZGV4ICE9IDIzIHx8IG5ld0luZGV4ICE9IDMxIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgbmV3SW5kZXggIT0gMzkgfHwgbmV3SW5kZXggIT0gNDcgfHwgbmV3SW5kZXggIT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3SW5kZXggPT0gaiAtIDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFRvRW5lbXlLaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dFRvRW5lbXlLaW5nID09IHRydWUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtwaWVjZUN1cnJlbnRJbmRleF0gPSBcInx8fFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkQ29weVtuZXdJbmRleF0gPSBwaWVjZVN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gICAgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIE1vdmluZyBkb3duIGFuZCB0byB0aGUgbGVmdFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5ld0luZGV4IC0gcGllY2VDdXJyZW50SW5kZXggPT0gNykge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgbGV0IG5vdEFsbEVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoaXRFZGdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHBpZWNlQ3VycmVudEluZGV4ICsgNzsgaSA8IG5ld0luZGV4OyBpICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZ3JpZENvcHlbaV0gIT0gXCJ8fHxcIikgJiYgbmV3SW5kZXggLSBwaWVjZUN1cnJlbnRJbmRleCAhPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90QWxsRW1wdHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgPT0gOCAmJiBuZXdJbmRleCA+IGkpIHx8IChpID09IDE2ICYmIG5ld0luZGV4ID4gaSkgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPT0gMjQgJiYgbmV3SW5kZXggPiBpKSB8fCAoaSA9PSAzMiAmJiBuZXdJbmRleCA+IGkpIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID09IDQwICYmIG5ld0luZGV4ID4gaSkgfHwgKGkgPT0gNDggJiYgbmV3SW5kZXggPiBpKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpdEVkZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdEFsbEVtcHR5ID09IGZhbHNlICYmIGhpdEVkZ2UgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtuZXdJbmRleF0uc3RhcnRzV2l0aChcIkJcIikgfHwgZ3JpZENvcHlbbmV3SW5kZXhdID09IFwiV0tcIikgeyAvLyBDYW4gbm90IGxhbmQgb24gc2FtZSBjb2xvciBwaWVjZXMgYW5kIG9wcG9zaW5nIGtpbmdcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dFRvRW5lbXlLaW5nID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0luZGV4ICE9IDggfHwgbmV3SW5kZXggIT0gMTYgfHwgbmV3SW5kZXggIT0gMjQgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBuZXdJbmRleCAhPSAzMiB8fCBuZXdJbmRleCAhPSA0MCB8fCBuZXdJbmRleCAhPSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdJbmRleCA9PSBqIC0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0VG9FbmVteUtpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0VG9FbmVteUtpbmcgPT0gdHJ1ZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W3BpZWNlQ3VycmVudEluZGV4XSA9IFwifHx8XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyaWRDb3B5W25ld0luZGV4XSA9IHBpZWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSAgIFxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGxheWVyID09IFwiV2hpdGVcIikge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCUFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBraW5nIGlzIGluIGNoZWNrXG4gICAgICAgICAgICAgICAgICAgIGlmICgoKGkgPj0gMCAmJiBpIDwgOCkgJiYgKGkgKyA3ID49IDggJiYgaSArIDcgPCAxNikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoaSA+PSA4ICYmIGkgPCAxNikgJiYgKGkgKyA3ID49IDE2ICYmIGkgKyA3IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKGkgPj0gMTYgJiYgaSA8IDI0KSAmJiAoaSArIDcgPj0gMjQgJiYgaSArIDcgPCAzMikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoaSA+PSAyNCAmJiBpIDwgMzIpICYmIChpICsgNyA+PSAzMiAmJiBpICsgNyA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChpID49IDMyICYmIGkgPCA0MCkgJiYgKGkgKyA3ID49IDQwICYmIGkgKyA3IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKGkgPj0gNDAgJiYgaSA8IDQ4KSAmJiAoaSArIDcgPj0gNDggJiYgaSArIDcgPCA1NikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoaSA+PSA0OCAmJiBpIDwgNTYpICYmIChpICsgNyA+PSA1NiAmJiBpICsgNyA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpICsgN10uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICgoKGkgPj0gMCAmJiBpIDwgOCkgJiYgKGkgKyA5ID49IDggJiYgaSArIDkgPCAxNikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoaSA+PSA4ICYmIGkgPCAxNikgJiYgKGkgKyA5ID49IDE2ICYmIGkgKyA5IDwgMjQpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKGkgPj0gMTYgJiYgaSA8IDI0KSAmJiAoaSArIDkgPj0gMjQgJiYgaSArIDkgPCAzMikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoaSA+PSAyNCAmJiBpIDwgMzIpICYmIChpICsgOSA+PSAzMiAmJiBpICsgOSA8IDQwKSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChpID49IDMyICYmIGkgPCA0MCkgJiYgKGkgKyA5ID49IDQwICYmIGkgKyA5IDwgNDgpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKGkgPj0gNDAgJiYgaSA8IDQ4KSAmJiAoaSArIDkgPj0gNDggJiYgaSArIDkgPCA1NikpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoaSA+PSA0OCAmJiBpIDwgNTYpICYmIChpICsgOSA+PSA1NiAmJiBpICsgOSA8IDY0KSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpICsgOV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5lbXlQbGF5ZXIuaW5DaGVjayA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiQlJcIikpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHVwd2FyZHNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSA4OyBqID49IDA7IGogLT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3dud2FyZHNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyA4OyBqIDw9IDYzOyBqICs9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPj0gMCAmJiBpIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgODsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDggJiYgaSA8IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCAxNjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDE2ICYmIGkgPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgMjQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSAyNCAmJiBpIDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IDMyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gMzIgJiYgaSA8IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCA0MDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDQwICYmIGkgPCA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgNDg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA0OCAmJiBpIDwgNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IDU2OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gNTYgJiYgaSA8IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPj0gMCAmJiBpIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA4ICYmIGkgPCAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDg7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSAxNiAmJiBpIDwgMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSAxNjsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDI0ICYmIGkgPCAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDI0OyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gMzIgJiYgaSA8IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDE7IGogPj0gMzI7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA0MCAmJiBpIDwgNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSA0MDsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDQ4ICYmIGkgPCA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDQ4OyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gNTYgJiYgaSA8IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDE7IGogPj0gNTY7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJCXCIpKSB7XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXAgYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDc7IGogPj0gMDsgaiAtPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09IDcgfHwgaiA9PSAxNSB8fCBqID09IDIzIHx8IGogPT0gMzEgfHwgaiA9PSAzOSB8fCBqID09IDQ3IHx8IGogPT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXAgYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gOTsgaiA+PSAwOyBqIC09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PSAwIHx8IGogPT0gOCB8fCBqID09IDE2IHx8IGogPT0gMjQgfHwgaiA9PSAzMiB8fCBqID09IDQwIHx8IGogPT0gNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93biBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgOTsgaiA8PSA2MzsgaiArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09IDE1IHx8IGogPT0gMjMgfHwgaiA9PSAzMSB8fCBqID09IDM5IHx8IGogPT0gNDcgfHwgaiA9PSA1NSB8fCBqID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd24gYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgNzsgaiA8PSA2MzsgaiArPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09IDggfHwgaiA9PSAxNiB8fCBqID09IDI0IHx8IGogPT0gMzIgfHwgaiA9PSA0MCB8fCBqID09IDQ4IHx8IGogPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJCTlwiKSkge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVja1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaSAtIDE1XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpIC0gMTVdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaSAtIDZdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2kgLSA2XS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2kgLSAxN10gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaSAtIDE3XS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2kgLSAxMF0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaSAtIDEwXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2kgKyAxN10gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaSArIDE3XS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2kgKyAxMF0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaSArIDEwXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2kgKyA2XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpICsgNl0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpICsgMTVdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2kgKyAxNV0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIkJRXCIpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cHdhcmRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gODsgaiA+PSAwOyBqIC09IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93bndhcmRzXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgODsgaiA8PSA2MzsgaiArPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID49IDAgJiYgaSA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IDg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA4ICYmIGkgPCAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgMTY7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSAxNiAmJiBpIDwgMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IDI0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gMjQgJiYgaSA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCAzMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDMyICYmIGkgPCA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgNDA7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA0MCAmJiBpIDwgNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IDQ4OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gNDggJiYgaSA8IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCA1NjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDU2ICYmIGkgPCA2NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgNjQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGlmIChpID49IDAgJiYgaSA8IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gOCAmJiBpIDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSA4OyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gMTYgJiYgaSA8IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDE7IGogPj0gMTY7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSAyNCAmJiBpIDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSAyNDsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDMyICYmIGkgPCA0MCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDMyOyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gNDAgJiYgaSA8IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDE7IGogPj0gNDA7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA0OCAmJiBpIDwgNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSA0ODsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJXS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDU2ICYmIGkgPCA2NCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDU2OyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXAgYW5kIHRvIHRoZSByaWdodFxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDc7IGogPj0gMDsgaiAtPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09IDcgfHwgaiA9PSAxNSB8fCBqID09IDIzIHx8IGogPT0gMzEgfHwgaiA9PSAzOSB8fCBqID09IDQ3IHx8IGogPT0gNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXAgYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gOTsgaiA+PSAwOyBqIC09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiV0tcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PSAwIHx8IGogPT0gOCB8fCBqID09IDE2IHx8IGogPT0gMjQgfHwgaiA9PSAzMiB8fCBqID09IDQwIHx8IGogPT0gNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93biBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgOTsgaiA8PSA2MzsgaiArPSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09IDE1IHx8IGogPT0gMjMgfHwgaiA9PSAzMSB8fCBqID09IDM5IHx8IGogPT0gNDcgfHwgaiA9PSA1NSB8fCBqID09IDYzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd24gYW5kIHRvIHRoZSBsZWZ0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgNzsgaiA8PSA2MzsgaiArPSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIldLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09IDggfHwgaiA9PSAxNiB8fCBqID09IDI0IHx8IGogPT0gMzIgfHwgaiA9PSA0MCB8fCBqID09IDQ4IHx8IGogPT0gNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cblxuICAgICAgICBlbHNlIGlmIChwbGF5ZXIgPT0gXCJCbGFja1wiKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDY0OyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldQXCIpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYga2luZyBpcyBpbiBjaGVja1xuICAgICAgICAgICAgICAgICAgICBpZiAoKChpIC0gNyA+PSAwICYmIGkgLSA3IDwgOCkgJiYgKGkgPj0gOCAmJiBpIDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKGkgLSA3ID49IDggJiYgaSAtIDcgPCAxNikgJiYgKGkgPj0gMTYgJiYgaSA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChpIC0gNyA+PSAxNiAmJiBpIC0gNyA8IDI0KSAmJiAoaSA+PSAyNCAmJiBpIDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKGkgLSA3ID49IDI0ICYmIGkgLSA3IDwgMzIpICYmIChpID49IDMyICYmIGkgPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoaSAtIDcgPj0gMzIgJiYgaSAtIDcgPCA0MCkgJiYgKGkgPj0gNDAgJiYgaSA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChpIC0gNyA+PSA0MCAmJiBpIC0gNyA8IDQ4KSAmJiAoaSA+PSA0OCAmJiBpIDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKGkgLSA3ID49IDQ4ICYmIGkgLSA3IDwgNTYpICYmIChpID49IDU2ICYmIGkgPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaSAtIDddLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoKChpIC0gOSA+PSAwICYmIGkgLSA5IDwgOCkgJiYgKGkgPj0gOCAmJiBpIDwgMTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKGkgLSA5ID49IDggJiYgaSAtIDkgPCAxNikgJiYgKGkgPj0gMTYgJiYgaSA8IDI0KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChpIC0gOSA+PSAxNiAmJiBpIC0gOSA8IDI0KSAmJiAoaSA+PSAyNCAmJiBpIDwgMzIpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKGkgLSA5ID49IDI0ICYmIGkgLSA5IDwgMzIpICYmIChpID49IDMyICYmIGkgPCA0MCkpXG4gICAgICAgICAgICAgICAgICAgIHx8ICgoaSAtIDkgPj0gMzIgJiYgaSAtIDkgPCA0MCkgJiYgKGkgPj0gNDAgJiYgaSA8IDQ4KSlcbiAgICAgICAgICAgICAgICAgICAgfHwgKChpIC0gOSA+PSA0MCAmJiBpIC0gOSA8IDQ4KSAmJiAoaSA+PSA0OCAmJiBpIDwgNTYpKVxuICAgICAgICAgICAgICAgICAgICB8fCAoKGkgLSA5ID49IDQ4ICYmIGkgLSA5IDwgNTYpICYmIChpID49IDU2ICYmIGkgPCA2NCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaSAtIDldLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2ldLnN0YXJ0c1dpdGgoXCJXUlwiKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgdXB3YXJkc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDg7IGogPj0gMDsgaiAtPSA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGRvd253YXJkc1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDg7IGogPD0gNjM7IGogKz0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayByaWdodFxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSAwICYmIGkgPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCA4OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gOCAmJiBpIDwgMTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IDE2OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gMTYgJiYgaSA8IDI0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCAyNDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDI0ICYmIGkgPCAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgMzI7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSAzMiAmJiBpIDwgNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IDQwOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gNDAgJiYgaSA8IDQ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCA0ODsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDQ4ICYmIGkgPCA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgNTY7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA1NiAmJiBpIDwgNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IDY0OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgbGVmdFxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSAwICYmIGkgPCA4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDggJiYgaSA8IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDE7IGogPj0gODsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDE2ICYmIGkgPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDE2OyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gMjQgJiYgaSA8IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDE7IGogPj0gMjQ7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSAzMiAmJiBpIDwgNDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSAzMjsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDQwICYmIGkgPCA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDQwOyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gNDggJiYgaSA8IDU2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDE7IGogPj0gNDg7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA1NiAmJiBpIDwgNjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSA1Njsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV0JcIikpIHtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gNzsgaiA+PSAwOyBqIC09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPT0gNyB8fCBqID09IDE1IHx8IGogPT0gMjMgfHwgaiA9PSAzMSB8fCBqID09IDM5IHx8IGogPT0gNDcgfHwgaiA9PSA1NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSA5OyBqID49IDA7IGogLT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09IDAgfHwgaiA9PSA4IHx8IGogPT0gMTYgfHwgaiA9PSAyNCB8fCBqID09IDMyIHx8IGogPT0gNDAgfHwgaiA9PSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3duIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyA5OyBqIDw9IDYzOyBqICs9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPT0gMTUgfHwgaiA9PSAyMyB8fCBqID09IDMxIHx8IGogPT0gMzkgfHwgaiA9PSA0NyB8fCBqID09IDU1IHx8IGogPT0gNjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93biBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyA3OyBqIDw9IDYzOyBqICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPT0gOCB8fCBqID09IDE2IHx8IGogPT0gMjQgfHwgaiA9PSAzMiB8fCBqID09IDQwIHx8IGogPT0gNDggfHwgaiA9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaV0uc3RhcnRzV2l0aChcIldOXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpIC0gMTVdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2kgLSAxNV0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpIC0gNl0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaSAtIDZdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaSAtIDE3XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpIC0gMTddLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaSAtIDEwXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpIC0gMTBdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaSArIDE3XSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpICsgMTddLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaSArIDEwXSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtpICsgMTBdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbaSArIDZdICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2kgKyA2XS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2kgKyAxNV0gIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbaSArIDE1XS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtpXS5zdGFydHNXaXRoKFwiV1FcIikpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIHVwd2FyZHNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSA4OyBqID49IDA7IGogLT0gOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3dud2FyZHNcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyA4OyBqIDw9IDYzOyBqICs9IDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPj0gMCAmJiBpIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgODsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDggJiYgaSA8IDE2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCAxNjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDE2ICYmIGkgPCAyNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgMjQ7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSAyNCAmJiBpIDwgMzIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IDMyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gMzIgJiYgaSA8IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCA0MDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDQwICYmIGkgPCA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgNDg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA0OCAmJiBpIDwgNTYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IDU2OyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gNTYgJiYgaSA8IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCA2NDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBlbmVteSBraW5nIGlzIGluIGNoZWNrIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPj0gMCAmJiBpIDwgOCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA4ICYmIGkgPCAxNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDg7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSAxNiAmJiBpIDwgMjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSAxNjsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDI0ICYmIGkgPCAzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDI0OyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gMzIgJiYgaSA8IDQwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDE7IGogPj0gMzI7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA+PSA0MCAmJiBpIDwgNDgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gMTsgaiA+PSA0MDsgai0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpID49IDQ4ICYmIGkgPCA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSAxOyBqID49IDQ4OyBqLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpID09IGZhbHNlICYmIGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJ8fHxcIikgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcIkJLXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGkgPj0gNTYgJiYgaSA8IDY0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaSAtIDE7IGogPj0gNTY7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSBpIC0gNzsgaiA+PSAwOyBqIC09IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPT0gNyB8fCBqID09IDE1IHx8IGogPT0gMjMgfHwgaiA9PSAzMSB8fCBqID09IDM5IHx8IGogPT0gNDcgfHwgaiA9PSA1NSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayB1cCBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgLSA5OyBqID49IDA7IGogLT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSA9PSBmYWxzZSAmJiBncmlkQ29weVtqXS5zdGFydHNXaXRoKFwifHx8XCIpID09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGdyaWRDb3B5W2pdLnN0YXJ0c1dpdGgoXCJCS1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09IDAgfHwgaiA9PSA4IHx8IGogPT0gMTYgfHwgaiA9PSAyNCB8fCBqID09IDMyIHx8IGogPT0gNDAgfHwgaiA9PSA0OCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgZW5lbXkga2luZyBpcyBpbiBjaGVjayBkb3duIGFuZCB0byB0aGUgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyA5OyBqIDw9IDYzOyBqICs9IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPT0gMTUgfHwgaiA9PSAyMyB8fCBqID09IDMxIHx8IGogPT0gMzkgfHwgaiA9PSA0NyB8fCBqID09IDU1IHx8IGogPT0gNjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGVuZW15IGtpbmcgaXMgaW4gY2hlY2sgZG93biBhbmQgdG8gdGhlIGxlZnRcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyA3OyBqIDw9IDYzOyBqICs9IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikgPT0gZmFsc2UgJiYgZ3JpZENvcHlbal0uc3RhcnRzV2l0aChcInx8fFwiKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChncmlkQ29weVtqXS5zdGFydHNXaXRoKFwiQktcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPT0gOCB8fCBqID09IDE2IHx8IGogPT0gMjQgfHwgaiA9PSAzMiB8fCBqID09IDQwIHx8IGogPT0gNDggfHwgaiA9PSA1Nikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB7IFBpZWNlLCBHYW1lYm9hcmQsIFBsYXllciB9OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/javascript.js\n");

/***/ }),

/***/ "./src/style.css":
/*!***********************!*\
  !*** ./src/style.css ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleDomAPI.js */ \"./node_modules/style-loader/dist/runtime/styleDomAPI.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertBySelector.js */ \"./node_modules/style-loader/dist/runtime/insertBySelector.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ \"./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/insertStyleElement.js */ \"./node_modules/style-loader/dist/runtime/insertStyleElement.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../node_modules/style-loader/dist/runtime/styleTagTransform.js */ \"./node_modules/style-loader/dist/runtime/styleTagTransform.js\");\n/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../node_modules/css-loader/dist/cjs.js!./style.css */ \"./node_modules/css-loader/dist/cjs.js!./src/style.css\");\n\n      \n      \n      \n      \n      \n      \n      \n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());\noptions.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());\noptions.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, \"head\");\noptions.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());\noptions.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());\n\nvar update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"], options);\n\n\n\n\n       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"] && _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals ? _node_modules_css_loader_dist_cjs_js_style_css__WEBPACK_IMPORTED_MODULE_6__[\"default\"].locals : undefined);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3R5bGUuY3NzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBLE1BQStGO0FBQy9GLE1BQXFGO0FBQ3JGLE1BQTRGO0FBQzVGLE1BQStHO0FBQy9HLE1BQXdHO0FBQ3hHLE1BQXdHO0FBQ3hHLE1BQW1HO0FBQ25HO0FBQ0E7O0FBRUE7O0FBRUEsNEJBQTRCLHFHQUFtQjtBQUMvQyx3QkFBd0Isa0hBQWE7QUFDckMsaUJBQWlCLHVHQUFhO0FBQzlCLGlCQUFpQiwrRkFBTTtBQUN2Qiw2QkFBNkIsc0dBQWtCOztBQUUvQyxhQUFhLDBHQUFHLENBQUMsc0ZBQU87Ozs7QUFJNkM7QUFDckUsT0FBTyxpRUFBZSxzRkFBTyxJQUFJLHNGQUFPLFVBQVUsc0ZBQU8sbUJBQW1CLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90ZW1wbGF0ZS8uL3NyYy9zdHlsZS5jc3M/NzE2MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5vcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGUuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/style.css\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/global */
/******/ 	(() => {
/******/ 		__webpack_require__.g = (function() {
/******/ 			if (typeof globalThis === 'object') return globalThis;
/******/ 			try {
/******/ 				return this || new Function('return this')();
/******/ 			} catch (e) {
/******/ 				if (typeof window === 'object') return window;
/******/ 			}
/******/ 		})();
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		var scriptUrl;
/******/ 		if (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + "";
/******/ 		var document = __webpack_require__.g.document;
/******/ 		if (!scriptUrl && document) {
/******/ 			if (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')
/******/ 				scriptUrl = document.currentScript.src;
/******/ 			if (!scriptUrl) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				if(scripts.length) {
/******/ 					var i = scripts.length - 1;
/******/ 					while (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;
/******/ 				}
/******/ 			}
/******/ 		}
/******/ 		// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration
/******/ 		// or pass an empty string ("") and set the __webpack_public_path__ variable from your code to use your own logic.
/******/ 		if (!scriptUrl) throw new Error("Automatic publicPath is not supported in this browser");
/******/ 		scriptUrl = scriptUrl.replace(/^blob:/, "").replace(/#.*$/, "").replace(/\?.*$/, "").replace(/\/[^\/]+$/, "/");
/******/ 		__webpack_require__.p = scriptUrl;
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"main": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// no jsonp function
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/nonce */
/******/ 	(() => {
/******/ 		__webpack_require__.nc = undefined;
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/game.js");
/******/ 	
/******/ })()
;